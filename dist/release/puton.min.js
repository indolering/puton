function syntaxHighlight(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})}(function(e,t){"use strict";function n(e){var t=e.length,n=st.type(e);return st.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=wt[e]={};return st.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(st.acceptData(e)){var o,a,s=st.expando,l="string"==typeof n,u=e.nodeType,c=u?st.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(i||c[d].data)||!l||r!==t)return d||(u?e[s]=d=Q.pop()||st.guid++:d=s),c[d]||(c[d]={},u||(c[d].toJSON=st.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[d]=st.extend(c[d],n):c[d].data=st.extend(c[d].data,n)),o=c[d],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[st.camelCase(n)]=r),l?(a=o[n],null==a&&(a=o[st.camelCase(n)])):a=o,a}}function o(e,t,n){if(st.acceptData(e)){var r,i,o,a=e.nodeType,l=a?st.cache:e,u=a?e[st.expando]:st.expando;if(l[u]){if(t&&(r=n?l[u]:l[u].data)){st.isArray(t)?t=t.concat(st.map(t,st.camelCase)):t in r?t=[t]:(t=st.camelCase(t),t=t in r?[t]:t.split(" "));for(i=0,o=t.length;o>i;i++)delete r[t[i]];if(!(n?s:st.isEmptyObject)(r))return}(n||(delete l[u].data,s(l[u])))&&(a?st.cleanData([e],!0):st.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}}function a(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(Ct,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:_t.test(r)?st.parseJSON(r):r}catch(o){}st.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!st.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,st.isFunction(t))return st.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return st.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=st.grep(e,function(e){return 1===e.nodeType});if(Bt.test(t))return st.filter(t,r,!n);t=st.filter(t,r)}return st.grep(e,function(e){return st.inArray(e,t)>=0===n})}function f(e){var t=zt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=nn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)st._data(n,"globalEval",!t||st._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&st.hasData(e)){var n,r,i,o=st._data(e),a=st._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)st.event.add(t,n,s[n][r])}a.data&&(a.data=st.extend({},a.data))}}function y(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!st.support.noCloneEvent&&t[st.expando]){r=st._data(t);for(i in r.events)st.removeEvent(t,i,r.handle);t.removeAttribute(st.expando)}"script"===n&&t.text!==e.text?(p(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),st.support.html5Clone&&e.innerHTML&&!st.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Zt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var r,i,o=0,a=e.getElementsByTagName!==t?e.getElementsByTagName(n||"*"):e.querySelectorAll!==t?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],r=e.childNodes||e;null!=(i=r[o]);o++)!n||st.nodeName(i,n)?a.push(i):st.merge(a,b(i,n));return n===t||n&&st.nodeName(e,n)?st.merge([e],a):a}function x(e){Zt.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Cn.length;i--;)if(t=Cn[i]+n,t in e)return t;return r}function _(e,t){return e=t||e,"none"===st.css(e,"display")||!st.contains(e.ownerDocument,e)}function C(e,t){for(var n,r=[],i=0,o=e.length;o>i;i++)n=e[i],n.style&&(r[i]=st._data(n,"olddisplay"),t?(r[i]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&_(n)&&(r[i]=st._data(n,"olddisplay",k(n.nodeName)))):r[i]||_(n)||st._data(n,"olddisplay",st.css(n,"display")));for(i=0;o>i;i++)n=e[i],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[i]||"":"none"));return e}function T(e,t,n){var r=gn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function S(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=st.css(e,n+_n[o],!0,i)),r?("content"===n&&(a-=st.css(e,"padding"+_n[o],!0,i)),"margin"!==n&&(a-=st.css(e,"border"+_n[o]+"Width",!0,i))):(a+=st.css(e,"padding"+_n[o],!0,i),"padding"!==n&&(a+=st.css(e,"border"+_n[o]+"Width",!0,i)));return a}function N(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=un(e),a=st.support.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=ln(e,t,o),(0>i||null==i)&&(i=e.style[t]),vn.test(i))return i;r=a&&(st.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+S(e,t,n||(a?"border":"content"),r,o)+"px"}function k(e){var t=X,n=bn[e];return n||(n=E(e,t),"none"!==n&&n||(cn=(cn||st("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),cn.detach()),bn[e]=n),n}function E(e,t){var n=st(t.createElement(e)).appendTo(t.body),r=st.css(n[0],"display");return n.remove(),r}function L(e,t,n,r){var i;if(st.isArray(t))st.each(t,function(t,i){n||Sn.test(e)?r(e,i):L(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==st.type(t))r(e,t);else for(i in t)L(e+"["+i+"]",t[i],n,r)}function A(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ut)||[];if(st.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function D(e,n,r,i){function o(l){var u;return a[l]=!0,st.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||s||a[c]?s?!(u=c):t:(n.dataTypes.unshift(c),o(c),!1)}),u}var a={},s=e===Wn;return o(n.dataTypes[0])||!a["*"]&&o("*")}function O(e,n){var r,i,o=st.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&st.extend(!0,e,i),e}function j(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function M(e,t){var n,r,i,o,a={},s=0,l=e.dataTypes.slice(),u=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=l[++s];)if("*"!==i){if("*"!==u&&u!==i){if(n=a[u+" "+i]||a["* "+i],!n)for(r in a)if(o=r.split(" "),o[1]===i&&(n=a[u+" "+o[0]]||a["* "+o[0]])){n===!0?n=a[r]:a[r]!==!0&&(i=o[0],l.splice(s--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function H(){try{return new e.XMLHttpRequest}catch(t){}}function F(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function I(){return setTimeout(function(){Kn=t}),Kn=st.now()}function P(e,t){st.each(t,function(t,n){for(var r=(rr[t]||[]).concat(rr["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function R(e,t,n){var r,i,o=0,a=nr.length,s=st.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Kn||I(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:st.extend({},t),opts:st.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||I(),duration:n.duration,tweens:[],createTween:function(t,n){var r=st.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(q(c,u.opts.specialEasing);a>o;o++)if(r=nr[o].call(u,e,c,u.opts))return r;return P(u,c),st.isFunction(u.opts.start)&&u.opts.start.call(e,u),st.fx.timer(st.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function q(e,t){var n,r,i,o,a;for(n in e)if(r=st.camelCase(n),i=t[r],o=e[n],st.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=st.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o,a,s,l,u,c,d,f=this,h=e.style,p={},m=[],g=e.nodeType&&_(e);n.queue||(c=st._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,st.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===st.css(e,"display")&&"none"===st.css(e,"float")&&(st.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",st.support.shrinkWrapBlocks||f.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Zn.exec(o)){if(delete t[r],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(r)}if(a=m.length){s=st._data(e,"fxshow")||st._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?st(e).show():f.done(function(){st(e).hide()}),f.done(function(){var t;st._removeData(e,"fxshow");for(t in p)st.style(e,t,p[t])});for(r=0;a>r;r++)i=m[r],u=f.createTween(i,g?s[i]:0),p[i]=s[i]||st.style(e,i),i in s||(s[i]=u.start,g&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function W(e,t,n,r,i){return new W.prototype.init(e,t,n,r,i)}function $(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=_n[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function z(e){return st.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V,U,X=e.document,J=e.location,G=e.jQuery,Y=e.$,K={},Q=[],Z="1.9.0",et=Q.concat,tt=Q.push,nt=Q.slice,rt=Q.indexOf,it=K.toString,ot=K.hasOwnProperty,at=Z.trim,st=function(e,t){return new st.fn.init(e,t,V)},lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^[\],:{}\s]*$/,pt=/(?:^|:|,)(?:\s*\[)+/g,mt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,gt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,yt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},xt=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",xt,!1),st.ready()):"complete"===X.readyState&&(X.detachEvent("onreadystatechange",xt),st.ready())};st.fn=st.prototype={jquery:Z,constructor:st,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:dt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof st?n[0]:n,st.merge(this,st.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),ft.test(i[1])&&st.isPlainObject(n))for(i in n)st.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=X.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):st.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),st.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=st.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return st.each(this,e,t)},ready:function(e){return st.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(st.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:tt,sort:[].sort,splice:[].splice},st.fn.init.prototype=st.fn,st.extend=st.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||st.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(st.isPlainObject(i)||(o=st.isArray(i)))?(o?(o=!1,a=r&&st.isArray(r)?r:[]):a=r&&st.isPlainObject(r)?r:{},s[n]=st.extend(c,a,i)):i!==t&&(s[n]=i));return s},st.extend({noConflict:function(t){return e.$===st&&(e.$=Y),t&&e.jQuery===st&&(e.jQuery=G),st},isReady:!1,readyWait:1,holdReady:function(e){e?st.readyWait++:st.ready(!0)},ready:function(e){if(e===!0?!--st.readyWait:!st.isReady){if(!X.body)return setTimeout(st.ready);st.isReady=!0,e!==!0&&--st.readyWait>0||(U.resolveWith(X,[st]),st.fn.trigger&&st(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===st.type(e)},isArray:Array.isArray||function(e){return"array"===st.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[it.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==st.type(e)||e.nodeType||st.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||ot.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=ft.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=st.buildFragment([e],t,i),i&&st(i).remove(),st.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=st.trim(n),n&&ht.test(n.replace(mt,"@").replace(gt,"]").replace(pt,"")))?Function("return "+n)():(st.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&st.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(yt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:at&&!at.call("﻿ ")?function(e){return null==e?"":at.call(e)}:function(e){return null==e?"":(e+"").replace(ct,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?st.merge(r,"string"==typeof e?[e]:e):tt.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(rt)return rt.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&(l[l.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(l[l.length]=i);return et.apply([],l)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),st.isFunction(e)?(i=nt.call(arguments,2),o=function(){return e.apply(n||this,i.concat(nt.call(arguments)))},o.guid=e.guid=e.guid||st.guid++,o):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===st.type(r)){o=!0;for(l in r)st.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,st.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(st(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()}}),st.ready.promise=function(t){if(!U)if(U=st.Deferred(),"complete"===X.readyState)setTimeout(st.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",xt,!1),e.addEventListener("load",st.ready,!1);else{X.attachEvent("onreadystatechange",xt),e.attachEvent("onload",st.ready);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!st.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}st.ready()}}()}return U.promise(t)},st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()}),V=st(X);var wt={};st.Callbacks=function(e){e="string"==typeof e?wt[e]||r(e):st.extend({},e);var n,i,o,a,s,l,u=[],c=!e.once&&[],d=function(t){for(n=e.memory&&t,i=!0,l=a||0,a=0,s=u.length,o=!0;u&&s>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):n?u=[]:f.disable())},f={add:function(){if(u){var t=u.length;(function r(t){st.each(t,function(t,n){var i=st.type(n);"function"===i?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==i&&r(n)})})(arguments),o?s=u.length:n&&(a=t,d(n))}return this},remove:function(){return u&&st.each(arguments,function(e,t){for(var n;(n=st.inArray(t,u,n))>-1;)u.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return st.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=n=t,this},disabled:function(){return!u},lock:function(){return c=t,n||f.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!c||(o?c.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},st.extend({Deferred:function(e){var t=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return st.Deferred(function(n){st.each(t,function(t,o){var a=o[0],s=st.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&st.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?st.extend(e,r):r}},i={};return r.pipe=r.then,st.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=nt.call(arguments),a=o.length,s=1!==a||e&&st.isFunction(e.promise)?a:0,l=1===s?e:st.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?nt.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=Array(a),n=Array(a),r=Array(a);a>i;i++)o[i]&&st.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),st.support=function(){var n,r,i,o,a,s,l,u,c,d,f=X.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=f.getElementsByTagName("*"),i=f.getElementsByTagName("a")[0],!r||!i||!r.length)return{};o=X.createElement("select"),a=o.appendChild(X.createElement("option")),s=f.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",n={getSetAttribute:"t"!==f.className,leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!s.value,optSelected:a.selected,enctype:!!X.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===X.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,n.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,n.optDisabled=!a.disabled;try{delete f.test}catch(h){n.deleteExpando=!1}s=X.createElement("input"),s.setAttribute("value",""),n.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),n.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),l=X.createDocumentFragment(),l.appendChild(s),n.appendChecked=s.checked,n.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,f.attachEvent&&(f.attachEvent("onclick",function(){n.noCloneEvent=!1}),f.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})f.setAttribute(u="on"+d,"t"),n[d+"Bubbles"]=u in e||f.attributes[u].expando===!1;return f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",n.clearCloneStyle="content-box"===f.style.backgroundClip,st(function(){var r,i,o,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=X.getElementsByTagName("body")[0];s&&(r=X.createElement("div"),r.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(r).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=f.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",n.reliableHiddenOffsets=c&&0===o[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",n.boxSizing=4===f.offsetWidth,n.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(n.pixelPosition="1%"!==(e.getComputedStyle(f,null)||{}).top,n.boxSizingReliable="4px"===(e.getComputedStyle(f,null)||{width:"4px"}).width,i=f.appendChild(X.createElement("div")),i.style.cssText=f.style.cssText=a,i.style.marginRight=i.style.width="0",f.style.width="1px",n.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),f.style.zoom!==t&&(f.innerHTML="",f.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",n.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",n.shrinkWrapBlocks=3!==f.offsetWidth,s.style.zoom=1),s.removeChild(r),r=f=o=i=null)}),r=o=l=a=i=s=null,n}();var _t=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ct=/([A-Z])/g;st.extend({cache:{},expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?st.cache[e[st.expando]]:e[st.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n,!1)},removeData:function(e,t){return o(e,t,!1)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){var t=e.nodeName&&st.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),st.fn.extend({data:function(e,n){var r,i,o=this[0],s=0,l=null;if(e===t){if(this.length&&(l=st.data(o),1===o.nodeType&&!st._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>s;s++)i=r[s].name,i.indexOf("data-")||(i=st.camelCase(i.substring(5)),a(o,i,l[i]));st._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){st.data(this,e)}):st.access(this,function(n){return n===t?o?a(o,e,st.data(o,e)):null:(this.each(function(){st.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){st.removeData(this,e)})}}),st.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=st._data(e,n),r&&(!i||st.isArray(r)?i=st._data(e,n,st.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=st.queue(e,t),r=n.length,i=n.shift(),o=st._queueHooks(e,t),a=function(){st.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return st._data(e,n)||st._data(e,n,{empty:st.Callbacks("once memory").add(function(){st._removeData(e,t+"queue"),st._removeData(e,n)})})}}),st.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?st.queue(this[0],e):n===t?this:this.each(function(){var t=st.queue(this,e,n);st._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&st.dequeue(this,e)})},dequeue:function(e){return this.each(function(){st.dequeue(this,e)})},delay:function(e,t){return e=st.fx?st.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=st.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=st._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var Tt,St,Nt=/[\t\r\n]/g,kt=/\r/g,Et=/^(?:input|select|textarea|button|object)$/i,Lt=/^(?:a|area)$/i,At=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Dt=/^(?:checked|selected)$/i,Ot=st.support.getSetAttribute,jt=st.support.input;st.fn.extend({attr:function(e,t){return st.access(this,st.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){st.removeAttr(this,e)})},prop:function(e,t){return st.access(this,st.prop,e,t,arguments.length>1)},removeProp:function(e){return e=st.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):" ")){for(o=0;i=t[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=st.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?st.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return st.isFunction(e)?this.each(function(n){st(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=st(this),s=t,l=e.match(ut)||[];i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||e===!1?"":st._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Nt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=st.isFunction(e),this.each(function(r){var o,a=st(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":st.isArray(o)&&(o=st.map(o,function(e){return null==e?"":e+""})),n=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=st.valHooks[o.type]||st.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(kt,""):null==r?"":r)}}}),st.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(st.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&st.nodeName(n.parentNode,"optgroup"))){if(t=st(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=st.makeArray(t);return st(e).find("option").each(function(){this.selected=st.inArray(st(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return e.getAttribute===t?st.prop(e,n,r):(a=1!==s||!st.isXMLDoc(e),a&&(n=n.toLowerCase(),o=st.attrHooks[n]||(At.test(n)?St:Tt)),r===t?o&&a&&"get"in o&&null!==(i=o.get(e,n))?i:(e.getAttribute!==t&&(i=e.getAttribute(n)),null==i?t:i):null!==r?o&&a&&"set"in o&&(i=o.set(e,r,n))!==t?i:(e.setAttribute(n,r+""),r):(st.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ut);if(o&&1===e.nodeType)for(;n=o[i++];)r=st.propFix[n]||n,At.test(n)?!Ot&&Dt.test(n)?e[st.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:st.attr(e,n,""),e.removeAttribute(Ot?n:r)},attrHooks:{type:{set:function(e,t){if(!st.support.radioValue&&"radio"===t&&st.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!st.isXMLDoc(e),a&&(n=st.propFix[n]||n,o=st.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Et.test(e.nodeName)||Lt.test(e.nodeName)&&e.href?0:t}}}}),St={get:function(e,n){var r=st.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?jt&&Ot?null!=i:Dt.test(n)?e[st.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);
return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?st.removeAttr(e,n):jt&&Ot||!Dt.test(n)?e.setAttribute(!Ot&&st.propFix[n]||n,n):e[st.camelCase("default-"+n)]=e[n]=!0,n}},jt&&Ot||(st.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return st.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return st.nodeName(e,"input")?(e.defaultValue=n,t):Tt&&Tt.set(e,n,r)}}),Ot||(Tt=st.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},st.attrHooks.contenteditable={get:Tt.get,set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},st.each(["width","height"],function(e,n){st.attrHooks[n]=st.extend(st.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),st.support.hrefNormalized||(st.each(["href","src","width","height"],function(e,n){st.attrHooks[n]=st.extend(st.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),st.each(["href","src"],function(e,t){st.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),st.support.style||(st.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),st.support.optSelected||(st.propHooks.selected=st.extend(st.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),st.support.enctype||(st.propFix.enctype="encoding"),st.support.checkOn||st.each(["radio","checkbox"],function(){st.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]=st.extend(st.valHooks[this],{set:function(e,n){return st.isArray(n)?e.checked=st.inArray(st(e).val(),n)>=0:t}})});var Mt=/^(?:input|select|textarea)$/i,Ht=/^key/,Ft=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Pt=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(e,n,r,i,o){var a,s,l,u,c,d,f,h,p,m,g,v=3!==e.nodeType&&8!==e.nodeType&&st._data(e);if(v){for(r.handler&&(a=r,r=a.handler,o=a.selector),r.guid||(r.guid=st.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return st===t||e&&st.event.triggered===e.type?t:st.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=(n||"").match(ut)||[""],c=n.length;c--;)l=Pt.exec(n[c])||[],p=g=l[1],m=(l[2]||"").split(".").sort(),f=st.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=st.event.special[p]||{},d=st.extend({type:p,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&st.expr.match.needsContext.test(o),namespace:m.join(".")},a),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&f.setup.call(e,i,m,s)!==!1||(e.addEventListener?e.addEventListener(p,s,!1):e.attachEvent&&e.attachEvent("on"+p,s))),f.add&&(f.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),st.event.global[p]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,m,g=st.hasData(e)&&st._data(e);if(g&&(l=g.events)){for(t=(t||"").match(ut)||[""],u=t.length;u--;)if(s=Pt.exec(t[u])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h){for(d=st.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||st.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)st.event.remove(e,h+t[u],n,r,!0);st.isEmptyObject(l)&&(delete g.handle,st._removeData(e,"events"))}},trigger:function(n,r,i,o){var a,s,l,u,c,d,f,h=[i||X],p=n.type||n,m=n.namespace?n.namespace.split("."):[];if(s=l=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!It.test(p+st.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),c=0>p.indexOf(":")&&"on"+p,n=n[st.expando]?n:new st.Event(p,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:st.makeArray(r,[n]),f=st.event.special[p]||{},o||!f.trigger||f.trigger.apply(i,r)!==!1)){if(!o&&!f.noBubble&&!st.isWindow(i)){for(u=f.delegateType||p,It.test(u+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(i.ownerDocument||X)&&h.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=h[a++])&&!n.isPropagationStopped();)n.type=a>1?u:f.bindType||p,d=(st._data(s,"events")||{})[n.type]&&st._data(s,"handle"),d&&d.apply(s,r),d=c&&s[c],d&&st.acceptData(s)&&d.apply&&d.apply(s,r)===!1&&n.preventDefault();if(n.type=p,!(o||n.isDefaultPrevented()||f._default&&f._default.apply(i.ownerDocument,r)!==!1||"click"===p&&st.nodeName(i,"a")||!st.acceptData(i)||!c||!i[p]||st.isWindow(i))){l=i[c],l&&(i[c]=null),st.event.triggered=p;try{i[p]()}catch(g){}st.event.triggered=t,l&&(i[c]=l)}return n.result}},dispatch:function(e){e=st.event.fix(e);var n,r,i,o,a,s=[],l=nt.call(arguments),u=(st._data(this,"events")||{})[e.type]||[],c=st.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=st.event.handlers.call(this,e,u),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((st.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(i=[],r=0;l>r;r++)a=n[r],o=a.selector+" ",i[o]===t&&(i[o]=a.needsContext?st(o,this).index(u)>=0:st.find(o,this,null,[u]).length),i[o]&&i.push(a);i.length&&s.push({elem:u,handlers:i})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[st.expando])return e;var t,n,r=e,i=st.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=new st.Event(r),t=o.length;t--;)n=o[t],e[n]=r[n];return e.target||(e.target=r.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==X.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===X.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=st.extend(new st.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?st.event.trigger(i,null,t):st.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},st.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,n,r){var i="on"+n;e.detachEvent&&(e[i]===t&&(e[i]=null),e.detachEvent(i,r))},st.Event=function(e,n){return this instanceof st.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,n&&st.extend(this,n),this.timeStamp=e&&e.timeStamp||st.now(),this[st.expando]=!0,t):new st.Event(e,n)},st.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){st.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!st.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),st.support.submitBubbles||(st.event.special.submit={setup:function(){return st.nodeName(this,"form")?!1:(st.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=st.nodeName(n,"input")||st.nodeName(n,"button")?n.form:t;r&&!st._data(r,"submitBubbles")&&(st.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),st._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&st.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return st.nodeName(this,"form")?!1:(st.event.remove(this,"._submit"),t)}}),st.support.changeBubbles||(st.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,e,!0)})),!1):(st.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!st._data(t,"changeBubbles")&&(st.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||st.event.simulate("change",this.parentNode,e,!0)}),st._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return st.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),st.support.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){st.event.simulate(t,e.target,st.event.fix(e),!0)};st.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,r,!0)},teardown:function(){0===--n&&X.removeEventListener(e,r,!0)}}}),st.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(s in e)this.on(s,n,r,e[s],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=u;else if(!i)return this;return 1===o&&(a=i,i=function(e){return st().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=st.guid++)),this.each(function(){st.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,st(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=u),this.each(function(){st.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){st.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?st.event.trigger(e,n,r,!0):t},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){st.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ht.test(t)&&(st.event.fixHooks[t]=st.event.keyHooks),Ft.test(t)&&(st.event.fixHooks[t]=st.event.mouseHooks)}),function(e,t){function n(e){return pt.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>T.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[R]=!0,e}function o(e){var t=D.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,r){var i,o,a,s,l,u,c,h,p,m;if((t?t.ownerDocument||t:q)!==D&&A(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!j&&!r){if(i=mt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,Q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&B.getByClassName&&t.getElementsByClassName)return K.apply(n,Q.call(t.getElementsByClassName(a),0)),n}if(B.qsa&&!M.test(e)){if(c=!0,h=R,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=d(e),(c=t.getAttribute("id"))?h=c.replace(yt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+f(u[l]);p=ht.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return K.apply(n,Q.call(p.querySelectorAll(m),0)),n}catch(g){}finally{c||t.removeAttribute("id")}}}return x(e.replace(at,"$1"),t,n,r)}function s(e,t){for(var n=e&&t&&e.nextSibling;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function d(e,t){var n,r,i,o,s,l,u,c=V[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=T.preFilter;s;){(!n||(r=lt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=ut.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(at," ")}),s=s.slice(n.length));for(o in T.filter)!(r=ft[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):V(e,l).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===t.dir,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u,c=W+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(u=t[R]||(t[R]={}),(l=u[r])&&l[0]===c){if((s=l[1])===!0||s===C)return s===!0}else if(l=u[r]=[c],l[1]=e(t,n,a)||C,l[1]===!0)return!0}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function g(e,t,n,r,o,a){return r&&!r[R]&&(r=g(r)),o&&!o[R]&&(o=g(o,a)),i(function(i,a,s,l){var u,c,d,f=[],h=[],p=a.length,g=i||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:m(g,f,e,s,l),y=n?o||(i?e:p||r)?[]:a:v;if(n&&n(v,y,s,l),r)for(u=m(y,h),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(v[h[c]]=d));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?Z.call(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):K.apply(a,y)})}function v(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return Z.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==L)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=T.relative[e[s].type])c=[h(p(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[R]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return g(s>1&&p(c),s>1&&f(e.slice(0,s-1)).replace(at,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&f(e))}c.push(n)}return p(c)}function y(e,t){var n=0,r=t.length>0,o=e.length>0,s=function(i,s,l,u,c){var d,f,h,p=[],g=0,v="0",y=i&&[],b=null!=c,x=L,w=i||o&&T.find.TAG("*",c&&s.parentNode||s),_=W+=null==x?1:Math.E;for(b&&(L=s!==D&&s,C=n);null!=(d=w[v]);v++){if(o&&d){for(f=0;h=e[f];f++)if(h(d,s,l)){u.push(d);break}b&&(W=_,C=++n)}r&&((d=!h&&d)&&g--,i&&y.push(d))}if(g+=v,r&&v!==g){for(f=0;h=t[f];f++)h(y,p,s,l);if(i){if(g>0)for(;v--;)y[v]||p[v]||(p[v]=Y.call(u));p=m(p)}K.apply(u,p),b&&!i&&p.length>0&&g+t.length>1&&a.uniqueSort(u)}return b&&(W=_,L=x),y};return r?i(s):s}function b(e,t,n){for(var r=0,i=t.length;i>r;r++)a(e,t[r],n);return n}function x(e,t,n,r){var i,o,a,s,l,u=d(e);if(!r&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!j&&T.relative[o[1].type]){if(t=T.find.ID(a.matches[0].replace(xt,wt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ft.needsContext.test(e)?-1:o.length-1;i>=0&&(a=o[i],!T.relative[s=a.type]);i--)if((l=T.find[s])&&(r=l(a.matches[0].replace(xt,wt),ht.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,Q.call(r,0)),n;break}}return k(e,u)(r,t,j,n,ht.test(e)),n}function w(){}var _,C,T,S,N,k,E,L,A,D,O,j,M,H,F,I,P,R="sizzle"+-new Date,q=e.document,B={},W=0,$=0,z=r(),V=r(),U=r(),X=typeof t,J=1<<31,G=[],Y=G.pop,K=G.push,Q=G.slice,Z=G.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),rt="([*^$|!~]?=)",it="\\["+et+"*("+tt+")"+et+"*(?:"+rt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",at=RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),lt=RegExp("^"+et+"*,"+et+"*"),ut=RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=RegExp(ot),dt=RegExp("^"+nt+"$"),ft={ID:RegExp("^#("+tt+")"),CLASS:RegExp("^\\.("+tt+")"),NAME:RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:RegExp("^("+tt.replace("w","w*")+")"),ATTR:RegExp("^"+it),PSEUDO:RegExp("^"+ot),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ht=/[\x20\t\r\n\f]*[+~]/,pt=/\{\s*\[native code\]\s*\}/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Q.call(O.childNodes,0)[0].nodeType}catch(_t){Q=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}N=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=a.setDocument=function(e){var r=e?e.ownerDocument||e:q;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,O=r.documentElement,j=N(r),B.tagNameNoComments=o(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),B.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),B.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),B.getByName=o(function(e){e.id=R+0,e.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>",O.insertBefore(e,O.firstChild);var t=r.getElementsByName&&r.getElementsByName(R).length===2+r.getElementsByName(R+0).length;return B.getIdNotName=!r.getElementById(R),O.removeChild(e),t}),T.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==X&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},B.getIdNotName?(T.find.ID=function(e,t){if(typeof t.getElementById!==X&&!j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(T.find.ID=function(e,n){if(typeof n.getElementById!==X&&!j){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==X&&r.getAttributeNode("id").value===e?[r]:t:[]}},T.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=B.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==X?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i];i++)1===n.nodeType&&r.push(n);return r}return o},T.find.NAME=B.getByName&&function(e,n){return typeof n.getElementsByName!==X?n.getElementsByName(name):t},T.find.CLASS=B.getByClassName&&function(e,n){return typeof n.getElementsByClassName===X||j?t:n.getElementsByClassName(e)},H=[],M=[":focus"],(B.qsa=n(r.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||M.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&M.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(B.matchesSelector=n(F=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){B.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),H.push("!=",ot)}),M=RegExp(M.join("|")),H=RegExp(H.join("|")),I=n(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=O.compareDocumentPosition?function(e,t){var n;return e===t?(E=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===r||I(q,e)?-1:t===r||I(q,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(e===t)return E=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||J)-(I(q,e)&&~e.sourceIndex||J);if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?s(l[i],u[i]):l[i]===q?-1:u[i]===q?1:0},E=!1,[0,0].sort(P),B.detectDuplicates=E,D):D},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&A(e),t=t.replace(bt,"='$1']"),!(!B.matchesSelector||j||H&&H.test(t)||M.test(t)))try{var n=F.call(e,t);if(n||B.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return a(t,D,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==D&&A(e),I(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==D&&A(e),j||(t=t.toLowerCase()),(n=T.attrHandle[t])?n(e):j||B.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],r=1,i=0;if(E=!B.detectDuplicates,e.sort(P),E){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},S=a.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=S(t);return n},T=a.selectors={cacheLength:50,createPseudo:i,match:ft,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[e+" "];return t||(t=RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&z(e,function(e){return t.test(e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=a.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.substr(i.length-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(c=g[R]||(g[R]={}),u=c[e]||[],h=u[0]===W&&u[1],f=u[0]===W&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,h,f];break}}else if(y&&(u=(t[R]||(t[R]={}))[e])&&u[0]===W)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[R]||(d[R]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=T.pseudos[e]||T.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return r[R]?r(t):r.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=Z.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=k(e.replace(at,"$1"));return r[R]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return a(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return dt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=j?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}};for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[_]=l(_);for(_ in{submit:!0,reset:!0})T.pseudos[_]=u(_);k=a.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=v(t[n]),o[R]?r.push(o):i.push(o);o=U(e,y(i,r))}return o},T.pseudos.nth=T.pseudos.eq,T.filters=w.prototype=T.pseudos,T.setFilters=new w,A(),a.attr=st.attr,st.find=a,st.expr=a.selectors,st.expr[":"]=st.expr.pseudos,st.unique=a.uniqueSort,st.text=a.getText,st.isXMLDoc=a.isXML,st.contains=a.contains}(e);var Rt=/Until$/,qt=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,Wt=st.expr.match.needsContext,$t={children:!0,contents:!0,next:!0,prev:!0};st.fn.extend({find:function(e){var t,n,r;if("string"!=typeof e)return r=this,this.pushStack(st(e).filter(function(){for(t=0;r.length>t;t++)if(st.contains(r[t],this))return!0}));for(n=[],t=0;this.length>t;t++)st.find(e,this[t],n);return n=this.pushStack(st.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=st(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(st.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Wt.test(e)?st(e,this.context).index(this[0])>=0:st.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Wt.test(e)||"string"!=typeof e?st(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:st.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?st.unique(o):o)},index:function(e){return e?"string"==typeof e?st.inArray(this[0],st(e)):st.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?st(e,t):st.makeArray(e&&e.nodeType?[e]:e),r=st.merge(this.get(),n);return this.pushStack(st.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))
}}),st.fn.andSelf=st.fn.addBack,st.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return st.dir(e,"parentNode")},parentsUntil:function(e,t,n){return st.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return st.dir(e,"nextSibling")},prevAll:function(e){return st.dir(e,"previousSibling")},nextUntil:function(e,t,n){return st.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return st.dir(e,"previousSibling",n)},siblings:function(e){return st.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return st.sibling(e.firstChild)},contents:function(e){return st.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:st.merge([],e.childNodes)}},function(e,t){st.fn[e]=function(n,r){var i=st.map(this,t,n);return Rt.test(e)||(r=n),r&&"string"==typeof r&&(i=st.filter(r,i)),i=this.length>1&&!$t[e]?st.unique(i):i,this.length>1&&qt.test(e)&&(i=i.reverse()),this.pushStack(i)}}),st.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?st.find.matchesSelector(t[0],e)?[t[0]]:[]:st.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!st(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vt=/ jQuery\d+="(?:null|\d+)"/g,Ut=RegExp("<(?:"+zt+")[\\s/>]","i"),Xt=/^\s+/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Gt=/<([\w:]+)/,Yt=/<tbody/i,Kt=/<|&#?\w+;/,Qt=/<(?:script|style|link)/i,Zt=/^(?:checkbox|radio)$/i,en=/checked\s*(?:[^=]|=\s*.checked.)/i,tn=/^$|\/(?:java|ecma)script/i,nn=/^true\/(.*)/,rn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,on={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:st.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},an=f(X),sn=an.appendChild(X.createElement("div"));on.optgroup=on.option,on.tbody=on.tfoot=on.colgroup=on.caption=on.thead,on.th=on.td,st.fn.extend({text:function(e){return st.access(this,function(e){return e===t?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(st.isFunction(e))return this.each(function(t){st(this).wrapAll(e.call(this,t))});if(this[0]){var t=st(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return st.isFunction(e)?this.each(function(t){st(this).wrapInner(e.call(this,t))}):this.each(function(){var t=st(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=st.isFunction(e);return this.each(function(n){st(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||st.filter(e,[n]).length>0)&&(t||1!==n.nodeType||st.cleanData(b(n)),n.parentNode&&(t&&st.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&st.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&st.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return st.clone(this,e,t)})},html:function(e){return st.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Vt,""):t;if(!("string"!=typeof e||Qt.test(e)||!st.support.htmlSerialize&&Ut.test(e)||!st.support.leadingWhitespace&&Xt.test(e)||on[(Gt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(st.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=st.isFunction(e);return t||"string"==typeof e||(e=st(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;(n&&1===this.nodeType||11===this.nodeType)&&(st(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=et.apply([],e);var i,o,a,s,l,u,c=0,d=this.length,f=this,g=d-1,v=e[0],y=st.isFunction(v);if(y||!(1>=d||"string"!=typeof v||st.support.checkClone)&&en.test(v))return this.each(function(i){var o=f.eq(i);y&&(e[0]=v.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(d&&(i=st.buildFragment(e,this[0].ownerDocument,!1,this),o=i.firstChild,1===i.childNodes.length&&(i=o),o)){for(n=n&&st.nodeName(o,"tr"),a=st.map(b(i,"script"),p),s=a.length;d>c;c++)l=i,c!==g&&(l=st.clone(l,!0,!0),s&&st.merge(a,b(l,"script"))),r.call(n&&st.nodeName(this[c],"table")?h(this[c],"tbody"):this[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,st.map(a,m),c=0;s>c;c++)l=a[c],tn.test(l.type||"")&&!st._data(l,"globalEval")&&st.contains(u,l)&&(l.src?st.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):st.globalEval((l.text||l.textContent||l.innerHTML||"").replace(rn,"")));i=o=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){st.fn[e]=function(e){for(var n,r=0,i=[],o=st(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),st(o[r])[t](n),tt.apply(i,n.get());return this.pushStack(i)}}),st.extend({clone:function(e,t,n){var r,i,o,a,s,l=st.contains(e.ownerDocument,e);if(st.support.html5Clone||st.isXMLDoc(e)||!Ut.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(sn.innerHTML=e.outerHTML,sn.removeChild(s=sn.firstChild)),!(st.support.noCloneEvent&&st.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||st.isXMLDoc(e)))for(r=b(s),i=b(e),a=0;null!=(o=i[a]);++a)r[a]&&y(o,r[a]);if(t)if(n)for(i=i||b(e),r=r||b(s),a=0;null!=(o=i[a]);a++)v(o,r[a]);else v(e,s);return r=b(s,"script"),r.length>0&&g(r,!l&&b(e,"script")),r=i=o=null,s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,d=e.length,h=f(t),p=[],m=0;d>m;m++)if(o=e[m],o||0===o)if("object"===st.type(o))st.merge(p,o.nodeType?[o]:o);else if(Kt.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Gt.exec(o)||["",""])[1].toLowerCase(),l=on[a]||on._default,s.innerHTML=l[1]+o.replace(Jt,"<$1></$2>")+l[2],c=l[0];c--;)s=s.lastChild;if(!st.support.leadingWhitespace&&Xt.test(o)&&p.push(t.createTextNode(Xt.exec(o)[0])),!st.support.tbody)for(o="table"!==a||Yt.test(o)?"<table>"!==l[1]||Yt.test(o)?0:s:s.firstChild,c=o&&o.childNodes.length;c--;)st.nodeName(u=o.childNodes[c],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(st.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(o));for(s&&h.removeChild(s),st.support.appendChecked||st.grep(b(p,"input"),x),m=0;o=p[m++];)if((!r||-1===st.inArray(o,r))&&(i=st.contains(o.ownerDocument,o),s=b(h.appendChild(o),"script"),i&&g(s),n))for(c=0;o=s[c++];)tn.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(e,n){for(var r,i,o,a,s=0,l=st.expando,u=st.cache,c=st.support.deleteExpando,d=st.event.special;null!=(o=e[s]);s++)if((n||st.acceptData(o))&&(i=o[l],r=i&&u[i])){if(r.events)for(a in r.events)d[a]?st.event.remove(o,a):st.removeEvent(o,a,r.handle);u[i]&&(delete u[i],c?delete o[l]:o.removeAttribute!==t?o.removeAttribute(l):o[l]=null,Q.push(i))}}});var ln,un,cn,dn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,hn=/^(top|right|bottom|left)$/,pn=/^(none|table(?!-c[ea]).+)/,mn=/^margin/,gn=RegExp("^("+lt+")(.*)$","i"),vn=RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yn=RegExp("^([+-])=("+lt+")","i"),bn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},wn={letterSpacing:0,fontWeight:400},_n=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"];st.fn.extend({css:function(e,n){return st.access(this,function(e,n,r){var i,o,a={},s=0;if(st.isArray(n)){for(i=un(e),o=n.length;o>s;s++)a[n[s]]=st.css(e,n[s],!1,i);return a}return r!==t?st.style(e,n,r):st.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:_(this))?st(this).show():st(this).hide()})}}),st.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ln(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":st.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=st.camelCase(n),u=e.style;if(n=st.cssProps[l]||(st.cssProps[l]=w(u,l)),s=st.cssHooks[n]||st.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=yn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(st.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||st.cssNumber[l]||(r+="px"),st.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=st.camelCase(n);return n=st.cssProps[l]||(st.cssProps[l]=w(e.style,l)),s=st.cssHooks[n]||st.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=ln(e,n,i)),"normal"===o&&n in wn&&(o=wn[n]),r?(a=parseFloat(o),r===!0||st.isNumeric(a)?a||0:o):o},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(un=function(t){return e.getComputedStyle(t,null)},ln=function(e,n,r){var i,o,a,s=r||un(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||st.contains(e.ownerDocument,e)||(l=st.style(e,n)),vn.test(l)&&mn.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):X.documentElement.currentStyle&&(un=function(e){return e.currentStyle},ln=function(e,n,r){var i,o,a,s=r||un(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),vn.test(l)&&!hn.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l}),st.each(["height","width"],function(e,n){st.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&pn.test(st.css(e,"display"))?st.swap(e,xn,function(){return N(e,n,i)}):N(e,n,i):t},set:function(e,t,r){var i=r&&un(e);return T(e,t,r?S(e,n,r,st.support.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,i),i):0)}}}),st.support.opacity||(st.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=st.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===st.trim(o.replace(dn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=dn.test(o)?o.replace(dn,i):o+" "+i)}}),st(function(){st.support.reliableMarginRight||(st.cssHooks.marginRight={get:function(e,n){return n?st.swap(e,{display:"inline-block"},ln,[e,"marginRight"]):t}}),!st.support.pixelPosition&&st.fn.position&&st.each(["top","left"],function(e,n){st.cssHooks[n]={get:function(e,r){return r?(r=ln(e,n),vn.test(r)?st(e).position()[n]+"px":r):t}}})}),st.expr&&st.expr.filters&&(st.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!st.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||st.css(e,"display"))},st.expr.filters.visible=function(e){return!st.expr.filters.hidden(e)}),st.each({margin:"",padding:"",border:"Width"},function(e,t){st.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+_n[r]+t]=o[r]||o[r-2]||o[0];return i}},mn.test(e)||(st.cssHooks[e+t].set=T)});var Tn=/%20/g,Sn=/\[\]$/,Nn=/\r?\n/g,kn=/^(?:submit|button|image|reset)$/i,En=/^(?:input|select|textarea|keygen)/i;st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=st.prop(this,"elements");return e?st.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!st(this).is(":disabled")&&En.test(this.nodeName)&&!kn.test(e)&&(this.checked||!Zt.test(e))}).map(function(e,t){var n=st(this).val();return null==n?null:st.isArray(n)?st.map(n,function(e){return{name:t.name,value:e.replace(Nn,"\r\n")}}):{name:t.name,value:n.replace(Nn,"\r\n")}}).get()}}),st.param=function(e,n){var r,i=[],o=function(e,t){t=st.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(e)||e.jquery&&!st.isPlainObject(e))st.each(e,function(){o(this.name,this.value)});else for(r in e)L(r,e[r],n,o);return i.join("&").replace(Tn,"+")};var Ln,An,Dn=st.now(),On=/\?/,jn=/#.*$/,Mn=/([?&])_=[^&]*/,Hn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,In=/^(?:GET|HEAD)$/,Pn=/^\/\//,Rn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qn=st.fn.load,Bn={},Wn={},$n="*/".concat("*");try{An=J.href}catch(zn){An=X.createElement("a"),An.href="",An=An.href}Ln=Rn.exec(An.toLowerCase())||[],st.fn.load=function(e,n,r){if("string"!=typeof e&&qn)return qn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),st.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&st.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?st("<div>").append(st.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){st.fn[t]=function(e){return this.on(t,e)}}),st.each(["get","post"],function(e,n){st[n]=function(e,r,i,o){return st.isFunction(r)&&(o=o||i,i=r,r=t),st.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:An,type:"GET",isLocal:Fn.test(Ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$n,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,st.ajaxSettings),t):O(st.ajaxSettings,e)},ajaxPrefilter:A(Bn),ajaxTransport:A(Wn),ajax:function(e,n){function r(e,n,r,s){var u,d,y,b,w,C=n;2!==x&&(x=2,l&&clearTimeout(l),i=t,a=s||"",_.readyState=e>0?4:0,r&&(b=j(f,_,r)),e>=200&&300>e||304===e?(f.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(st.lastModified[o]=w),w=_.getResponseHeader("etag"),w&&(st.etag[o]=w)),304===e?(u=!0,C="notmodified"):(u=M(f,b),C=u.state,d=u.data,y=u.error,u=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),_.status=e,_.statusText=(n||C)+"",u?m.resolveWith(h,[d,C,_]):m.rejectWith(h,[_,C,y]),_.statusCode(v),v=t,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[_,f,u?d:y]),g.fireWith(h,[_,C]),c&&(p.trigger("ajaxComplete",[_,f]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,d,f=st.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?st(h):st.event,m=st.Deferred(),g=st.Callbacks("once memory"),v=f.statusCode||{},y={},b={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=Hn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,f.url=((e||f.url||An)+"").replace(jn,"").replace(Pn,Ln[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=st.trim(f.dataType||"*").toLowerCase().match(ut)||[""],null==f.crossDomain&&(u=Rn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Ln[1]&&u[2]===Ln[2]&&(u[3]||("http:"===u[1]?80:443))==(Ln[3]||("http:"===Ln[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=st.param(f.data,f.traditional)),D(Bn,f,n,_),2===x)return _;c=f.global,c&&0===st.active++&&st.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!In.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(On.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Mn.test(o)?o.replace(Mn,"$1_="+Dn++):o+(On.test(o)?"&":"?")+"_="+Dn++)),f.ifModified&&(st.lastModified[o]&&_.setRequestHeader("If-Modified-Since",st.lastModified[o]),st.etag[o]&&_.setRequestHeader("If-None-Match",st.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+$n+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)_.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(h,_,f)===!1||2===x))return _.abort();w="abort";for(d in{success:1,error:1,complete:1})_[d](f[d]);if(i=D(Wn,f,n,_)){_.readyState=1,c&&p.trigger("ajaxSend",[_,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},f.timeout));try{x=1,i.send(y,r)}catch(C){if(!(2>x))throw C;r(-1,C)}}else r(-1,"No Transport");return _},getScript:function(e,n){return st.get(e,t,n,"script")},getJSON:function(e,t,n){return st.get(e,t,n,"json")}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return st.globalEval(e),e}}}),st.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),st.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=X.head||st("head")[0]||X.documentElement;return{send:function(t,i){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Vn=[],Un=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||st.expando+"_"+Dn++;return this[e]=!0,e}}),st.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Un.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=st.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Un,"$1"+o):n.jsonp!==!1&&(n.url+=(On.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||st.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Vn.push(o)),s&&st.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Xn,Jn,Gn=0,Yn=e.ActiveXObject&&function(){var e;for(e in Xn)Xn[e](t,!0)};st.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&H()||F()}:H,Jn=st.ajaxSettings.xhr(),st.support.cors=!!Jn&&"withCredentials"in Jn,Jn=st.support.ajax=!!Jn,Jn&&st.ajaxTransport(function(n){if(!n.crossDomain||st.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,d,f;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=st.noop,Yn&&delete Xn[a]),i)4!==l.readyState&&l.abort();else{d={},s=l.status,f=l.responseXML,c=l.getAllResponseHeaders(),f&&f.documentElement&&(d.xml=f),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){i||o(-1,p)}d&&o(s,u,d,c)},n.async?4===l.readyState?setTimeout(r):(a=++Gn,Yn&&(Xn||(Xn={},st(e).unload(Yn)),Xn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Kn,Qn,Zn=/^(?:toggle|show|hide)$/,er=RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),tr=/queueHooks$/,nr=[B],rr={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=er.exec(t),a=i.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],r=o[3]||(st.cssNumber[e]?"":"px"),"px"!==r&&s){s=st.css(i.elem,e,!0)||n||1;do l=l||".5",s/=l,st.style(i.elem,e,s+r);while(l!==(l=i.cur()/a)&&1!==l&&--u)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};st.Animation=st.extend(R,{tweener:function(e,t){st.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],rr[n]=rr[n]||[],rr[n].unshift(t)},prefilter:function(e,t){t?nr.unshift(e):nr.push(e)}}),st.Tween=W,W.prototype={constructor:W,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(st.cssNumber[n]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,n=W.propHooks[this.prop];return this.pos=t=this.options.duration?st.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=st.css(e.elem,e.prop,"auto"),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){st.fx.step[e.prop]?st.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[st.cssProps[e.prop]]||st.cssHooks[e.prop])?st.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},st.each(["toggle","show","hide"],function(e,t){var n=st.fn[t];st.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,r,i)}}),st.fn.extend({fadeTo:function(e,t,n,r){return this.filter(_).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=st.isEmptyObject(e),o=st.speed(t,n,r),a=function(){var t=R(this,st.extend({},e),o);a.finish=function(){t.stop(!0)},(i||st._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=st.timers,a=st._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&tr.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&st.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=st._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=st.timers,a=r?r.length:0;for(n.finish=!0,st.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),st.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){st.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),st.speed=function(e,t,n){var r=e&&"object"==typeof e?st.extend({},e):{complete:n||!n&&t||st.isFunction(e)&&e,duration:e,easing:n&&t||t&&!st.isFunction(t)&&t};return r.duration=st.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in st.fx.speeds?st.fx.speeds[r.duration]:st.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){st.isFunction(r.old)&&r.old.call(this),r.queue&&st.dequeue(this,r.queue)},r},st.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},st.timers=[],st.fx=W.prototype.init,st.fx.tick=function(){var e,n=st.timers,r=0;for(Kn=st.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||st.fx.stop(),Kn=t},st.fx.timer=function(e){e()&&st.timers.push(e)&&st.fx.start()},st.fx.interval=13,st.fx.start=function(){Qn||(Qn=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(Qn),Qn=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fx.step={},st.expr&&st.expr.filters&&(st.expr.filters.animated=function(e){return st.grep(st.timers,function(t){return e===t.elem}).length}),st.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){st.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,st.contains(n,o)?(o.getBoundingClientRect!==t&&(i=o.getBoundingClientRect()),r=z(a),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},st.offset={setOffset:function(e,t,n){var r=st.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=st(e),s=a.offset(),l=st.css(e,"top"),u=st.css(e,"left"),c=("absolute"===r||"fixed"===r)&&st.inArray("auto",[l,u])>-1,d={},f={};c?(f=a.position(),i=f.top,o=f.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),st.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},st.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===st.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),st.nodeName(e[0],"html")||(n=e.offset()),n.top+=st.css(e[0],"borderTopWidth",!0),n.left+=st.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-st.css(r,"marginTop",!0),left:t.left-n.left-st.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||X.documentElement;e&&!st.nodeName(e,"html")&&"static"===st.css(e,"position");)e=e.offsetParent;return e||X.documentElement})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);st.fn[e]=function(i){return st.access(this,function(e,i,o){var a=z(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?st(a).scrollLeft():o,r?o:st(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}}),st.each({Height:"height",Width:"width"},function(e,n){st.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){st.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return st.access(this,function(n,r,i){var o;return st.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?st.css(n,r,s):st.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=st,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return st})})(window),function(){var e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,x,w,_,C,T=[].slice,S={}.hasOwnProperty,N=function(e,t){function n(){this.constructor=e}for(var r in t)S.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=this.jQuery,p=function(){function t(t,n){this.$el=e(t),this.options=e.extend({},this.defaults,n)}return t.prototype.defaults={},t.prototype.destroy=function(){return this._deinit()},t.prototype._init=function(){return null},t.prototype._deinit=function(){return null},t.register=function(n,r){var i,o,a,s;return s=function(){return"simple_widget_"+r},o=function(t,r){var i,o,a,l,u;for(i=s(),l=0,u=t.length;u>l;l++)o=t[l],a=new n(o,r),e.data(o,i)||e.data(o,i,a),a._init();return t},a=function(n){var r,i,o,a,l,u;for(r=s(),u=[],a=0,l=n.length;l>a;a++)i=n[a],o=e.data(i,r),o&&o instanceof t&&o.destroy(),u.push(e.removeData(i,r));return u},i=function(n,r,i){var o,a,l,u,c,d;for(a=null,c=0,d=n.length;d>c;c++)o=n[c],l=e.data(o,s()),l&&l instanceof t&&(u=l[r],u&&"function"==typeof u&&(a=u.apply(l,i)));return a},e.fn[r]=function(){var e,t,n,r,s;return n=arguments[0],t=arguments.length>=2?T.call(arguments,1):[],e=this,void 0===n||"object"==typeof n?(s=n,o(e,s)):"string"==typeof n&&"_"!==n[0]?(r=n,"destroy"===r?a(e):i(e,r,t)):void 0}},t}(),this.SimpleWidget=p,s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return N(n,t),n.is_mouse_handled=!1,n.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",e.proxy(this._mouseDown,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0},n.prototype._deinit=function(){var t;return this.$el.unbind("mousedown.mousewidget"),t=e(document),t.unbind("mousemove.mousewidget"),t.unbind("mouseup.mousewidget")},n.prototype._mouseDown=function(t){var r;if(!n.is_mouse_handled&&(this.is_mouse_started||this._mouseUp(t),1===t.which&&this._mouseCapture(t)))return this.mouse_down_event=t,r=e(document),r.bind("mousemove.mousewidget",e.proxy(this._mouseMove,this)),r.bind("mouseup.mousewidget",e.proxy(this._mouseUp,this)),this.mouse_delay&&this._startMouseDelayTimer(),t.preventDefault(),this.is_mouse_handled=!0,!0},n.prototype._startMouseDelayTimer=function(){var e=this;return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(){return e._is_mouse_delay_met=!0},this.mouse_delay),this._is_mouse_delay_met=!1},n.prototype._mouseMove=function(e){return this.is_mouse_started?(this._mouseDrag(e),e.preventDefault()):this.mouse_delay&&!this._is_mouse_delay_met?!0:(this.is_mouse_started=this._mouseStart(this.mouse_down_event)!==!1,this.is_mouse_started?this._mouseDrag(e):this._mouseUp(e),!this.is_mouse_started)},n.prototype._mouseUp=function(t){var n;return n=e(document),n.unbind("mousemove.mousewidget"),n.unbind("mouseup.mousewidget"),this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(t)),!1
},n.prototype._mouseCapture=function(){return!0},n.prototype._mouseStart=function(){return null},n.prototype._mouseDrag=function(){return null},n.prototype._mouseStop=function(){return null},n}(p),this.Tree={},e=this.jQuery,b=function(e,t){var n,r,i,o;if(e.indexOf)return e.indexOf(t);for(n=i=0,o=e.length;o>i;n=++i)if(r=e[n],r===t)return n;return-1},this.Tree.indexOf=b,(null==this.JSON||null==this.JSON.stringify||"function"!=typeof this.JSON.stringify)&&(x=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,w={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},_=function(e){return x.lastIndex=0,x.test(e)?'"'+e.replace(x,function(e){var t;return t=w[e],"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},C=function(e,t){var n,r,i,o,a,s,l;switch(a=t[e],typeof a){case"string":return _(a);case"number":return isFinite(a)?a+"":"null";case"boolean":case"null":return a+"";case"object":if(!a)return"null";if(i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(n=s=0,l=a.length;l>s;n=++s)o=a[n],i[n]=C(n,a)||"null";return 0===i.length?"[]":"["+i.join(",")+"]"}for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=C(r,a),o&&i.push(_(r)+":"+o));return 0===i.length?"{}":"{"+i.join(",")+"}"}},null==this.JSON&&(this.JSON={}),this.JSON.stringify=function(e){return C("",{"":e})}),y=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},c={getName:function(e){return c.strings[e-1]},nameToIndex:function(e){var t,n,r;for(t=n=1,r=c.strings.length;r>=1?r>=n:n>=r;t=r>=1?++n:--n)if(c.strings[t-1]===e)return t;return 0}},c.BEFORE=1,c.AFTER=2,c.INSIDE=3,c.NONE=4,c.strings=["before","after","inside","none"],this.Tree.Position=c,l=function(){function t(e){this.setData(e),this.children=[],this.parent=null}return t.prototype.setData=function(e){var t,n,r;if("object"!=typeof e)return this.name=e;r=[];for(t in e)n=e[t],"label"===t?r.push(this.name=n):r.push(this[t]=n);return r},t.prototype.initFromData=function(e){var n,r,i=this;return r=function(e){return i.setData(e),e.children?n(e.children):void 0},n=function(e){var n,r,o,a;for(o=0,a=e.length;a>o;o++)n=e[o],r=new t(""),r.initFromData(n),i.addChild(r);return null},r(e),null},t.prototype.loadFromData=function(e){var n,r,i,o;for(this.children=[],i=0,o=e.length;o>i;i++)r=e[i],n=new t(r),this.addChild(n),"object"==typeof r&&r.children&&n.loadFromData(r.children);return null},t.prototype.addChild=function(e){return this.children.push(e),e._setParent(this)},t.prototype.addChildAtPosition=function(e,t){return this.children.splice(t,0,e),e._setParent(this)},t.prototype._setParent=function(e){return this.parent=e,this.tree=e.tree,this.tree.addNodeToIndex(this)},t.prototype.removeChild=function(e){var t=this;return e.iterate(function(e){return t.tree.removeNodeFromIndex(e),!0}),this.children.splice(this.getChildIndex(e),1),this.tree.removeNodeFromIndex(e)},t.prototype.getChildIndex=function(t){return e.inArray(t,this.children)},t.prototype.hasChildren=function(){return 0!==this.children.length},t.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},t.prototype.iterate=function(e){var t,n=this;return t=function(r,i){var o,a,s,l,u;if(r.children){for(u=r.children,s=0,l=u.length;l>s;s++)o=u[s],a=e(o,i),n.hasChildren()&&a&&t(o,i+1);return null}},t(this,0),null},t.prototype.moveNode=function(e,t,n){return e.isParentOf(t)?void 0:(e.parent.removeChild(e),n===c.AFTER?t.parent.addChildAtPosition(e,t.parent.getChildIndex(t)+1):n===c.BEFORE?t.parent.addChildAtPosition(e,t.parent.getChildIndex(t)):n===c.INSIDE?t.addChildAtPosition(e,0):void 0)},t.prototype.getData=function(){var e;return e=function(t){var n,r,i,o,a,s,l;for(n=[],s=0,l=t.length;l>s;s++){i=t[s],o={};for(r in i)a=i[r],"parent"!==r&&"children"!==r&&"element"!==r&&"tree"!==r&&Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=a);i.hasChildren()&&(o.children=e(i.children)),n.push(o)}return n},e(this.children)},t.prototype.getNodeByName=function(e){var t;return t=null,this.iterate(function(n){return n.name===e?(t=n,!1):!0}),t},t.prototype.addAfter=function(e){var n,r;return this.parent?(r=new t(e),n=this.parent.getChildIndex(this),this.parent.addChildAtPosition(r,n+1),r):null},t.prototype.addBefore=function(e){var n,r;return this.parent?(r=new t(e),n=this.parent.getChildIndex(this),this.parent.addChildAtPosition(r,n)):null},t.prototype.addParent=function(e){var n,r,i,o,a,s;if(this.parent){for(r=new t(e),r._setParent(this.tree),i=this.parent,s=i.children,o=0,a=s.length;a>o;o++)n=s[o],r.addChild(n);return i.children=[],i.addChild(r),r}return null},t.prototype.remove=function(){return this.parent?(this.parent.removeChild(this),this.parent=null):void 0},t.prototype.append=function(e){var n;return n=new t(e),this.addChild(n),n},t.prototype.prepend=function(e){var n;return n=new t(e),this.addChildAtPosition(n,0),n},t.prototype.isParentOf=function(e){var t;for(t=e.parent;t;){if(t===this)return!0;t=t.parent}return!1},t}(),v=function(e){function t(e){t.__super__.constructor.call(this,e,null,!0),this.id_mapping={},this.tree=this}return N(t,e),t.prototype.getNodeById=function(e){return this.id_mapping[e]},t.prototype.addNodeToIndex=function(e){return e.id?this.id_mapping[e.id]=e:void 0},t.prototype.removeNodeFromIndex=function(e){return e.id?delete this.id_mapping[e.id]:void 0},t}(l),this.Tree.Tree=v,this.Tree.Node=l,g="&#x25ba;",m="&#x25bc;",a=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return N(r,t),r.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!1,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,autoEscape:!0,dataUrl:null,slide:!0},r.prototype.toggle=function(e,t){return null==t&&(t=!0),e.is_open?this.closeNode(e,t):this.openNode(e,t)},r.prototype.getTree=function(){return this.tree},r.prototype.selectNode=function(e){return this.select_node_handler.selectNode(e)},r.prototype.getSelectedNode=function(){return this.selected_node||!1},r.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},r.prototype.loadData=function(e,t){return this._loadData(e,t)},r.prototype.loadDataFromUrl=function(t,n,r){var o,a,s,l,u=this;return o=null,a=function(){var e;return n?(e=new i(n,u),o=e.getLi(),o.addClass("jqtree-loading")):void 0},l=function(){return o?o.removeClass("loading"):void 0},s=function(){return"string"===e.type(t)&&(t={url:t}),t.method?void 0:t.method="get"},a(),s(),e.ajax({url:t.url,data:t.data,type:t.method.toUpperCase(),cache:!1,dataType:"json",success:function(t){var i;return i=e.isArray(t)||"object"==typeof t?t:e.parseJSON(t),l(),u._loadData(i,n),r?r():void 0}})},r.prototype._loadData=function(e,t){var n,r,i,o,a;if(this._triggerEvent("tree.load_data",{tree_data:e}),t){for(r=new l(""),r._setParent(t.tree),r.loadFromData(e),a=r.children,i=0,o=a.length;o>i;i++)n=a[i],t.addChild(n);this._refreshElements(t.parent)}else this._initTree(e);return this.is_dragging?this.dnd_handler.refreshHitAreas():void 0},r.prototype.getNodeById=function(e){return this.tree.getNodeById(e)},r.prototype.getNodeByName=function(e){return this.tree.getNodeByName(e)},r.prototype.openNode=function(e,t){return null==t&&(t=!0),this._openNode(e,t)},r.prototype._openNode=function(e,t,n){var r,o,a=this;if(null==t&&(t=!0),r=function(e,t,n){var r;return r=new i(e,a),r.open(n,t)},e.isFolder()){if(e.load_on_demand)return this._loadFolderOnDemand(e,t,n);for(o=e.parent;o&&!o.is_open;)o.parent&&r(o,!1,null),o=o.parent;return r(e,t,n),this._saveState()}},r.prototype._loadFolderOnDemand=function(e,t,n){var r=this;return null==t&&(t=!0),e.load_on_demand=!1,this.loadDataFromUrl(this._getDataUrlInfo(e),e,function(){return r._openNode(e,t,n)})},r.prototype.closeNode=function(e,t){return null==t&&(t=!0),e.isFolder()?(new i(e,this).close(t),this._saveState()):void 0},r.prototype.isDragging=function(){return this.is_dragging},r.prototype.refreshHitAreas=function(){return this.dnd_handler.refreshHitAreas()},r.prototype.addNodeAfter=function(e,t){var n;return n=t.addAfter(e),this._refreshElements(t.parent),n},r.prototype.addNodeBefore=function(e,t){var n;return n=t.addBefore(e),this._refreshElements(t.parent),n},r.prototype.addParentNode=function(e,t){var n;return n=t.addParent(e),this._refreshElements(n.parent),n},r.prototype.removeNode=function(e){var t,n,r=this;return t=function(){var t;return r.selected_node?r.selected_node===e?!0:(t=!0,iterate(function(n){return e===n?(t=!0,!1):!0}),t):!1},n=e.parent,n?(t()&&(this.selected_node=null),e.remove(),this._refreshElements(n.parent)):void 0},r.prototype.appendNode=function(e,t){var n,r;return t||(t=this.tree),n=t.isFolder(),r=t.append(e),n?this._refreshElements(t):this._refreshElements(t.parent),r},r.prototype.prependNode=function(e,t){var n;return t||(t=this.tree),n=t.prepend(e),this._refreshElements(t),n},r.prototype.updateNode=function(e,t){return e.setData(t),this._refreshElements(e.parent),this.select_node_handler.selectCurrentNode()},r.prototype.moveNode=function(e,t,n){var r;return r=c.nameToIndex(n),this.tree.moveNode(e,t,r),this._refreshElements()},r.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},r.prototype._init=function(){return r.__super__._init.call(this),this.element=this.$el,this.selected_node=null,this.mouse_delay=300,this.save_state_handler=new d(this),this.select_node_handler=new h(this),this.dnd_handler=new n(this),this.scroll_handler=new f(this),this._initData(),this.element.click(e.proxy(this._click,this)),this.element.bind("contextmenu",e.proxy(this._contextmenu,this))},r.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.tree=null,r.__super__._deinit.call(this)},r.prototype._initData=function(){return this.options.data?this.loadData(this.options.data):this.loadDataFromUrl(this._getDataUrlInfo())},r.prototype._getDataUrlInfo=function(t){var n,r,i;return r=this.options.dataUrl||this.element.data("url"),e.isFunction(r)?r(t):"string"===e.type(r)?(i={url:r},t&&t.id&&(n={node:t.id},i.data=n),i):r},r.prototype._initTree=function(e){return this.tree=new v,this.tree.loadFromData(e),this._openNodes(),this._refreshElements(),this.select_node_handler.selectCurrentNode(),this._triggerEvent("tree.init")},r.prototype._openNodes=function(){var e;if(!(this.options.saveState&&this.save_state_handler.restoreState()||this.options.autoOpen===!1))return e=this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen),this.tree.iterate(function(t,n){return t.is_open=!0,n!==e})},r.prototype._refreshElements=function(t){var n,r,i,o,a,s,l,u,c,d=this;return null==t&&(t=null),l=function(e){return d.options.autoEscape?y(e):e},a=function(t){var n;return n=t?"jqtree-tree":"",e('<ul class="jqtree_common '+n+'"></ul>')},i=function(e){var t;return t=e.isFolder()?r(e):o(e),d.options.onCreateLi&&d.options.onCreateLi(e,t),t},o=function(t){var n;return n=l(t.name),e('<li class="jqtree_common"><div><span class="jqtree-title jqtree_common">'+n+"</span></div></li>")},r=function(t){var n,r,i,o,a,s;return a=function(){var e;return e=["jqtree-toggler"],t.is_open||e.push("jqtree-closed"),e.join(" ")},s=function(){var e;return e=["jqtree-folder"],t.is_open||e.push("jqtree-closed"),e.join(" ")},r=a(),o=s(),i=l(t.name),n=t.is_open?m:g,e('<li class="jqtree_common '+o+'"><div><a class="jqtree_common '+r+'">'+n+'</a><span class="jqtree_common jqtree-title">'+i+"</span></div></li>")},s=function(e,t,n){var r,o,l,u,c;for(o=a(n),e.append(o),u=0,c=t.length;c>u;u++)l=t[u],r=i(l),o.append(r),l.element=r[0],r.data("node",l),l.hasChildren()&&s(r,l.children,!1,l.is_open);return null},t&&t.parent?(u=!1,c=this._getNodeElementForNode(t),c.getUl().remove(),n=c.$element):(t=this.tree,n=this.element,n.empty(),u=!0),s(n,t.children,u,u),this._triggerEvent("tree.refresh")},r.prototype._click=function(t){var n,r,i,o;if(!t.ctrlKey)if(r=e(t.target),i=r.closest(".jqtree-title"),i.length){if(o=this._getNode(i))return this._triggerEvent("tree.click",{node:o}),this.selectNode(o)}else if(n=r.closest(".jqtree-toggler"),n.length&&(o=this._getNode(n)))return this.toggle(o,this.options.slide),t.preventDefault(),t.stopPropagation()},r.prototype._getNode=function(e){var t;return t=e.closest("li"),0===t.length?null:t.data("node")},r.prototype._getNodeElementForNode=function(e){return e.isFolder()?new i(e,this):new u(e,this)},r.prototype._getNodeElement=function(e){var t;return t=this._getNode(e),t?this._getNodeElementForNode(t):null},r.prototype._contextmenu=function(t){var n,r;return n=e(t.target).closest("ul.jqtree-tree div"),n.length&&(r=this._getNode(n))?(t.preventDefault(),t.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:r,click_event:t}),!1):void 0},r.prototype._saveState=function(){return this.options.saveState?this.save_state_handler.saveState():void 0},r.prototype._mouseCapture=function(e){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(e):!1},r.prototype._mouseStart=function(e){return this.options.dragAndDrop?this.dnd_handler.mouseStart(e):!1},r.prototype._mouseDrag=function(e){var t;return this.options.dragAndDrop?(t=this.dnd_handler.mouseDrag(e),this.scroll_handler.checkScrolling(),t):!1},r.prototype._mouseStop=function(){return this.options.dragAndDrop?this.dnd_handler.mouseStop():!1},r.prototype._triggerEvent=function(t,n){var r;return r=e.Event(t),e.extend(r,n),this.element.trigger(r),r},r.prototype.testGenerateHitAreas=function(e){return this.dnd_handler.current_item=this._getNodeElementForNode(e),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},r}(s),p.register(a,"tree"),o=function(){function t(t,n,r){this.$element=n,this.node=t,this.$ghost=e('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>'),r===c.AFTER?this.moveAfter():r===c.BEFORE?this.moveBefore():r===c.INSIDE&&(t.isFolder()&&t.is_open?this.moveInsideOpenFolder():this.moveInside())}return t.prototype.remove=function(){return this.$ghost.remove()},t.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},t.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},t.prototype.moveInsideOpenFolder=function(){return e(this.node.children[0].element).before(this.$ghost)},t.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},t}(),t=function(){function t(t){var n,r;n=t.children("div"),r=t.width()-4,this.$hint=e('<span class="jqtree-border"></span>'),n.append(this.$hint),this.$hint.css({width:r,height:n.height()-4})}return t.prototype.remove=function(){return this.$hint.remove()},t}(),u=function(){function n(e,t){this.init(e,t)}return n.prototype.init=function(t,n){return this.node=t,this.tree_widget=n,this.$element=e(t.element)},n.prototype.getUl=function(){return this.$element.children("ul:first")},n.prototype.getSpan=function(){return this.$element.children("div").find("span.jqtree-title")},n.prototype.getLi=function(){return this.$element},n.prototype.addDropHint=function(e){return e===c.INSIDE?new t(this.$element):new o(this.node,this.$element,e)},n.prototype.select=function(){return this.getLi().addClass("jqtree-selected")},n.prototype.deselect=function(){return this.getLi().removeClass("jqtree-selected")},n}(),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return N(n,e),n.prototype.open=function(e,t){var n,r,i=this;return null==t&&(t=!0),this.node.is_open?void 0:(this.node.is_open=!0,n=this.getButton(),n.removeClass("jqtree-closed"),n.html(m),r=function(){return i.getLi().removeClass("jqtree-closed"),e&&e(),i.tree_widget._triggerEvent("tree.open",{node:i.node})},t?this.getUl().slideDown("fast",r):(this.getUl().show(),r()))},n.prototype.close=function(e){var t,n,r=this;return null==e&&(e=!0),this.node.is_open?(this.node.is_open=!1,t=this.getButton(),t.addClass("jqtree-closed"),t.html(g),n=function(){return r.getLi().addClass("jqtree-closed"),r.tree_widget._triggerEvent("tree.close",{node:r.node})},e?this.getUl().slideUp("fast",n):(this.getUl().hide(),n())):void 0},n.prototype.getButton=function(){return this.$element.children("div").find("a.jqtree-toggler")},n.prototype.addDropHint=function(e){return this.node.is_open||e!==c.INSIDE?new o(this.node,this.$element,e):new t(this.$element)},n}(u),r=function(){function t(t,n,r,i){this.offset_x=n,this.offset_y=r,this.$element=e('<span class="jqtree-title jqtree-dragging">'+t.name+"</span>"),this.$element.css("position","absolute"),i.append(this.$element)}return t.prototype.move=function(e,t){return this.$element.offset({left:e-this.offset_x,top:t-this.offset_y})},t.prototype.remove=function(){return this.$element.remove()},t}(),d=function(){function t(e){this.tree_widget=e}return t.prototype.saveState=function(){return this.tree_widget.options.onSetStateFromStorage?this.tree_widget.options.onSetStateFromStorage(this.getState()):"undefined"!=typeof localStorage&&null!==localStorage?localStorage.setItem(this.getCookieName(),this.getState()):e.cookie?e.cookie(this.getCookieName(),this.getState(),{path:"/"}):void 0},t.prototype.restoreState=function(){var e;return e=this.getStateFromStorage(),e?(this.setState(e),!0):!1},t.prototype.getStateFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():"undefined"!=typeof localStorage&&null!==localStorage?localStorage.getItem(this.getCookieName()):e.cookie?e.cookie(this.getCookieName(),{path:"/"}):null},t.prototype.getState=function(){var e,t;return e=[],this.tree_widget.tree.iterate(function(t){return t.is_open&&t.id&&t.hasChildren()&&e.push(t.id),!0}),t="",this.tree_widget.selected_node&&(t=this.tree_widget.selected_node.id),JSON.stringify({open_nodes:e,selected_node:t})},t.prototype.setState=function(t){var n,r,i,o=this;return n=e.parseJSON(t),n?(r=n.open_nodes,i=n.selected_node,this.tree_widget.tree.iterate(function(e){return e.id&&e.hasChildren()&&b(r,e.id)>=0&&(e.is_open=!0),i&&e.id===i&&(o.tree_widget.selected_node=e),!0})):void 0},t.prototype.getCookieName=function(){return"string"==typeof this.tree_widget.options.saveState?this.tree_widget.options.saveState:"tree"},t}(),h=function(){function e(e){this.tree_widget=e}return e.prototype.selectNode=function(e){var t,n,r=this;return t=function(){return r.tree_widget.options.onCanSelectNode?r.tree_widget.options.onCanSelectNode(e):!0},t()&&(this.tree_widget.selected_node&&(this.tree_widget._getNodeElementForNode(this.tree_widget.selected_node).deselect(),this.tree_widget.selected_node=null),e&&(this.tree_widget._getNodeElementForNode(e).select(),this.tree_widget.selected_node=e,this.tree_widget._triggerEvent("tree.select",{node:e}),n=this.tree_widget.selected_node.parent,n.is_open||this.tree_widget.openNode(n,!1)),this.tree_widget.options.saveState)?this.tree_widget.save_state_handler.saveState():void 0},e.prototype.selectCurrentNode=function(){var e;return this.tree_widget.selected_node&&(e=this.tree_widget._getNodeElementForNode(this.tree_widget.selected_node))?e.select():void 0},e}(),n=function(){function t(e){this.tree_widget=e,this.hovered_area=null,this.$ghost=null,this.hit_areas=[],this.is_dragging=!1}return t.prototype.mouseCapture=function(t){var n,r;return n=e(t.target),this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(n)?null:(r=this.tree_widget._getNodeElement(n),r&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(r.node)||(r=null)),this.current_item=r,null!==this.current_item)},t.prototype.mouseStart=function(e){var t,n,i;return this.refreshHitAreas(),i=this.getOffsetFromEvent(e),t=i[0],n=i[1],this.drag_element=new r(this.current_item.node,t,n,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},t.prototype.mouseDrag=function(e){var t,n;return this.drag_element.move(e.pageX,e.pageY),t=this.findHoveredArea(e.pageX,e.pageY),t&&this.tree_widget.options.onCanMoveTo&&(n=c.getName(t.position),this.tree_widget.options.onCanMoveTo(this.current_item.node,t.node,n)||(t=null)),t?this.hovered_area!==t&&(this.hovered_area=t,this.updateDropHint()):(this.removeDropHint(),this.removeHover(),this.stopOpenFolderTimer()),!0},t.prototype.mouseStop=function(){return this.moveItem(),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),this.current_item.$element.removeClass("jqtree-moving"),this.is_dragging=!1,!1},t.prototype.getOffsetFromEvent=function(t){var n;return n=e(t.target).offset(),[t.pageX-n.left,t.pageY-n.top]},t.prototype.refreshHitAreas=function(){return this.removeHitAreas(),this.generateHitAreas()},t.prototype.removeHitAreas=function(){return this.hit_areas=[]},t.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},t.prototype.removeDropHint=function(){return this.previous_ghost?this.previous_ghost.remove():void 0},t.prototype.removeHover=function(){return this.hovered_area=null},t.prototype.generateHitAreas=function(){var t,n,r,i,o,a,s,l,u,d,f,h=this;return f=[],d=0,n=function(e){return e.offset().top},t=function(e,t,n){return f.push({top:n,node:e,position:t}),d=n},r=function(e){var t,n,r,i,o;for(r=-1,t=[],i=0,o=f.length;o>i;i++)n=f[i],n.top!==r&&(t.length&&e(t,r,n.top),r=n.top,t=[]),t.push(n);return e(t,r,h.tree_widget.element.offset().top+h.tree_widget.element.height())},s=function(e,r,i){var o;return o=n(i),e===h.current_item.node?t(e,c.NONE,o):t(e,c.INSIDE,o),r===h.current_item.node||e===h.current_item.node?t(e,c.NONE,o):t(e,c.AFTER,o)},l=function(e,r){return e===h.current_item.node?!1:(e.children[0]!==h.current_item.node&&t(e,c.INSIDE,n(r)),!0)},i=function(e,n){return e===h.current_item.node||n===h.current_item.node?t(e,c.NONE,d):t(e,c.AFTER,d)},o=function(e,r,i){var o;return o=n(i),e===h.current_item.node?t(e,c.NONE,o):(t(e,c.INSIDE,o),r!==h.current_item.node?t(e,c.AFTER,o):void 0)},a=function(r){return r!==h.current_item.node?t(r,c.BEFORE,n(e(r.element))):void 0},this.iterateVisibleNodes(s,l,o,i,a),u=[],r(function(e,t,n){var r,i,o,a,s;for(r=(n-t)/e.length,i=t,a=0,s=e.length;s>a;a++)o=e[a],u.push({top:i,bottom:i+r,node:o.node,position:o.position}),i+=r;return null}),this.hit_areas=u},t.prototype.iterateVisibleNodes=function(t,n,r,i,o){var a,s;return a=!0,s=function(l,u){var c,d,f,h,p,m,g,v;if(p=(l.is_open||!l.element)&&l.hasChildren(),l.element){if(c=e(l.element),!c.is(":visible"))return;a&&(o(l,c),a=!1),l.hasChildren()?l.is_open?n(l,c)||(p=!1):r(l,u,c):t(l,u,c)}if(p){for(f=l.children.length,v=l.children,h=m=0,g=v.length;g>m;h=++m)d=v[h],h===f-1?s(l.children[h],null):s(l.children[h],l.children[h+1]);if(l.is_open)return i(l,u,c)}},s(this.tree_widget.tree)},t.prototype.findHoveredArea=function(e,t){var n,r,i,o,a;if(a=this.tree_widget.element.offset(),a.left>e||a.top>t||e>a.left+this.tree_widget.element.width()||t>a.top+this.tree_widget.element.height())return null;for(i=0,r=this.hit_areas.length;r>i;)if(o=i+r>>1,n=this.hit_areas[o],n.top>t)r=o;else{if(!(t>n.bottom))return n;i=o+1}return null},t.prototype.updateDropHint=function(){var e,t;return this.stopOpenFolderTimer(),this.hovered_area?(e=this.hovered_area.node,e.isFolder()&&!e.is_open&&this.hovered_area.position===c.INSIDE&&this.startOpenFolderTimer(e),this.removeDropHint(),t=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=t.addDropHint(this.hovered_area.position)):void 0},t.prototype.startOpenFolderTimer=function(e){var t,n=this;return t=function(){return n.tree_widget._openNode(e,n.tree_widget.options.slide,function(){return n.refreshHitAreas(),n.updateDropHint()})},this.open_folder_timer=setTimeout(t,500)},t.prototype.stopOpenFolderTimer=function(){return this.open_folder_timer?(clearTimeout(this.open_folder_timer),this.open_folder_timer=null):void 0},t.prototype.moveItem=function(){var e,t,n,r,i,o,a=this;return this.hovered_area&&this.hovered_area.position!==c.NONE&&(n=this.current_item.node,o=this.hovered_area.node,r=this.hovered_area.position,i=n.parent,r===c.INSIDE&&(this.hovered_area.node.is_open=!0),e=function(){return a.tree_widget.tree.moveNode(n,o,r),a.tree_widget.element.empty(),a.tree_widget._refreshElements()},t=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:n,target_node:o,position:c.getName(r),previous_parent:i,do_move:e}}),!t.isDefaultPrevented())?e():void 0},t}(),f=function(){function t(e){this.tree_widget=e,this.previous_top=-1,this._initScrollParent()}return t.prototype._initScrollParent=function(){var t,n,r,i=this;return n=function(){var t,n,r,o,a,s,l,u,c,d;for(n=["overflow","overflow-y"],o=null,c=i.tree_widget.$el.parents(),a=0,l=c.length;l>a;a++)for(r=c[a],s=0,u=n.length;u>s;s++)if(t=n[s],"auto"===(d=e.css(r,t))||"scroll"===d)return e(r);return null},r=function(){return i.scroll_parent_top=0,i.$scroll_parent=null},"fixed"===this.tree_widget.$el.css("position")&&r(),t=n(),t&&t.length&&"HTML"!==t[0].tagName?(this.$scroll_parent=t,this.scroll_parent_top=this.$scroll_parent.offset().top):r()},t.prototype.checkScrolling=function(){var e;return e=this.tree_widget.dnd_handler.hovered_area,e&&e.top!==this.previous_top?(this.previous_top=e.top,this.$scroll_parent?this._handleScrollingWithScrollParent(e):this._handleScrollingWithDocument(e)):void 0},t.prototype._handleScrollingWithScrollParent=function(e){var t;return t=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-e.bottom,20>t?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):20>e.top-this.scroll_parent_top?(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):void 0},t.prototype._handleScrollingWithDocument=function(t){var n;return n=t.top-e(document).scrollTop(),20>n?e(document).scrollTop(e(document).scrollTop()-20):20>e(window).height()-(t.bottom-e(document).scrollTop())?e(document).scrollTop(e(document).scrollTop()+20):void 0},t}()}.call(this),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,l=r.concat,u=i.toString,c=i.hasOwnProperty,d=r.forEach,f=r.map,h=r.reduce,p=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,x=Array.isArray,w=Object.keys,_=o.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.4.3";var T=C.each=C.forEach=function(e,t,r){if(null!=e)if(d&&e.forEach===d)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,o=e.length;o>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var a in e)if(C.has(e,a)&&t.call(r,e[a],a,e)===n)return};C.map=C.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(T(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)}),r)};var S="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(S);return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return r&&(t=C.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=C.keys(e);o=a.length}if(T(e,function(s,l,u){l=a?a[--o]:--o,i?n=t.call(r,n,e[l],l,u):(n=e[l],i=!0)}),!i)throw new TypeError(S);return n},C.find=C.detect=function(e,t,n){var r;return N(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},C.filter=C.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(T(e,function(e,i,o){t.call(n,e,i,o)&&(r[r.length]=e)}),r)},C.reject=function(e,t,n){return C.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},C.every=C.all=function(e,t,r){t||(t=C.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,r):(T(e,function(e,o,a){return(i=i&&t.call(r,e,o,a))?void 0:n}),!!i)};var N=C.some=C.any=function(e,t,r){t||(t=C.identity);var i=!1;return null==e?i:v&&e.some===v?e.some(t,r):(T(e,function(e,o,a){return i||(i=t.call(r,e,o,a))?n:void 0}),!!i)};C.contains=C.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):N(e,function(e){return e===t})},C.invoke=function(e,t){var n=s.call(arguments,2);return C.map(e,function(e){return(C.isFunction(t)?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t){return C.isEmpty(t)?[]:C.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>=r.computed&&(r={value:e,computed:a})}),r.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;r.computed>a&&(r={value:e,computed:a})}),r.value},C.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var r=k(t);return C.pluck(C.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var E=function(e,t,n,r){var i={},o=k(t||C.identity);return T(e,function(t,a){var s=o.call(n,t,a,e);r(i,s,t)}),i};C.groupBy=function(e,t,n){return E(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return E(e,t,n,function(e,t){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,r){n=null==n?C.identity:k(n);for(var i=n.call(r,t),o=0,a=e.length;a>o;){var s=o+a>>>1;i>n.call(r,e[s])?o=s+1:a=s}return o},C.toArray=function(e){return e?C.isArray(e)?s.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},C.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var L=function(e,t,n){return T(e,function(e){C.isArray(e)?t?a.apply(n,e):L(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return L(e,t,[])},C.without=function(e){return C.difference(e,s.call(arguments,1))},C.uniq=C.unique=function(e,t,n,r){C.isFunction(t)&&(r=n,n=t,t=!1);var i=n?C.map(e,n,r):e,o=[],a=[];return T(i,function(n,r){(t?r&&a[a.length-1]===n:C.contains(a,n))||(a.push(n),o.push(e[r]))}),o},C.union=function(){return C.uniq(l.apply(r,arguments))},C.intersection=function(e){var t=s.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=l.apply(r,s.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=s.call(arguments),t=C.max(C.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=C.pluck(e,""+r);return n},C.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;
return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},C.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=Array(r);r>i;)o[i++]=e,e+=n;return o};var A=function(){};C.bind=function(e,t){var n,r;if(e.bind===_&&_)return _.apply(e,s.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(s.call(arguments)));A.prototype=e.prototype;var i=new A;A.prototype=null;var o=e.apply(i,n.concat(s.call(arguments)));return Object(o)===o?o:i}},C.bindAll=function(e){var t=s.call(arguments,1);return 0==t.length&&(t=C.functions(e)),T(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(s.call(arguments,1)))},C.throttle=function(e,t){var n,r,i,o,a=0,s=function(){a=new Date,i=null,o=e.apply(n,r)};return function(){var l=new Date,u=t-(l-a);return n=this,r=arguments,0>=u?(clearTimeout(i),i=null,a=l,o=e.apply(n,r)):i||(i=setTimeout(s,u)),o}},C.debounce=function(e,t,n){var r,i;return function(){var o=this,a=arguments,s=function(){r=null,n||(i=e.apply(o,a))},l=n&&!r;return clearTimeout(r),r=setTimeout(s,t),l&&(i=e.apply(o,a)),i}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},C.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=l.apply(r,s.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=l.apply(r,s.call(arguments,1));for(var i in e)C.contains(n,i)||(t[i]=e[i]);return t},C.defaults=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var D=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=u.call(e);if(i!=u.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;n.push(e),r.push(t);var a=0,s=!0;if("[object Array]"==i){if(a=e.length,s=a==t.length)for(;a--&&(s=D(e[a],t[a],n,r)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(c)&&c instanceof c))return!1;for(var d in e)if(C.has(e,d)&&(a++,!(s=C.has(t,d)&&D(e[d],t[d],n,r))))break;if(s){for(d in t)if(C.has(t,d)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};C.isEqual=function(e,t){return D(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=x||function(e){return"[object Array]"==u.call(e)},C.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),C.isFunction=function(e){return"function"==typeof e},C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return c.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},C.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};O.unescape=C.invert(O.escape);var j={escape:RegExp("["+C.keys(O.escape).join("")+"]","g"),unescape:RegExp("("+C.keys(O.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(j[e],function(t){return O[e][t]})}}),C.result=function(e,t){if(null==e)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){T(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),P.call(this,n.apply(C,e))}})};var M=0;C.uniqueId=function(e){var t=""+ ++M;return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){n=C.defaults({},n,C.templateSettings);var r=RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(I,function(e){return"\\"+F[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),i=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return a(t,C);var l=function(e){return a.call(this,e,C)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},C.chain=function(e){return C(e).chain()};var P=function(e){return this._chain?C(e).chain():e};C.mixin(C),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],P.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];C.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),window.CodeMirror=function(){"use strict";function e(i,o){if(!(this instanceof e))return new e(i,o);this.options=o=o||{};for(var s in ai)!o.hasOwnProperty(s)&&ai.hasOwnProperty(s)&&(o[s]=ai[s]);d(o);var u=this.display=t(i);u.wrapper.CodeMirror=this,l(this),o.autofocus&&!zr&&et(this),this.view=n(new Fn([new Hn([_n("",null,z(u))])])),this.nextOpId=0,r(this),a(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),this.setValue(o.value||""),Dr&&setTimeout(fr(Z,this,!0),20),this.view.history=zn(),nt(this);var c;try{c=document.activeElement==u.input}catch(f){}c||o.autofocus&&!zr?setTimeout(fr(yt,this),20):bt(this),J(this,function(){for(var e in oi)oi.propertyIsEnumerable(e)&&oi[e](this,o[e],si);for(var t=0;di.length>t;++t)di[t](this)})()}function t(e){var t={},n=t.input=mr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");Mr?n.style.width="1000px":n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),t.inputDiv=mr("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),t.scrollbarH=mr("div",[mr("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),t.scrollbarV=mr("div",[mr("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),t.scrollbarFiller=mr("div",null,"CodeMirror-scrollbar-filler"),t.lineDiv=mr("div"),t.selectionDiv=mr("div",null,null,"position: relative; z-index: 1"),t.cursor=mr("div"," ","CodeMirror-cursor"),t.otherCursor=mr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),t.measure=mr("div",null,"CodeMirror-measure"),t.lineSpace=mr("div",[t.measure,t.selectionDiv,t.lineDiv,t.cursor,t.otherCursor],null,"position: relative; outline: none"),t.mover=mr("div",[mr("div",[t.lineSpace],"CodeMirror-lines")],null,"position: relative"),t.sizer=mr("div",[t.mover],"CodeMirror-sizer"),t.heightForcer=mr("div"," ",null,"position: absolute; height: "+vi+"px"),t.gutters=mr("div",null,"CodeMirror-gutters"),t.lineGutter=null;var r=mr("div",[t.sizer,t.heightForcer,t.gutters],null,"position: relative; min-height: 100%");return t.scroller=mr("div",[r],"CodeMirror-scroll"),t.scroller.setAttribute("tabIndex","-1"),t.wrapper=mr("div",[t.inputDiv,t.scrollbarH,t.scrollbarV,t.scrollbarFiller,t.scroller],"CodeMirror"),Or&&(t.gutters.style.zIndex=-1,t.scroller.style.paddingRight=0),e.appendChild?e.appendChild(t.wrapper):e(t.wrapper),$r&&(n.style.width="0px"),Mr||(t.scroller.draggable=!0),Rr?(t.inputDiv.style.height="1px",t.inputDiv.style.position="absolute"):Or&&(t.scrollbarH.style.minWidth=t.scrollbarV.style.minWidth="18px"),t.viewOffset=t.showingFrom=t.showingTo=t.lastSizeC=0,t.lineNumWidth=t.lineNumInnerWidth=t.lineNumChars=null,t.prevInput="",t.alignWidgets=!1,t.pollingFast=!1,t.poll=new or,t.draggingText=!1,t.cachedCharWidth=t.cachedTextHeight=null,t.measureLineCache=[],t.measureLineCachePos=0,t.inaccurateSelection=!1,t.pasteIncoming=!1,t.wheelDX=t.wheelDY=t.wheelStartX=t.wheelStartY=null,t}function n(e){var t={line:0,ch:0};return{doc:e,frontier:0,highlight:new or,sel:{from:t,to:t,head:t,anchor:t,shift:!1,extend:!1},scrollTop:0,scrollLeft:0,overwrite:!1,focused:!1,maxLine:In(e,0),maxLineLength:0,maxLineChanged:!1,suppressEdits:!1,goalColumn:null,cantEdit:!1,keyMaps:[],overlays:[],modeGen:0}}function r(t){var n=t.view.doc;t.view.mode=e.getMode(t.options,t.options.mode),n.iter(0,n.size,function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.view.frontier=0,L(t,100),t.view.modeGen++,t.curOp&&G(t,0,n.size)}function i(e){var t=e.view.doc,n=z(e.display);if(e.options.lineWrapping){e.display.wrapper.className+=" CodeMirror-wrap";var r=e.display.scroller.clientWidth/V(e.display)-3;t.iter(0,t.size,function(e){if(0!=e.height){var t=Math.ceil(e.text.length/r)||1;1!=t&&Pn(e,t*n)}}),e.display.sizer.style.minWidth=""}else e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),c(e.view),t.iter(0,t.size,function(e){0!=e.height&&Pn(e,n)});G(e,0,t.size),P(e),setTimeout(function(){f(e.display,e.view.doc.height)},100)}function o(e){var t=hi[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),P(e)}function s(e){l(e),y(e,!0)}function l(e){var t=e.display.gutters,n=e.options.gutters;gr(t);for(var r=0;n.length>r;++r){var i=n[r],o=t.appendChild(mr("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none"}function u(e,t){if(0==t.height)return 0;for(var n,r=t.text.length,i=t;n=un(i);){var o=n.find();i=In(e,o.from.line),r+=o.from.ch-o.to.ch}for(i=t;n=cn(i);){var o=n.find();r-=i.text.length-o.from.ch,i=In(e,o.to.line),r+=i.text.length-o.to.ch}return r}function c(e){e.maxLine=In(e.doc,0),e.maxLineLength=u(e.doc,e.maxLine),e.maxLineChanged=!0,e.doc.iter(1,e.doc.size,function(t){var n=u(e.doc,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function d(e){for(var t=!1,n=0;e.gutters.length>n;++n)"CodeMirror-linenumbers"==e.gutters[n]&&(e.lineNumbers?t=!0:e.gutters.splice(n--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function f(e,t){var n=t+2*j(e);e.sizer.style.minHeight=e.heightForcer.style.top=n+"px";var r=Math.max(n,e.scroller.scrollHeight),i=e.scroller.scrollWidth>e.scroller.clientWidth,o=r>e.scroller.clientHeight;o?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=i?br(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=r-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",i?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=o?br(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",i&&o?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=br(e.measure)+"px"):e.scrollbarFiller.style.display="",qr&&0===br(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Br?"18px":"12px")}function h(e,t,n){var r=e.scroller.scrollTop,i=e.wrapper.clientHeight;"number"==typeof n?r=n:n&&(r=n.top,i=n.bottom-n.top),r=Math.floor(r-j(e));var o=Math.ceil(r+i);return{from:Bn(t,r),to:Bn(t,o)}}function p(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=v(t)-t.scroller.scrollLeft+e.view.scrollLeft,r=t.gutters.offsetWidth,i=n+"px",o=t.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var a=0,s=o.alignable;s.length>a;++a)s[a].style.left=i;e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function m(e){if(!e.options.lineNumbers)return!1;var t=e.view.doc,n=g(e.options,t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(mr("div",[mr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a),r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",!0}return!1}function g(e,t){return e.lineNumberFormatter(t+e.firstLineNumber)+""}function v(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function y(e,t,n){var r=e.display.showingFrom,i=e.display.showingTo,o=b(e,t,n);return o&&(rr(e,e,"update",e),(e.display.showingFrom!=r||e.display.showingTo!=i)&&rr(e,e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),S(e),f(e.display,e.view.doc.height),o}function b(e,t,n){var r=e.display,i=e.view.doc;if(!r.wrapper.clientWidth)return r.showingFrom=r.showingTo=r.viewOffset=0,void 0;var o=h(r,i,n);if(!(t!==!0&&0==t.length&&o.from>r.showingFrom&&o.to<r.showingTo)){t&&m(e)&&(t=!0);var a=r.sizer.style.marginLeft=r.gutters.offsetWidth+"px";if(r.scrollbarH.style.left=e.options.fixedGutter?a:"0",t!==!0&&Zr)for(var s=0;t.length>s;++s)for(var l,u=t[s];l=un(In(i,u.from));){var c=l.find().from.line;u.diff&&(u.diff-=u.from-c),u.from=c}var d=t===!0?0:1/0;if(e.options.lineNumbers&&t&&t!==!0)for(var s=0;t.length>s;++s)if(t[s].diff){d=t[s].from;break}var c=Math.max(o.from-e.options.viewportMargin,0),f=Math.min(i.size,o.to+e.options.viewportMargin);if(c>r.showingFrom&&20>c-r.showingFrom&&(c=r.showingFrom),r.showingTo>f&&20>r.showingTo-f&&(f=Math.min(i.size,r.showingTo)),Zr)for(c=Rn(dn(i,In(i,c)));i.size>f&&fn(In(i,f));)++f;for(var p=t===!0?[]:x([{from:r.showingFrom,to:r.showingTo}],t),g=0,s=0;p.length>s;++s){var v=p[s];c>v.from&&(v.from=c),v.to>f&&(v.to=f),v.from>=v.to?p.splice(s--,1):g+=v.to-v.from}if(g!=f-c||c!=r.showingFrom||f!=r.showingTo){p.sort(function(e,t){return e.from-t.from});var y=document.activeElement;.7*(f-c)>g&&(r.lineDiv.style.display="none"),_(e,c,f,p,d),r.lineDiv.style.display="",document.activeElement!=y&&y.offsetHeight&&y.focus();var w=c!=r.showingFrom||f!=r.showingTo||r.lastSizeC!=r.wrapper.clientHeight;w&&(r.lastSizeC=r.wrapper.clientHeight),r.showingFrom=c,r.showingTo=f,L(e,100);for(var C,T=r.lineDiv.offsetTop,S=r.lineDiv.firstChild;S;S=S.nextSibling)if(S.lineObj){if(Or){var N=S.offsetTop+S.offsetHeight;C=N-T,T=N}else{var k=S.getBoundingClientRect();C=k.bottom-k.top}var E=S.lineObj.height-C;if(2>C&&(C=z(r)),E>.001||-.001>E){Pn(S.lineObj,C);var A=S.lineObj.widgets;if(A)for(var s=0;A.length>s;++s)A[s].height=A[s].node.offsetHeight}}return r.viewOffset=Wn(e,In(i,c)),r.mover.style.top=r.viewOffset+"px",h(r,i,n).to>=f&&b(e,[],n),!0}}}function x(e,t){for(var n=0,r=t.length||0;r>n;++n){for(var i=t[n],o=[],a=i.diff||0,s=0,l=e.length;l>s;++s){var u=e[s];i.to<=u.from&&i.diff?o.push({from:u.from+a,to:u.to+a}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from}),i.to<u.to&&o.push({from:i.to+a,to:u.to+a}))}e=o}return e}function w(e){for(var t=e.display,n={},r={},i=t.gutters.firstChild,o=0;i;i=i.nextSibling,++o)n[e.options.gutters[o]]=i.offsetLeft,r[e.options.gutters[o]]=i.offsetWidth;return{fixedPos:v(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function _(e,t,n,r,i){function o(t){var n=t.nextSibling;return Mr&&Vr&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):u.removeChild(t),n}var a=w(e),s=e.display,l=e.options.lineNumbers;r.length||Mr&&e.display.currentWheelTarget||gr(s.lineDiv);var u=s.lineDiv,c=u.firstChild,d=r.shift(),f=t;for(e.view.doc.iter(t,n,function(t){if(d&&d.to==f&&(d=r.shift()),fn(t)){if(0!=t.height&&Pn(t,0),t.widgets&&c.previousSibling)for(var n=0;t.widgets.length>n;++n)if(t.widgets[n].showIfHidden){var s=c.previousSibling;if("pre"==s.nodeType){var h=mr("div",null,null,"position: relative");s.parentNode.replaceChild(h,s),h.appendChild(s),s=h}s.appendChild(T(t.widgets[n],s,a))}}else if(d&&f>=d.from&&d.to>f){for(;c.lineObj!=t;)c=o(c);l&&f>=i&&c.lineNumber&&yr(c.lineNumber,g(e.options,f)),c=c.nextSibling}else{var p=C(e,t,f,a);u.insertBefore(p,c),p.lineObj=t}++f});c;)c=o(c)}function C(e,t,n,r){var i=An(e,t),o=t.gutterMarkers,a=e.display;if(!(e.options.lineNumbers||o||t.bgClass||t.wrapClass||t.widgets&&t.widgets.length))return i;var s=mr("div",null,t.wrapClass,"position: relative");if(e.options.lineNumbers||o){var l=s.appendChild(mr("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"));if(e.options.fixedGutter&&(s.alignable=[l]),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(s.lineNumber=l.appendChild(mr("div",g(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.lineNumInnerWidth+"px"))),o)for(var u=0;e.options.gutters.length>u;++u){var c=e.options.gutters[u],d=o.hasOwnProperty(c)&&o[c];d&&l.appendChild(mr("div",[d],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}if(t.bgClass&&s.appendChild(mr("div"," ",t.bgClass+" CodeMirror-linebackground")),s.appendChild(i),t.widgets)for(var f=0,h=t.widgets;h.length>f;++f){var p=h[f],m=T(p,s,r);p.above?s.insertBefore(m,e.options.lineNumbers&&0!=t.height?l:i):s.appendChild(m)}return Or&&(s.style.zIndex=2),s}function T(e,t,n){var r=mr("div",[e.node],"CodeMirror-linewidget");if(r.widget=e,e.noHScroll){(t.alignable||(t.alignable=[])).push(r);var i=n.wrapperWidth;r.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,r.style.paddingLeft=n.gutterTotalWidth+"px"),r.style.width=i+"px"}return e.coverGutter&&(r.style.zIndex=5,r.style.position="relative",e.noHScroll||(r.style.marginLeft=-n.gutterTotalWidth+"px")),r}function S(e){var t=e.display,n=Nt(e.view.sel.from,e.view.sel.to);n||e.options.showCursorWhenSelecting?N(e):t.cursor.style.display=t.otherCursor.style.display="none",n?t.selectionDiv.style.display="none":k(e);var r=B(e,e.view.sel.head,"div"),i=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+o.top-i.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+o.left-i.left))+"px"}function N(e){var t=e.display,n=B(e,e.view.sel.head,"div");t.cursor.style.left=n.left+"px",t.cursor.style.top=n.top+"px",t.cursor.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",t.cursor.style.display="",n.other?(t.otherCursor.style.display="",t.otherCursor.style.left=n.other.left+"px",t.otherCursor.style.top=n.other.top+"px",t.otherCursor.style.height=.85*(n.other.bottom-n.other.top)+"px"):t.otherCursor.style.display="none"}function k(e){function t(e,t,n,r){0>t&&(t=0),a.appendChild(mr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?s-e:n)+"px; height: "+(r-t)+"px"))}function n(n,r,o,a){function u(t){return q(e,{line:n,ch:t},"div",c)}var c=In(i,n),d=c.text.length,f=a?1/0:-1/0;return wr($n(c),r||0,null==o?d:o,function(e,n,i){var c=u("rtl"==i?n-1:e),h=u("rtl"==i?e:n-1),p=c.left,m=h.right;h.top-c.top>3&&(t(p,c.top,null,c.bottom),p=l,c.bottom<h.top&&t(p,c.bottom,null,h.top)),null==o&&n==d&&(m=s),null==r&&0==e&&(p=l),f=a?Math.min(h.top,f):Math.max(h.bottom,f),l+1>p&&(p=l),t(p,h.top,m-p,h.bottom)}),f}var r=e.display,i=e.view.doc,o=e.view.sel,a=document.createDocumentFragment(),s=r.lineSpace.offsetWidth,l=M(e.display);if(o.from.line==o.to.line)n(o.from.line,o.from.ch,o.to.ch);else{for(var u,c,d=In(i,o.from.line),f=d,h=[o.from.line,o.from.ch];u=cn(f);){var p=u.find();if(h.push(p.from.ch,p.to.line,p.to.ch),p.to.line==o.to.line){h.push(o.to.ch),c=!0;break}f=In(i,p.to.line)}if(c)for(var m=0;h.length>m;m+=3)n(h[m],h[m+1],h[m+2]);else{var g,v,y=In(i,o.to.line);g=o.from.ch?n(o.from.line,o.from.ch,null,!1):Wn(e,d)-r.viewOffset,v=o.to.ch?n(o.to.line,un(y)?null:0,o.to.ch,!0):Wn(e,y)-r.viewOffset,v>g&&t(l,g,null,v)}}vr(r.selectionDiv,a),r.selectionDiv.style.display=""}function E(e){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.offsetHeight&&(t.cursor.style.visibility=t.otherCursor.style.visibility=(n=!n)?"":"hidden")},e.options.cursorBlinkRate)}function L(e,t){e.view.mode.startState&&e.view.frontier<e.display.showingTo&&e.view.highlight.set(t,fr(A,e))}function A(e){var t=e.view,n=t.doc;if(!(t.frontier>=e.display.showingTo)){var r,i=+new Date+e.options.workTime,o=Ut(t.mode,O(e,t.frontier)),a=[];n.iter(t.frontier,Math.min(n.size,e.display.showingTo+500),function(n){if(t.frontier>=e.display.showingFrom){var s=n.styles;n.styles=Nn(e,n,o);for(var l=!s||s.length!=n.styles.length,u=0;!l&&s.length>u;++u)l=s[u]!=n.styles[u];l&&(r&&r.end==t.frontier?r.end++:a.push(r={start:t.frontier,end:t.frontier+1})),n.stateAfter=Ut(t.mode,o)}else En(e,n,o),n.stateAfter=0==t.frontier%5?Ut(t.mode,o):null;return++t.frontier,+new Date>i?(L(e,e.options.workDelay),!0):void 0}),a.length&&J(e,function(){for(var e=0;a.length>e;++e)G(this,a[e].start,a[e].end)})()}}function D(e,t){for(var n,r,i=e.view.doc,o=t,a=t-100;o>a;--o){if(0==o)return 0;var s=In(i,o-1);if(s.stateAfter)return o;var l=ar(s.text,null,e.options.tabSize);(null==r||n>l)&&(r=o-1,n=l)}return r}function O(e,t){var n=e.view;if(!n.mode.startState)return!0;var r=D(e,t),i=r&&In(n.doc,r-1).stateAfter;return i=i?Ut(n.mode,i):Xt(n.mode),n.doc.iter(r,t,function(o){En(e,o,i);var a=r==t-1||0==r%5||r>=n.showingFrom&&n.showingTo>r;o.stateAfter=a?Ut(n.mode,i):null,++r}),i}function j(e){return e.lineSpace.offsetTop}function M(e){var t=vr(e.measure,mr("pre")).appendChild(mr("span","x"));return t.offsetLeft}function H(e,t,n,r){var i=-1;r=r||F(e,t);for(var o=n;;o+=i){var a=r[o];if(a)break;0>i&&0==o&&(i=1)}return{left:n>o?a.right:a.left,right:o>n?a.left:a.right,top:a.top,bottom:a.bottom}}function F(e,t){for(var n=e.display,r=e.display.measureLineCache,i=0;r.length>i;++i){var o=r[i];if(o.text==t.text&&o.markedSpans==t.markedSpans&&n.scroller.clientWidth==o.width)return o.measure}var a=I(e,t),o={text:t.text,width:n.scroller.clientWidth,markedSpans:t.markedSpans,measure:a};return 16==r.length?r[++n.measureLineCachePos%16]=o:r.push(o),a}function I(e,t){var n=e.display,r=dr(t.text.length),i=An(e,t,r);if(Dr&&!Or&&!e.options.lineWrapping&&i.childNodes.length>100){for(var o=document.createDocumentFragment(),a=10,s=i.childNodes.length,l=0,u=Math.ceil(s/a);u>l;++l){for(var c=mr("div",null,null,"display: inline-block"),d=0;a>d&&s;++d)c.appendChild(i.firstChild),--s;o.appendChild(c)}i.appendChild(o)}vr(n.measure,i);for(var f,h=n.lineDiv.getBoundingClientRect(),p=[],m=dr(t.text.length),g=i.offsetHeight,l=0;r.length>l;++l)if(f=r[l]){for(var v=f.getBoundingClientRect(),y=Math.max(0,v.top-h.top),b=Math.min(v.bottom-h.top,g),d=0;p.length>d;d+=2){var x=p[d],w=p[d+1];if(!(x>b||y>w)&&(y>=x&&w>=b||x>=y&&b>=w||Math.min(b,w)-Math.max(y,x)>=b-y>>1)){p[d]=Math.min(y,x),p[d+1]=Math.max(b,w);break}}d==p.length&&p.push(y,b),m[l]={left:v.left-h.left,right:v.right-h.left,top:d}}for(var f,l=0;m.length>l;++l)if(f=m[l]){var _=f.top;f.top=p[_],f.bottom=p[_+1]}return m}function P(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.view.maxLineChanged=!0}function R(e,t,n,r){if(t.widgets)for(var i=0;t.widgets.length>i;++i)if(t.widgets[i].above){var o=xn(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Wn(e,t);if("local"!=r&&(a-=e.display.viewOffset),"page"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var l=s.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function q(e,t,n,r){return r||(r=In(e.view.doc,t.line)),R(e,r,H(e,r,t.ch),n)}function B(e,t,n,r,i){function o(t,o){var a=H(e,r,t,i);return o?a.left=a.right:a.right=a.left,R(e,r,a,n)}r=r||In(e.view.doc,t.line),i||(i=F(e,r));var a=$n(r),s=t.ch;if(!a)return o(s);for(var l,u,c=a[0].level,d=0;a.length>d;++d){var f,h,p=a[d],m=p.level%2;if(s>p.from&&p.to>s)return o(s,m);var g=m?p.to:p.from,v=m?p.from:p.to;if(g==s)h=d&&p.level<(f=a[d-1]).level?o(f.level%2?f.from:f.to-1,!0):o(m&&p.from!=p.to?s-1:s),m==c?l=h:u=h;else if(v==s){var f=a.length-1>d&&a[d+1];if(!m&&f&&f.from==f.to)continue;h=f&&p.level<f.level?o(f.level%2?f.to-1:f.from):o(m?s:s-1,!0),m==c?l=h:u=h}}return c&&!s&&(u=o(a[0].to-1)),l?(u&&(l.other=u),l):u}function W(e,t,n){var r=e.view.doc;if(n+=e.display.viewOffset,0>n)return{line:0,ch:0,outside:!0};var i=Bn(r,n);if(i>=r.size)return{line:r.size-1,ch:In(r,r.size-1).text.length};for(0>t&&(t=0);;){var o=In(r,i),a=$(e,o,i,t,n),s=cn(o),l=s&&s.find();if(!(s&&a.ch>=l.from.ch))return a;i=l.to.line}}function $(e,t,n,r,i){function o(r){var i=B(e,{line:n,ch:r},"line",t,u);return s=!0,a>i.bottom?Math.max(0,i.left-l):i.top>a?i.left+l:(s=!1,i.left)}var a=i-Wn(e,t),s=!1,l=e.display.wrapper.clientWidth,u=F(e,t),c=$n(t),d=t.text.length,f=Tr(t),h=Sr(t),p=M(e.display),m=o(h);if(r>m)return{line:n,ch:h,outside:s};for(;;){if(c?h==f||h==Er(t,f,1):1>=h-f){for(var g=m-r>r-p,v=g?f:h;wi.test(t.text.charAt(v));)++v;return{line:n,ch:v,after:g,outside:s}}var y=Math.ceil(d/2),b=f+y;if(c){b=f;for(var x=0;y>x;++x)b=Er(t,b,1)}var w=o(b);w>r?(h=b,m=w,s&&(m+=1e3),d-=y):(f=b,p=w,d=y)}}function z(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Jr){Jr=mr("pre");for(var t=0;49>t;++t)Jr.appendChild(document.createTextNode("x")),Jr.appendChild(mr("br"));Jr.appendChild(document.createTextNode("x"))}vr(e.measure,Jr);var n=Jr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),gr(e.measure),n||1}function V(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=mr("span","x"),n=mr("pre",[t]);vr(e.measure,n);var r=t.offsetWidth;return r>2&&(e.cachedCharWidth=r),r||10}function U(e){e.curOp?++e.curOp.depth:e.curOp={depth:1,changes:[],delayedCallbacks:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,id:++e.nextOpId}}function X(e){var t=e.curOp;if(!--t.depth){e.curOp=null;var n=e.view,r=e.display;if(t.updateMaxLine&&c(n),n.maxLineChanged&&!e.options.lineWrapping){var i=H(e,n.maxLine,n.maxLine.text.length).right;r.sizer.style.minWidth=i+3+vi+"px",n.maxLineChanged=!1;var o=Math.max(0,r.sizer.offsetLeft+r.sizer.offsetWidth-r.scroller.clientWidth);n.scrollLeft>o&&ct(e,Math.min(r.scroller.scrollLeft,o),!0)}var a,s;if(t.selectionChanged){var l=B(e,n.sel.head);a=Rt(e,l.left,l.top,l.left,l.bottom)}(t.changes.length||a&&null!=a.scrollTop)&&(s=y(e,t.changes,a&&a.scrollTop)),!s&&t.selectionChanged&&S(e),a&&Ft(e),t.selectionChanged&&E(e),n.focused&&t.updateInput&&Z(e,t.userSelChange),t.textChanged&&nr(e,"change",e,t.textChanged),t.selectionChanged&&nr(e,"cursorActivity",e);for(var u=0;t.delayedCallbacks.length>u;++u)t.delayedCallbacks[u](e)}}function J(e,t){return function(){var n=e||this;U(n);try{var r=t.apply(n,arguments)}finally{X(n)}return r}}function G(e,t,n,r){e.curOp.changes.push({from:t,to:n,diff:r})}function Y(e){e.view.pollingFast||e.display.poll.set(e.options.pollInterval,function(){Q(e),e.view.focused&&Y(e)})}function K(e){function t(){var r=Q(e);r||n?(e.display.pollingFast=!1,Y(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function Q(e){var t=e.display.input,n=e.display.prevInput,r=e.view,i=r.sel;if(!r.focused||ki(t)||tt(e))return!1;var o=t.value;if(o==n&&Nt(i.from,i.to))return!1;U(e),r.sel.shift=!1;for(var a=0,s=Math.min(n.length,o.length);s>a&&n[a]==o[a];)++a;var l=i.from,u=i.to;n.length>a?l={line:l.line,ch:l.ch-(n.length-a)}:r.overwrite&&Nt(l,u)&&!e.display.pasteIncoming&&(u={line:u.line,ch:Math.min(In(e.view.doc,u.line).text.length,u.ch+(o.length-a))});var c=e.curOp.updateInput;return wt(e,l,u,Ni(o.slice(a)),"end",e.display.pasteIncoming?"paste":"input",{from:l,to:u}),e.curOp.updateInput=c,o.length>1e3?t.value=e.display.prevInput="":e.display.prevInput=o,X(e),e.display.pasteIncoming=!1,!0}function Z(e,t){var n,r,i=e.view;Nt(i.sel.from,i.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",n=Ei&&(i.sel.to.line-i.sel.from.line>100||(r=e.getSelection()).length>1e3),e.display.input.value=n?"-":r||e.getSelection(),i.focused&&ur(e.display.input)),e.display.inaccurateSelection=n}function et(e){"nocursor"==e.options.readOnly||!Dr&&document.activeElement==e.display.input||e.display.input.focus()}function tt(e){return e.options.readOnly||e.view.cantEdit}function nt(e){function t(){e.view.focused&&setTimeout(fr(et,e),0)}function n(t){e.options.onDragEvent&&e.options.onDragEvent(e,Xn(t))||Yn(t)}function r(){i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=e.getSelection(),ur(i.input))}var i=e.display;er(i.scroller,"mousedown",J(e,ot)),er(i.scroller,"dblclick",J(e,Jn)),er(i.lineSpace,"selectstart",function(e){rt(i,e)||Jn(e)}),Ar||er(i.scroller,"contextmenu",function(t){xt(e,t)}),er(i.scroller,"scroll",function(){ut(e,i.scroller.scrollTop),ct(e,i.scroller.scrollLeft,!0),nr(e,"scroll",e)}),er(i.scrollbarV,"scroll",function(){ut(e,i.scrollbarV.scrollTop)}),er(i.scrollbarH,"scroll",function(){ct(e,i.scrollbarH.scrollLeft)}),er(i.scroller,"mousewheel",function(t){dt(e,t)}),er(i.scroller,"DOMMouseScroll",function(t){dt(e,t)}),er(i.scrollbarH,"mousedown",t),er(i.scrollbarV,"mousedown",t),er(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),er(window,"resize",function o(){i.cachedCharWidth=i.cachedTextHeight=null,P(e),i.wrapper.parentNode?y(e,!0):tr(window,"resize",o)
}),er(i.input,"keyup",J(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,Xn(t))||16==Zn(t,"keyCode")&&(e.view.sel.shift=!1)})),er(i.input,"input",fr(K,e)),er(i.input,"keydown",J(e,gt)),er(i.input,"keypress",J(e,vt)),er(i.input,"focus",fr(yt,e)),er(i.input,"blur",fr(bt,e)),e.options.dragDrop&&(er(i.scroller,"dragstart",function(t){lt(e,t)}),er(i.scroller,"dragenter",n),er(i.scroller,"dragover",n),er(i.scroller,"drop",J(e,at))),er(i.scroller,"paste",function(t){rt(i,t)||(et(e),K(e))}),er(i.input,"paste",function(){i.pasteIncoming=!0,K(e)}),er(i.input,"cut",r),er(i.input,"copy",r),Rr&&er(i.sizer,"mouseup",function(){document.activeElement==i.input&&i.input.blur(),et(e)})}function rt(e,t){for(var n=Kn(t);n!=e.wrapper;n=n.parentNode){if(!n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(n.className)||n.parentNode==e.sizer&&n!=e.mover)return!0}}function it(e,t,n){var r=e.display;if(!n){var i=Kn(t);if(i==r.scrollbarH||i==r.scrollbarH.firstChild||i==r.scrollbarV||i==r.scrollbarV.firstChild||i==r.scrollbarFiller)return null}var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX,a=t.clientY}catch(t){return null}return W(e,o-s.left,a-s.top)}function ot(e){function t(e){if("single"==d)return Ot(i,At(l,u),e),void 0;if(g=At(l,g),v=At(l,v),"double"==d){var t=$t(In(l,e.line).text,e);kt(e,g)?Ot(i,t.from,v):Ot(i,g,t.to)}else"triple"==d&&(kt(e,g)?Ot(i,v,At(l,{line:e.line,ch:0})):Ot(i,g,At(l,{line:e.line+1,ch:0})))}function n(e){var r=++b,s=it(i,e,!0);if(s)if(Nt(s,p)){var u=e.clientY<y.top?-20:e.clientY>y.bottom?20:0;u&&setTimeout(J(i,function(){b==r&&(o.scroller.scrollTop+=u,n(e))}),50)}else{a.focused||yt(i),p=s,t(s);var c=h(o,l);(s.line>=c.to||s.line<c.from)&&setTimeout(J(i,function(){b==r&&n(e)}),150)}}function r(e){b=1/0;var n=it(i,e);n&&t(n),Jn(e),et(i),tr(document,"mousemove",x),tr(document,"mouseup",w)}var i=this,o=i.display,a=i.view,s=a.sel,l=a.doc;if(s.shift=Zn(e,"shiftKey"),rt(o,e))return Mr||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)),void 0;if(!st(i,e)){var u=it(i,e);switch(Qn(e)){case 3:return Ar&&xt.call(i,i,e),void 0;case 2:return u&&Ot(i,u),setTimeout(fr(et,i),20),Jn(e),void 0}if(!u)return Kn(e)==o.scroller&&Jn(e),void 0;a.focused||yt(i);var c=+new Date,d="single";if(Yr&&Yr.time>c-400&&Nt(Yr.pos,u))d="triple",Jn(e),setTimeout(fr(et,i),20),zt(i,u.line);else if(Gr&&Gr.time>c-400&&Nt(Gr.pos,u)){d="double",Yr={time:c,pos:u},Jn(e);var f=$t(In(l,u.line).text,u);Ot(i,f.from,f.to)}else Gr={time:c,pos:u};var p=u;if(i.options.dragDrop&&_i&&!tt(i)&&!Nt(s.from,s.to)&&!kt(u,s.from)&&!kt(s.to,u)&&"single"==d){var m=J(i,function(t){Mr&&(o.scroller.draggable=!1),a.draggingText=!1,tr(document,"mouseup",m),tr(o.scroller,"drop",m),10>Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)&&(Jn(t),Ot(i,u),et(i))});return Mr&&(o.scroller.draggable=!0),a.draggingText=m,o.scroller.dragDrop&&o.scroller.dragDrop(),er(document,"mouseup",m),er(o.scroller,"drop",m),void 0}Jn(e),"single"==d&&Ot(i,At(l,u));var g=s.from,v=s.to,y=o.wrapper.getBoundingClientRect(),b=0,x=J(i,function(e){Dr||Qn(e)?n(e):r(e)}),w=J(i,r);er(document,"mousemove",x),er(document,"mouseup",w)}}function at(e){var t=this;if(!(rt(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,Xn(e)))){Jn(e);var n=it(t,e,!0),r=e.dataTransfer.files;if(n&&!tt(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){var s=new FileReader;s.onload=function(){o[r]=s.result,++a==i&&(n=At(t.view.doc,n),J(t,function(){var e=St(t,o.join(""),n,n,"paste");jt(t,n,e)})())},s.readAsText(e)},l=0;i>l;++l)s(r[l],l);else{if(t.view.draggingText&&!kt(n,t.view.sel.from)&&!kt(t.view.sel.to,n))return t.view.draggingText(e),Dr&&setTimeout(fr(et,t),50),void 0;try{var o=e.dataTransfer.getData("Text");if(o){var u=t.view.sel.from,c=t.view.sel.to;jt(t,n,n),t.view.draggingText&&St(t,"",u,c,"paste"),t.replaceSelection(o,null,"paste"),et(t),yt(t)}}catch(e){}}}}function st(e,t){var n=e.display;try{var r=t.clientX,i=t.clientY}catch(t){return!1}if(r>=Math.floor(n.gutters.getBoundingClientRect().right))return!1;if(Jn(t),!ir(e,"gutterClick"))return!0;var o=n.lineDiv.getBoundingClientRect();if(i>o.bottom)return!0;i-=o.top-n.viewOffset;for(var a=0;e.options.gutters.length>a;++a){var s=n.gutters.childNodes[a];if(s&&s.getBoundingClientRect().right>=r){var l=Bn(e.view.doc,i),u=e.options.gutters[a];rr(e,e,"gutterClick",e,l,u,t);break}}return!0}function lt(e,t){if(!rt(e.display,t)){var n=e.getSelection();t.dataTransfer.setData("Text",n),t.dataTransfer.setDragImage&&!Pr&&t.dataTransfer.setDragImage(mr("img"),0,0)}}function ut(e,t){2>Math.abs(e.view.scrollTop-t)||(e.view.scrollTop=t,Ar||y(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Ar&&y(e,[]))}function ct(e,t,n){(n?t==e.view.scrollLeft:2>Math.abs(e.view.scrollLeft-t))||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.view.scrollLeft=t,p(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function dt(e,t){var n=t.wheelDeltaX,r=t.wheelDeltaY;if(null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta),r&&Vr&&Mr)for(var i=t.target;i!=a;i=i.parentNode)if(i.lineObj){e.display.currentWheelTarget=i;break}var o=e.display,a=o.scroller;if(n&&!Ar&&!Ir&&null!=ti)return r&&ut(e,Math.max(0,Math.min(a.scrollTop+r*ti,a.scrollHeight-a.clientHeight))),ct(e,Math.max(0,Math.min(a.scrollLeft+n*ti,a.scrollWidth-a.clientWidth))),Jn(t),o.wheelStartX=null,void 0;if(r&&null!=ti){var s=r*ti,l=e.view.scrollTop,u=l+o.wrapper.clientHeight;0>s?l=Math.max(0,l+s-50):u=Math.min(e.view.doc.height,u+s+50),y(e,[],{top:l,bottom:u})}20>ei&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(ti=(ti*ei+n)/(ei+1),++ei)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}function ft(e,t,n){if("string"==typeof t&&(t=fi[t],!t))return!1;e.display.pollingFast&&Q(e)&&(e.display.pollingFast=!1);var r=e.view,i=r.sel.shift;try{tt(e)&&(r.suppressEdits=!0),n&&(r.sel.shift=!1),t(e)}catch(o){if(o!=yi)throw o;return!1}finally{r.sel.shift=i,r.suppressEdits=!1}return!0}function ht(e){var t=e.view.keyMaps.slice(0);return t.push(e.options.keyMap),e.options.extraKeys&&t.unshift(e.options.extraKeys),t}function pt(e,t){function n(){s=!0}var r=Jt(e.options.keyMap),i=r.auto;clearTimeout(ni),i&&!Yt(t)&&(ni=setTimeout(function(){Jt(e.options.keyMap)==r&&(e.options.keyMap=i.call?i.call(null,e):i)},50));var o=Li[Zn(t,"keyCode")],a=!1;if(null==o||t.altGraphKey)return!1;Zn(t,"altKey")&&(o="Alt-"+o),Zn(t,Kr?"metaKey":"ctrlKey")&&(o="Ctrl-"+o),Zn(t,Kr?"ctrlKey":"metaKey")&&(o="Cmd-"+o);var s=!1,l=ht(e);return a=Zn(t,"shiftKey")?Gt("Shift-"+o,l,function(t){return ft(e,t,!0)},n)||Gt(o,l,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?ft(e,t):void 0},n):Gt(o,l,function(t){return ft(e,t)},n),s&&(a=!1),a&&(Jn(t),E(e),jr&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),a}function mt(e,t,n){var r=Gt("'"+n+"'",ht(e),function(t){return ft(e,t,!0)});return r&&(Jn(t),E(e)),r}function gt(e){var t=this;if(t.view.focused||yt(t),Dr&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,Xn(e))){var n=Zn(e,"keyCode");t.view.sel.shift=16==n||Zn(e,"shiftKey");var r=pt(t,e);Ir&&(ii=r?n:null,r||88!=n||Ei||!Zn(e,Vr?"metaKey":"ctrlKey")||t.replaceSelection(""))}}function vt(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,Xn(e))){var n=Zn(e,"keyCode"),r=Zn(e,"charCode");if(Ir&&n==ii)return ii=null,Jn(e),void 0;if(!(Ir&&(!e.which||10>e.which)||Rr)||!pt(t,e)){var i=String.fromCharCode(null==r?n:r);this.options.electricChars&&this.view.mode.electricChars&&this.options.smartIndent&&!tt(this)&&this.view.mode.electricChars.indexOf(i)>-1&&setTimeout(J(t,function(){qt(t,t.view.sel.to.line,"smart")}),75),mt(t,e,i)||K(t)}}}function yt(e){"nocursor"!=e.options.readOnly&&(e.view.focused||(nr(e,"focus",e),e.view.focused=!0,-1==e.display.scroller.className.search(/\bCodeMirror-focused\b/)&&(e.display.scroller.className+=" CodeMirror-focused"),Z(e,!0)),Y(e),E(e))}function bt(e){e.view.focused&&(nr(e,"blur",e),e.view.focused=!1,e.display.scroller.className=e.display.scroller.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.view.focused||(e.view.sel.shift=!1)},150)}function xt(e,t){function n(){if(r.inputDiv.style.position="relative",r.input.style.cssText=s,jr&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=a),Y(e),null!=r.input.selectionStart){clearTimeout(ri);var t=r.input.value=" "+(Nt(i.from,i.to)?"":r.input.value),n=0;r.prevInput=" ",r.input.selectionStart=1,r.input.selectionEnd=t.length,ri=setTimeout(function o(){" "==r.prevInput&&0==r.input.selectionStart?J(e,fi.selectAll)(e):10>n++?ri=setTimeout(o,500):Z(e)},200)}}var r=e.display;if(!rt(r,t)){var i=e.view.sel,o=it(e,t),a=r.scroller.scrollTop;if(o&&!Ir){(Nt(i.from,i.to)||kt(o,i.from)||!kt(o,i.to))&&J(e,jt)(e,o,o);var s=r.input.style.cssText;r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",et(e),Z(e,!0),Nt(i.from,i.to)&&(r.input.value=r.prevInput=" "),Ar?(Yn(t),er(window,"mouseup",function l(){tr(window,"mouseup",l),setTimeout(n,20)})):setTimeout(n,50)}}}function wt(e,t,n,r,i,o){var a=Qr&&sn(e.view.doc,t,n);if(!a)return _t(e,t,n,r,i,o);for(var s=a.length-1;s>=1;--s)_t(e,a[s].from,a[s].to,[""],o);return a.length?_t(e,a[0].from,a[0].to,r,i,o):void 0}function _t(e,t,n,r,i,o){if(!e.view.suppressEdits){var a=e.view,s=a.doc,l=[];s.iter(t.line,n.line+1,function(e){l.push(gn(e.text,e.markedSpans))});var u=a.sel.from,c=a.sel.to,d=an(mn(l[0]),mn(lr(l)),t.ch,n.ch,r),f=Tt(e,t,n,d,i,o);return a.history&&Vn(e,t.line,r.length,l,o,u,c,a.sel.from,a.sel.to),f}}function Ct(e,t){var n=e.view.doc,r=e.view.history,i=("undo"==t?r.done:r.undone).pop();if(i){for(var o={events:[],fromBefore:i.fromAfter,toBefore:i.toAfter,fromAfter:i.fromBefore,toAfter:i.toBefore},a=i.events.length-1;a>=0;a-=1){r.dirtyCounter+="undo"==t?-1:1;var s=i.events[a],l=[],u=s.start+s.added;n.iter(s.start,u,function(e){l.push(gn(e.text,e.markedSpans))}),o.events.push({start:s.start,added:s.old.length,old:l});var c=a?null:{from:i.fromBefore,to:i.toBefore};Tt(e,{line:s.start,ch:0},{line:u-1,ch:In(n,u-1).text.length},s.old,c,t)}("undo"==t?r.undone:r.done).push(o)}}function Tt(e,t,n,r,i,o){var a=e.view,s=a.doc,l=e.display;if(!a.suppressEdits){var c=n.line-t.line,d=In(s,t.line),f=In(s,n.line),h=!1,p=t.line;e.options.lineWrapping||(p=Rn(dn(s,d)),s.iter(p,n.line+1,function(e){return e==a.maxLine?(h=!0,!0):void 0}));var m=lr(r),g=z(l);if(0==t.ch&&0==n.ch&&""==pn(m)){for(var v=[],y=0,b=r.length-1;b>y;++y)v.push(_n(pn(r[y]),mn(r[y]),g));Cn(e,f,f.text,mn(m)),c&&s.remove(t.line,c,e),v.length&&s.insert(t.line,v)}else if(d==f)if(1==r.length)Cn(e,d,d.text.slice(0,t.ch)+pn(r[0])+d.text.slice(n.ch),mn(r[0]));else{for(var v=[],y=1,b=r.length-1;b>y;++y)v.push(_n(pn(r[y]),mn(r[y]),g));v.push(_n(pn(m)+d.text.slice(n.ch),mn(m),g)),Cn(e,d,d.text.slice(0,t.ch)+pn(r[0]),mn(r[0])),s.insert(t.line+1,v)}else if(1==r.length)Cn(e,d,d.text.slice(0,t.ch)+pn(r[0])+f.text.slice(n.ch),mn(r[0])),s.remove(t.line+1,c,e);else{var v=[];Cn(e,d,d.text.slice(0,t.ch)+pn(r[0]),mn(r[0])),Cn(e,f,pn(m)+f.text.slice(n.ch),mn(m));for(var y=1,b=r.length-1;b>y;++y)v.push(_n(pn(r[y]),mn(r[y]),g));c>1&&s.remove(t.line+1,c-1,e),s.insert(t.line+1,v)}if(e.options.lineWrapping){var x=Math.max(5,l.scroller.clientWidth/V(l)-3);s.iter(t.line,t.line+r.length,function(e){if(0!=e.height){var t=(Math.ceil(e.text.length/x)||1)*g;t!=e.height&&Pn(e,t)}})}else s.iter(p,t.line+r.length,function(e){var t=u(s,e);t>a.maxLineLength&&(a.maxLine=e,a.maxLineLength=t,a.maxLineChanged=!0,h=!1)}),h&&(e.curOp.updateMaxLine=!0);a.frontier=Math.min(a.frontier,t.line),L(e,400);var w=r.length-c-1;if(G(e,t.line,n.line+1,w),ir(e,"change")){for(var y=0;r.length>y;++y)"string"!=typeof r[y]&&(r[y]=r[y].text);var _={from:t,to:n,text:r,origin:o};if(e.curOp.textChanged){for(var C=e.curOp.textChanged;C.next;C=C.next);C.next=_}else e.curOp.textChanged=_}var T,S,N={line:t.line+r.length-1,ch:pn(m).length+(1==r.length?t.ch:0)};if(i&&"string"!=typeof i)i.from?(T=i.from,S=i.to):T=S=i;else if("end"==i)T=S=N;else if("start"==i)T=S=t;else if("around"==i)T=t,S=N;else{var k=function(e){if(kt(e,t))return e;if(!kt(n,e))return N;var r=e.line+w,i=e.ch;return e.line==n.line&&(i+=pn(m).length-(n.ch-(n.line==t.line?t.ch:0))),{line:r,ch:i}};T=k(a.sel.from),S=k(a.sel.to)}return jt(e,T,S,null,!0),N}}function St(e,t,n,r,i){if(r||(r=n),kt(r,n)){var o=r;r=n,n=o}return wt(e,n,r,Ni(t),null,i)}function Nt(e,t){return e.line==t.line&&e.ch==t.ch}function kt(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Et(e){return{line:e.line,ch:e.ch}}function Lt(e,t){return Math.max(0,Math.min(t,e.size-1))}function At(e,t){if(0>t.line)return{line:0,ch:0};if(t.line>=e.size)return{line:e.size-1,ch:In(e,e.size-1).text.length};var n=t.ch,r=In(e,t.line).text.length;return null==n||n>r?{line:t.line,ch:r}:0>n?{line:t.line,ch:0}:t}function Dt(e,t){return t>=0&&e.size>t}function Ot(e,t,n,r){var i=e.view.sel;if(i.shift||i.extend){var o=i.anchor;if(n){var a=kt(t,o);a!=kt(n,o)?(o=t,t=n):a!=kt(t,n)&&(t=n)}jt(e,o,t,r)}else jt(e,t,n||t,r);e.curOp.userSelChange=!0}function jt(e,t,n,r,i){e.view.goalColumn=null;var o=e.view.sel;if((i||!Nt(t,o.anchor))&&(t=Ht(e,t,r,"push"!=i)),(i||!Nt(n,o.head))&&(n=Ht(e,n,r,"push"!=i)),!Nt(o.anchor,t)||!Nt(o.head,n)){o.anchor=t,o.head=n;var a=kt(n,t);o.from=a?n:t,o.to=a?t:n,e.curOp.updateInput=!0,e.curOp.selectionChanged=!0}}function Mt(e){jt(e,e.view.sel.from,e.view.sel.to,null,"push")}function Ht(e,t,n,r){var i=e.view.doc,o=!1,a=t,s=n||1;e.view.cantEdit=!1;e:for(;;){var l,u=In(i,a.line);if(u.markedSpans){for(var c=0;u.markedSpans.length>c;++c){var d=u.markedSpans[c],f=d.marker;if((null==d.from||(f.inclusiveLeft?d.from<=a.ch:d.from<a.ch))&&(null==d.to||(f.inclusiveRight?d.to>=a.ch:d.to>a.ch))){if(r&&f.clearOnEnter){(l||(l=[])).push(f);continue}if(!f.atomic)continue;var h=f.find()[0>s?"from":"to"];if(Nt(h,a)&&(h.ch+=s,0>h.ch?h=h.line?At(i,{line:h.line-1}):null:h.ch>u.text.length&&(h=h.line<i.size-1?{line:h.line+1,ch:0}:null),!h)){if(o)return r?(e.view.cantEdit=!0,{line:0,ch:0}):Ht(e,t,n,!0);o=!0,h=t,s=-s}a=h;continue e}}if(l)for(var c=0;l.length>c;++c)l[c].clear()}return a}}function Ft(e){var t=e.view,n=It(e,t.sel.head);if(t.focused){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(0>n.top+i.top?o=!0:n.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Wr){var a="none"==r.cursor.style.display;a&&(r.cursor.style.display="",r.cursor.style.left=n.left+"px",r.cursor.style.top=n.top-r.viewOffset+"px"),r.cursor.scrollIntoView(o),a&&(r.cursor.style.display="none")}}}function It(e,t){for(;;){var n=!1,r=B(e,t),i=Rt(e,r.left,r.top,r.left,r.bottom),o=e.view.scrollTop,a=e.view.scrollLeft;if(null!=i.scrollTop&&(ut(e,i.scrollTop),Math.abs(e.view.scrollTop-o)>1&&(n=!0)),null!=i.scrollLeft&&(ct(e,i.scrollLeft),Math.abs(e.view.scrollLeft-a)>1&&(n=!0)),!n)return r}}function Pt(e,t,n,r,i){var o=Rt(e,t,n,r,i);null!=o.scrollTop&&ut(e,o.scrollTop),null!=o.scrollLeft&&ct(e,o.scrollLeft)}function Rt(e,t,n,r,i){var o=e.display,a=j(o);n+=a,i+=a;var s=o.scroller.clientHeight-vi,l=o.scroller.scrollTop,u={},c=e.view.doc.height+2*a,d=a+10>n,f=i+a>c-10;l>n?u.scrollTop=d?0:Math.max(0,n):i>l+s&&(u.scrollTop=(f?c:i)-s);var h=o.scroller.clientWidth-vi,p=o.scroller.scrollLeft;t+=o.gutters.offsetWidth,r+=o.gutters.offsetWidth;var m=o.gutters.offsetWidth,g=m+10>t;return p+m>t||g?(g&&(t=0),u.scrollLeft=Math.max(0,t-10-m)):r>h+p-3&&(u.scrollLeft=r+10-h),u}function qt(e,t,n,r){var i=e.view.doc;if(n||(n="add"),"smart"==n)if(e.view.mode.indent)var o=O(e,t);else n="prev";var a,s=e.options.tabSize,l=In(i,t),u=ar(l.text,null,s),c=l.text.match(/^\s*/)[0];if("smart"==n&&(a=e.view.mode.indent(o,l.text.slice(c.length),l.text),a==yi)){if(!r)return;n="prev"}"prev"==n?a=t?ar(In(i,t-1).text,null,s):0:"add"==n?a=u+e.options.indentUnit:"subtract"==n&&(a=u-e.options.indentUnit),a=Math.max(0,a);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(a/s);h;--h)f+=s,d+="	";a>f&&(d+=sr(a-f)),d!=c&&St(e,d,{line:t,ch:0},{line:t,ch:c.length},"input"),l.stateAfter=null}function Bt(e,t,n){var r=t,i=t,o=e.view.doc;return"number"==typeof t?i=In(o,Lt(o,t)):r=Rn(t),null==r?null:n(i,r)?(G(e,r,r+1),i):null}function Wt(e,t,n,r){function i(){var e=l+t;return 0>e||e==a.size?!1:(l=e,c=In(a,e))}function o(e){var n=(r?Er:Lr)(c,u,t,!0);if(null==n){if(e||!i())return!1;u=r?(0>t?Sr:Tr)(c):0>t?c.text.length:0}else u=n;return!0}var a=e.view.doc,s=e.view.sel.head,l=s.line,u=s.ch,c=In(a,l);if("char"==n)o();else if("column"==n)o(!0);else if("word"==n)for(var d=!1;!(0>t)||o();){if(hr(c.text.charAt(u)))d=!0;else if(d){0>t&&(t=1,o());break}if(t>0&&!o())break}return Ht(e,{line:l,ch:u},t,!0)}function $t(e,t){var n=t.ch,r=t.ch;if(e){t.after===!1||r==e.length?--n:++r;for(var i=e.charAt(n),o=hr(i)?hr:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!hr(e)};n>0&&o(e.charAt(n-1));)--n;for(;e.length>r&&o(e.charAt(r));)++r}return{from:{line:t.line,ch:n},to:{line:t.line,ch:r}}}function zt(e,t){Ot(e,{line:t,ch:0},At(e.view.doc,{line:t+1,ch:0}))}function Vt(t,n,r,i){e.defaults[t]=n,r&&(oi[t]=i?function(e,t,n){n!=si&&r(e,t,n)}:r)}function Ut(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Xt(e,t,n){return e.startState?e.startState(t,n):!0}function Jt(e){return"string"==typeof e?hi[e]:e}function Gt(e,t,n,r){function i(t){t=Jt(t);var o=t[e];if(o===!1)return r&&r(),!0;if(null!=o&&n(o))return!0;if(t.nofallthrough)return r&&r(),!0;var a=t.fallthrough;if(null==a)return!1;if("[object Array]"!=Object.prototype.toString.call(a))return i(a);for(var s=0,l=a.length;l>s;++s)if(i(a[s]))return!0;return!1}for(var o=0;t.length>o;++o)if(i(t[o]))return!0}function Yt(e){var t=Li[Zn(e,"keyCode")];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Kt(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function Qt(e,t){this.lines=[],this.type=t,this.cm=e}function Zt(e,t,n,r,i){var o=e.view.doc,a=new Qt(e,i);if("range"==i&&!kt(t,n))return a;if(r)for(var s in r)r.hasOwnProperty(s)&&(a[s]=r[s]);a.replacedWith&&(a.collapsed=!0,a.replacedWith=mr("span",[a.replacedWith],"CodeMirror-widget")),a.collapsed&&(Zr=!0);var l,u,c=t.line,d=0;if(o.iter(c,n.line+1,function(r){a.collapsed&&!e.options.lineWrapping&&dn(o,r)==e.view.maxLine&&(e.curOp.updateMaxLine=!0);var i={from:null,to:null,marker:a};d+=r.text.length,c==t.line&&(i.from=t.ch,d-=t.ch),c==n.line&&(i.to=n.ch,d-=r.text.length-n.ch),a.collapsed&&(c==n.line&&(u=ln(r,n.ch)),c==t.line?l=ln(r,t.ch):Pn(r,0)),nn(r,i),++c}),a.collapsed&&o.iter(t.line,n.line+1,function(e){fn(e)&&Pn(e,0)}),a.readOnly&&(Qr=!0,(e.view.history.done.length||e.view.history.undone.length)&&e.clearHistory()),a.collapsed){if(l!=u)throw Error("Inserting collapsed marker overlapping an existing one");a.size=d,a.atomic=!0}return(a.className||a.startStyle||a.endStyle||a.collapsed)&&G(e,t.line,n.line+1),a.atomic&&Mt(e),a}function en(e,t){if(e)for(var n=0;e.length>n;++n){var r=e[n];if(r.marker==t)return r}}function tn(e,t){for(var n,r=0;e.length>r;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function nn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.lines.push(e)}function rn(e,t){if(e)for(var n,r=0;e.length>r;++r){var i=e[r],o=i.marker,a=null==i.from||(o.inclusiveLeft?t>=i.from:t>i.from);if(a||"bookmark"==o.type&&i.from==t){var s=null==i.to||(o.inclusiveRight?i.to>=t:i.to>t);(n||(n=[])).push({from:i.from,to:s?null:i.to,marker:o})}}return n}function on(e,t,n){if(e)for(var r,i=0;e.length>i;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=n:o.to>n);if(s||"bookmark"==a.type&&o.from==n&&o.from!=t){var l=null==o.from||(a.inclusiveLeft?n>=o.from:n>o.from);(r||(r=[])).push({from:l?null:o.from-n,to:null==o.to?null:o.to-n,marker:a})}}return r}function an(e,t,n,r,i){if(!e&&!t)return i;var o=rn(e,n),a=on(t,n,r),s=1==i.length,l=lr(i).length+(s?n:0);if(o)for(var u=0;o.length>u;++u){var c=o[u];if(null==c.to){var d=en(a,c.marker);d?s&&(c.to=null==d.to?null:d.to+l):c.to=n}}if(a)for(var u=0;a.length>u;++u){var c=a[u];if(null!=c.to&&(c.to+=l),null==c.from){var d=en(o,c.marker);d||(c.from=l,s&&(o||(o=[])).push(c))}else c.from+=l,s&&(o||(o=[])).push(c)}var f=[gn(i[0],o)];if(!s){var h,p=i.length-2;if(p>0&&o)for(var u=0;o.length>u;++u)null==o[u].to&&(h||(h=[])).push({from:null,to:null,marker:o[u].marker});for(var u=0;p>u;++u)f.push(gn(i[u+1],h));f.push(gn(lr(i),a))}return f}function sn(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;e.markedSpans.length>t;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=cr(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;r.length>o;++o)for(var a=r[o].find(),s=0;i.length>s;++s){var l=i[s];if(kt(a.from,l.to)&&!kt(a.to,l.from)){var u=[s,1];kt(l.from,a.from)&&u.push({from:l.from,to:a.from}),kt(a.to,l.to)&&u.push({from:a.to,to:l.to}),i.splice.apply(i,u),s+=u.length-1}}return i}function ln(e,t){var n,r=Zr&&e.markedSpans;if(r)for(var i,o=0;r.length>o;++o)i=r[o],i.marker.collapsed&&(null==i.from||t>i.from)&&(null==i.to||i.to>t)&&(!n||n.width<i.marker.width)&&(n=i.marker);return n}function un(e){return ln(e,-1)}function cn(e){return ln(e,e.text.length+1)}function dn(e,t){for(var n;n=un(t);)t=In(e,n.find().from.line);return t}function fn(e){var t=Zr&&e.markedSpans;if(t)for(var n,r=0;t.length>r;++r)if(n=t[r],n.marker.collapsed){if(null==n.from)return!0;if(0==n.from&&n.marker.inclusiveLeft&&hn(e,n))return!0}}function hn(e,t){if(null==t.to){var n=t.marker.find().to,r=In(qn(e),n.line);return hn(r,en(r.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==e.text.length)return!0;for(var i,o=0;e.markedSpans.length>o;++o)if(i=e.markedSpans[o],i.marker.collapsed&&i.from==t.to&&(i.marker.inclusiveLeft||t.marker.inclusiveRight)&&hn(e,i))return!0}function pn(e){return"string"==typeof e?e:e.text}function mn(e){if("string"==typeof e)return null;for(var t=e.markedSpans,n=null,r=0;t.length>r;++r)t[r].marker.explicitlyCleared?n||(n=t.slice(0,r)):n&&n.push(t[r]);return n?n.length?n:null:t}function gn(e,t){return t?{text:e,markedSpans:t}:e}function vn(e){var t=e.markedSpans;if(t){for(var n=0;t.length>n;++n){var r=t[n].marker.lines,i=cr(r,e);r.splice(i,1)}e.markedSpans=null}}function yn(e,t){if(t){for(var n=0;t.length>n;++n)t[n].marker.lines.push(e);e.markedSpans=t}}function bn(e){return function(){U(this.cm);try{var t=e.apply(this,arguments)}finally{X(this.cm)}return t}}function xn(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||vr(e.cm.display.measure,mr("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function wn(e,t,n,r){var i=new pi(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),Bt(e,t,function(t){if((t.widgets||(t.widgets=[])).push(i),i.line=t,!fn(t)||i.showIfHidden){var n=Wn(e,t)<e.display.scroller.scrollTop;Pn(t,t.height+xn(i)),n&&setTimeout(function(){e.display.scroller.scrollTop+=i.height})}return!0}),i}function _n(e,t,n){var r={text:e,height:n};return yn(r,t),fn(r)&&(r.height=0),r}function Cn(e,t,n,r){t.text=n,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),vn(t),yn(t,r),fn(t)?t.height=0:t.height||(t.height=z(e.display)),rr(e,t,"change")}function Tn(e){e.parent=null,vn(e)}function Sn(e,t,n,r,i){var o=e.options.flattenSpans,a="",s=null,l=new Kt(t,e.options.tabSize);for(""==t&&n.blankLine&&n.blankLine(r);!l.eol();){var u=n.token(l,r);l.pos>5e3&&(l.pos=Math.min(t.length,l.pos+5e4),u=null);var c=l.current();l.start=l.pos,o&&s==u?a+=c:(a&&i(a,s),a=c,s=u)}a&&i(a,s)}function Nn(e,t,n){var r=[e.view.modeGen];Sn(e,t.text,e.view.mode,n,function(e,t){r.push(e,t)});for(var i=0;e.view.overlays.length>i;++i){var o=e.view.overlays[i],a=1;Sn(e,t.text,o.mode,!0,function(e,t){for(var n=a,i=e.length;i;){var s=r[a],l=s.length;i>=l?i-=l:(r.splice(a,1,s.slice(0,i),r[a+1],s.slice(i)),i=0),a+=2}if(t)if(o.opaque)r.splice(n,a-n,e,t),a=n+2;else for(;a>n;n+=2){var s=r[n+1];r[n+1]=s?s+" "+t:t}})}return r}function kn(e,t){return t.styles&&t.styles[0]==e.view.modeGen||(t.styles=Nn(e,t,t.stateAfter=O(e,Rn(t)))),t.styles}function En(e,t,n){var r=e.view.mode,i=new Kt(t.text,e.options.tabSize);for(""==t.text&&r.blankLine&&r.blankLine(n);!i.eol()&&5e3>=i.pos;)r.token(i,n),i.start=i.pos}function Ln(e){return e?mi[e]||(mi[e]="cm-"+e.replace(/ +/g," cm-")):null}function An(e,t,n){for(var r,i,o,a=t,s=!0;r=un(a);)s=!1,a=In(e.view.doc,r.find().from.line),i||(i=a);var l={pre:mr("pre"),col:0,pos:0,display:!n,measure:null,addedOne:!1,cm:e};a.textClass&&(l.pre.className=a.textClass);do{l.measure=a==t&&n,l.pos=0,l.addToken=l.measure?On:Dn,n&&o&&a!=t&&!l.addedOne&&(n[0]=l.pre.appendChild(xr(e.display.measure)),l.addedOne=!0);var u=Mn(a,l,kn(e,a));o=a==i,u&&(a=In(e.view.doc,u.to.line),s=!1)}while(u);return n&&!l.addedOne&&(n[0]=l.pre.appendChild(s?mr("span"," "):xr(e.display.measure))),l.pre.firstChild||fn(t)||l.pre.appendChild(document.createTextNode(" ")),l.pre}function Dn(e,t,n,r,i){if(t){if(gi.test(t))for(var o=document.createDocumentFragment(),a=0;;){gi.lastIndex=a;var s=gi.exec(t),l=s?s.index-a:t.length-a;if(l&&(o.appendChild(document.createTextNode(t.slice(a,a+l))),e.col+=l),!s)break;if(a+=l+1,"	"==s[0]){var u=e.cm.options.tabSize,c=u-e.col%u;o.appendChild(mr("span",sr(c),"cm-tab")),e.col+=c}else{var d=mr("span","•","cm-invalidchar");d.title="\\u"+s[0].charCodeAt(0).toString(16),o.appendChild(d),e.col+=1}}else{e.col+=t.length;var o=document.createTextNode(t)}if(n||r||i||e.measure){var f=n||"";return r&&(f+=r),i&&(f+=i),e.pre.appendChild(mr("span",[o],f))}e.pre.appendChild(o)}}function On(e,t,n,r,i){for(var o=0;t.length>o;++o)o&&t.length>o&&e.cm.options.lineWrapping&&Ci.test(t.slice(o-1,o+1))&&e.pre.appendChild(mr("wbr")),e.measure[e.pos++]=Dn(e,t.charAt(o),n,0==o&&r,o==t.length-1&&i);t.length&&(e.addedOne=!0)}function jn(e,t,n){n&&(e.display||(n=n.cloneNode(!0)),e.pre.appendChild(n),e.measure&&t&&(e.measure[e.pos]=n,e.addedOne=!0)),e.pos+=t}function Mn(e,t,n){var r=e.markedSpans;if(r)for(var i,o,a,s,l,u=e.text,c=u.length,d=0,f=1,h="",p=0;;){if(p==d){o=a=s="",l=null,p=1/0;for(var m=null,g=0;r.length>g;++g){var v=r[g],y=v.marker;d>=v.from&&(null==v.to||v.to>d)?(null!=v.to&&p>v.to&&(p=v.to,a=""),y.className&&(o+=" "+y.className),y.startStyle&&v.from==d&&(s+=" "+y.startStyle),y.endStyle&&v.to==p&&(a+=" "+y.endStyle),y.collapsed&&(!l||l.marker.width<y.width)&&(l=v)):v.from>d&&p>v.from&&(p=v.from),"bookmark"==y.type&&v.from==d&&y.replacedWith&&(m=y.replacedWith)}if(l&&(l.from||0)==d&&(jn(t,(null==l.to?c:l.to)-d,null!=l.from&&l.marker.replacedWith),null==l.to))return l.marker.find();m&&!l&&jn(t,0,m)}if(d>=c)break;for(var b=Math.min(c,p);;){if(h){var x=d+h.length;if(!l){var w=x>b?h.slice(0,b-d):h;t.addToken(t,w,i+o,s,d+w.length==p?a:"")}if(x>=b){h=h.slice(b-d),d=b;break}d=x,s=""}h=n[f++],i=Ln(n[f++])}}else for(var f=1;n.length>f;f+=2)t.addToken(t,n[f],Ln(n[f+1]))}function Hn(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;n>t;++t)e[t].parent=this,r+=e[t].height;this.height=r}function Fn(e){this.children=e;for(var t=0,n=0,r=0,i=e.length;i>r;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function In(e,t){for(;!e.lines;)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(i>t){e=r;break}t-=i}return e.lines[t]}function Pn(e,t){for(var n=t-e.height,r=e;r;r=r.parent)r.height+=n}function Rn(e){if(null==e.parent)return null;for(var t=e.parent,n=cr(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n}function qn(e){for(var t=e.parent;t.parent;t=t.parent);return t}function Bn(e,t){var n=0;e:do{for(var r=0,i=e.children.length;i>r;++r){var o=e.children[r],a=o.height;if(a>t){e=o;continue e}t-=a,n+=o.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;i>r;++r){var s=e.lines[r],l=s.height;if(l>t)break;t-=l}return n+r}function Wn(e,t){t=dn(e.view.doc,t);for(var n=0,r=t.parent,i=0;r.lines.length>i;++i){var o=r.lines[i];if(o==t)break;n+=o.height}for(var a=r.parent;a;r=a,a=r.parent)for(var i=0;a.children.length>i;++i){var s=a.children[i];if(s==r)break;n+=s.height}return n}function $n(e){var t=e.order;return null==t&&(t=e.order=Ai(e.text)),t}function zn(){return{done:[],undone:[],lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function Vn(e,t,n,r,i,o,a,s,l){var u=e.view.history;u.undone.length=0;var c=+new Date,d=lr(u.done);if(d&&(u.lastOp==e.curOp.id||u.lastOrigin==i&&("input"==i||"delete"==i)&&u.lastTime>c-600)){var f=lr(d.events);if(f.start>t+r.length||t>f.start+f.added)d.events.push({start:t,added:n,old:r});else{for(var h=Math.max(0,f.start-t),p=Math.max(0,t+r.length-(f.start+f.added)),m=h;m>0;--m)f.old.unshift(r[m-1]);for(var m=p;m>0;--m)f.old.push(r[r.length-m]);h&&(f.start=t),f.added+=n-(r.length-h-p)}d.fromAfter=s,d.toAfter=l}else{for(d={events:[{start:t,added:n,old:r}],fromBefore:o,toBefore:a,fromAfter:s,toAfter:l},u.done.push(d);u.done.length>e.options.undoDepth;)u.done.shift();0>u.dirtyCounter?u.dirtyCounter=0/0:u.dirtyCounter++}u.lastTime=c,u.lastOp=e.curOp.id,u.lastOrigin=i}function Un(){Yn(this)}function Xn(e){return e.stop||(e.stop=Un),e}function Jn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Gn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Yn(e){Jn(e),Gn(e)}function Kn(e){return e.target||e.srcElement}function Qn(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Vr&&e.ctrlKey&&1==t&&(t=3),t}function Zn(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function er(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}}function tr(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;r.length>i;++i)if(r[i]==n){r.splice(i,1);break}}}function nr(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;n.length>i;++i)n[i].apply(null,r)}function rr(e,t,n){function r(e){return function(){e.apply(null,o)}}var i=t._handlers&&t._handlers[n];if(i)for(var o=Array.prototype.slice.call(arguments,3),a=e.curOp&&e.curOp.delayedCallbacks,s=0;i.length>s;++s)a?a.push(r(i[s])):i[s].apply(null,o)}function ir(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function or(){this.id=null}function ar(e,t,n){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var r=0,i=0;t>r;++r)"	"==e.charAt(r)?i+=n-i%n:++i;return i}function sr(e){for(;e>=bi.length;)bi.push(lr(bi)+" ");return bi[e]}function lr(e){return e[e.length-1]}function ur(e){$r?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function cr(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;++n)if(e[n]==t)return n;return-1}function dr(e){for(var t=[],n=0;e>n;++n)t.push(void 0);return t}function fr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function hr(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||xi.test(e))}function pr(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&e[n]&&++t;return!t}function mr(e,t,n,r){var i=document.createElement(e);
if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)yr(i,t);else if(t)for(var o=0;t.length>o;++o)i.appendChild(t[o]);return i}function gr(e){if(Dr)for(;e.firstChild;)e.removeChild(e.firstChild);else e.innerHTML="";return e}function vr(e,t){return gr(e).appendChild(t)}function yr(e,t){jr?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function br(e){if(null!=Ti)return Ti;var t=mr("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return vr(e,t),t.offsetWidth&&(Ti=t.offsetHeight-t.clientHeight),Ti||0}function xr(e){if(null==Si){var t=mr("span","​");vr(e,mr("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Si=1>=t.offsetWidth&&t.offsetHeight>2&&!Or)}return Si?mr("span","​"):mr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function wr(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=0;e.length>i;++i){var o=e[i];(n>o.from&&o.to>t||t==n&&o.to==t)&&r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr")}}function _r(e){return e.level%2?e.to:e.from}function Cr(e){return e.level%2?e.from:e.to}function Tr(e){var t=$n(e);return t?_r(t[0]):0}function Sr(e){var t=$n(e);return t?Cr(lr(t)):e.text.length}function Nr(e,t){var n=In(e.view.doc,t),r=dn(e.view.doc,n);r!=n&&(t=Rn(r));var i=$n(r),o=i?i[0].level%2?Sr(r):Tr(r):0;return{line:t,ch:o}}function kr(e,t){for(var n,r;n=cn(r=In(e.view.doc,t));)t=n.find().to.line;var i=$n(r),o=i?i[0].level%2?Tr(r):Sr(r):r.text.length;return{line:t,ch:o}}function Er(e,t,n,r){var i=$n(e);if(!i)return Lr(e,t,n,r);for(var o=r?function(t,n){do t+=n;while(t>0&&wi.test(e.text.charAt(t)));return t}:function(e,t){return e+t},a=i[0].level,s=0;i.length>s;++s){var l=i[s],u=l.level%2==a;if(t>l.from&&l.to>t||u&&(l.from==t||l.to==t))break}for(var c=o(t,l.level%2?-n:n);null!=c;)if(l.level%2==a){if(!(l.from>c||c>l.to))break;l=i[s+=n],c=l&&(n>0==l.level%2?o(l.to,-1):o(l.from,1))}else if(c==_r(l))l=i[--s],c=l&&Cr(l);else{if(c!=Cr(l))break;l=i[++s],c=l&&_r(l)}return 0>c||c>e.text.length?null:c}function Lr(e,t,n,r){var i=t+n;if(r)for(;i>0&&wi.test(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var Ar=/gecko\/\d/i.test(navigator.userAgent),Dr=/MSIE \d/.test(navigator.userAgent),Or=Dr&&(null==document.documentMode||8>document.documentMode),jr=Dr&&(null==document.documentMode||9>document.documentMode),Mr=/WebKit\//.test(navigator.userAgent),Hr=Mr&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Fr=/Chrome\//.test(navigator.userAgent),Ir=/Opera\//.test(navigator.userAgent),Pr=/Apple Computer/.test(navigator.vendor),Rr=/KHTML\//.test(navigator.userAgent),qr=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Br=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Wr=/PhantomJS/.test(navigator.userAgent),$r=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),zr=$r||/Android|webOS|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent),Vr=$r||/Mac/.test(navigator.platform),Ur=/windows/i.test(navigator.platform),Xr=Ir&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Xr&&(Xr=Number(Xr[1]));var Jr,Gr,Yr,Kr=Vr&&(Hr||Ir&&(null==Xr||12.11>Xr)),Qr=!1,Zr=!1,ei=0,ti=null;Dr?ti=-.53:Ar?ti=15:Fr?ti=-.7:Pr&&(ti=-1/3);var ni,ri,ii=null;e.prototype={getValue:function(e){var t=[],n=this.view.doc;return n.iter(0,n.size,function(e){t.push(e.text)}),t.join(e||"\n")},setValue:J(null,function(e){var t=this.view.doc,n={line:0,ch:0},r=In(t,t.size-1).text.length;_t(this,n,{line:t.size-1,ch:r},Ni(e),n,n,"setValue")}),getSelection:function(e){return this.getRange(this.view.sel.from,this.view.sel.to,e)},replaceSelection:J(null,function(e,t,n){var r=this.view.sel;wt(this,r.from,r.to,Ni(e),t||"around",n)}),focus:function(){window.focus(),et(this),yt(this),K(this)},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,oi.hasOwnProperty(e)&&J(this,oi[e])(this,t,r))},getOption:function(e){return this.options[e]},getMode:function(){return this.view.mode},addKeyMap:function(e){this.view.keyMaps.push(e)},removeKeyMap:function(e){for(var t=this.view.keyMaps,n=0;t.length>n;++n)if(("string"==typeof e?t[n].name:t[n])==e)return t.splice(n,1),!0},addOverlay:J(null,function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw Error("Overlays may not be stateful.");this.view.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.view.modeGen++,G(this,0,this.view.doc.size)}),removeOverlay:J(null,function(e){for(var t=this.view.overlays,n=0;t.length>n;++n)if(t[n].modeSpec==e)return t.splice(n,1),this.view.modeGen++,G(this,0,this.view.doc.size),void 0}),undo:J(null,function(){Ct(this,"undo")}),redo:J(null,function(){Ct(this,"redo")}),indentLine:J(null,function(e,t,n){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Dt(this.view.doc,e)&&qt(this,e,t,n)}),indentSelection:J(null,function(e){var t=this.view.sel;if(Nt(t.from,t.to))return qt(this,t.from.line,e);for(var n=t.to.line-(t.to.ch?0:1),r=t.from.line;n>=r;++r)qt(this,r,e)}),historySize:function(){var e=this.view.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.view.history=zn()},markClean:function(){this.view.history.dirtyCounter=0,this.view.history.lastOp=this.view.history.lastOrigin=null},isClean:function(){return 0==this.view.history.dirtyCounter},getHistory:function(){function e(e){for(var t,n=0,r=[];e.length>n;++n){var i=e[n];r.push({events:t=[],fromBefore:i.fromBefore,toBefore:i.toBefore,fromAfter:i.fromAfter,toAfter:i.toAfter});for(var o=0,a=i.events;a.length>o;++o){var s=[],l=a[o];t.push({start:l.start,added:l.added,old:s});for(var u=0;l.old.length>u;++u)s.push(pn(l.old[u]))}}return r}var t=this.view.history;return{done:e(t.done),undone:e(t.undone)}},setHistory:function(e){var t=this.view.history=zn();t.done=e.done,t.undone=e.undone},getTokenAt:function(e){var t=this.view.doc;e=At(t,e);for(var n=O(this,e.line),r=this.view.mode,i=In(t,e.line),o=new Kt(i.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var a=r.token(o,n)}return{start:o.start,end:o.pos,string:o.current(),className:a||null,type:a||null,state:n}},getStateAfter:function(e){var t=this.view.doc;return e=Lt(t,null==e?t.size-1:e),O(this,e+1)},cursorCoords:function(e,t){var n,r=this.view.sel;return n=null==e?r.head:"object"==typeof e?At(this.view.doc,e):e?r.from:r.to,B(this,n,t||"page")},charCoords:function(e,t){return q(this,At(this.view.doc,e),t||"page")},coordsChar:function(e){var t=this.display.lineSpace.getBoundingClientRect();return W(this,e.left-t.left,e.top-t.top)},defaultTextHeight:function(){return z(this.display)},markText:J(null,function(e,t,n){return Zt(this,At(this.view.doc,e),At(this.view.doc,t),n,"range")}),setBookmark:J(null,function(e,t){return e=At(this.view.doc,e),Zt(this,e,e,t?{replacedWith:t}:{},"bookmark")}),findMarksAt:function(e){var t=this.view.doc;e=At(t,e);var n=[],r=In(t,e.line).markedSpans;if(r)for(var i=0;r.length>i;++i){var o=r[i];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&n.push(o.marker)}return n},setGutterMarker:J(null,function(e,t,n){return Bt(this,e,function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&pr(r)&&(e.gutterMarkers=null),!0})}),clearGutter:J(null,function(e){var t=0,n=this,r=n.view.doc;r.iter(0,r.size,function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,G(n,t,t+1),pr(r.gutterMarkers)&&(r.gutterMarkers=null)),++t})}),addLineClass:J(null,function(e,t,n){return Bt(this,e,function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[r]){if(RegExp("\\b"+n+"\\b").test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:J(null,function(e,t,n){return Bt(this,e,function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.replace(RegExp("^"+n+"\\b\\s*|\\s*\\b"+n+"\\b"),"");if(o==i)return!1;e[r]=o||null}return!0})}),addLineWidget:J(null,function(e,t,n){return wn(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Dt(this.view.doc,e))return null;var t=e;if(e=In(this.view.doc,e),!e)return null}else{var t=Rn(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=B(this,At(this.view.doc,e));var a=e.top,s=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==r)a=e.top;else if("near"==r){var l=Math.max(o.wrapper.clientHeight,this.view.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);e.bottom+t.offsetHeight>l&&e.top>t.offsetHeight&&(a=e.top-t.offsetHeight),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+j(o)+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Pt(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},lineCount:function(){return this.view.doc.size},clipPos:function(e){return At(this.view.doc,e)},getCursor:function(e){var t,n=this.view.sel;return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||e===!1?n.to:n.from,Et(t)},somethingSelected:function(){return!Nt(this.view.sel.from,this.view.sel.to)},setCursor:J(null,function(e,t,n){var r=At(this.view.doc,"number"==typeof e?{line:e,ch:t||0}:e);n?Ot(this,r):jt(this,r,r)}),setSelection:J(null,function(e,t){var n=this.view.doc;jt(this,At(n,e),At(n,t||e))}),extendSelection:J(null,function(e,t){var n=this.view.doc;Ot(this,At(n,e),t&&At(n,t))}),setExtending:function(e){this.view.sel.extend=e},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){var t=this.view.doc;return Dt(t,e)?In(t,e):void 0},getLineNumber:function(e){return Rn(e)},setLine:J(null,function(e,t){Dt(this.view.doc,e)&&St(this,t,{line:e,ch:0},{line:e,ch:In(this.view.doc,e).text.length})}),removeLine:J(null,function(e){Dt(this.view.doc,e)&&St(this,"",{line:e,ch:0},At(this.view.doc,{line:e+1,ch:0}))}),replaceRange:J(null,function(e,t,n){var r=this.view.doc;return t=At(r,t),n=n?At(r,n):t,St(this,e,t,n)}),getRange:function(e,t,n){var r=this.view.doc;e=At(r,e),t=At(r,t);var i=e.line,o=t.line;if(i==o)return In(r,i).text.slice(e.ch,t.ch);var a=[In(r,i).text.slice(e.ch)];return r.iter(i+1,o,function(e){a.push(e.text)}),a.push(In(r,o).text.slice(0,t.ch)),a.join(n||"\n")},triggerOnKeyDown:J(null,gt),execCommand:function(e){return fi[e](this)},moveH:J(null,function(e,t){var n=this.view.sel,r=0>e?n.from:n.to;(n.shift||n.extend||Nt(n.from,n.to))&&(r=Wt(this,e,t,this.options.rtlMoveVisually)),Ot(this,r,r,e)}),deleteH:J(null,function(e,t){var n=this.view.sel;Nt(n.from,n.to)?St(this,"",n.from,Wt(this,e,t,!1),"delete"):St(this,"",n.from,n.to,"delete"),this.curOp.userSelChange=!0}),moveV:J(null,function(e,t){var n,r=this.view,i=r.doc,o=this.display,a=r.sel.head,s=B(this,a,"div"),l=s.left;if(null!=r.goalColumn&&(l=r.goalColumn),"page"==t){var u=Math.min(o.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);n=s.top+e*u}else"line"==t&&(n=e>0?s.bottom+3:s.top-3);do{var c=W(this,l,n);n+=5*e}while(c.outside&&(0>e?n>0:i.height>n));"page"==t&&(o.scrollbarV.scrollTop+=q(this,c,"div").top-s.top),Ot(this,c,c,e),r.goalColumn=l}),toggleOverwrite:function(){(this.view.overwrite=!this.view.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},posFromIndex:function(e){var t,n=0,r=this.view.doc;return r.iter(0,r.size,function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,++n,void 0)}),At(r,{line:n,ch:t})},indexFromPos:function(e){e=At(this.view.doc,e);var t=e.ch;return this.view.doc.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){null!=e&&(this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=e),null!=t&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=t),y(this,[])},getScrollInfo:function(){var e=this.display.scroller,t=vi;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e){"number"==typeof e&&(e={line:e,ch:0}),e&&null==e.line?Pt(this,e.left,e.top,e.right,e.bottom):(e=e?At(this.view.doc,e):this.view.sel.head,It(this,e))},setSize:function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(e+"")?e+"px":e}null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.refresh()},on:function(e,t){er(this,e,t)},off:function(e,t){tr(this,e,t)},operation:function(e){return J(this,e)()},refresh:function(){P(this),this.display.scroller.scrollHeight>this.view.scrollTop&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=this.view.scrollTop),y(this,!0)},getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var oi=e.optionHandlers={},ai=e.defaults={},si=e.Init={toString:function(){return"CodeMirror.Init"}};Vt("value","",function(e,t){e.setValue(t)},!0),Vt("mode",null,r,!0),Vt("indentUnit",2,r,!0),Vt("indentWithTabs",!1),Vt("smartIndent",!0),Vt("tabSize",4,function(e){r(e),P(e),y(e,!0)},!0),Vt("electricChars",!0),Vt("rtlMoveVisually",!Ur),Vt("theme","default",function(e){a(e),s(e)},!0),Vt("keyMap","default",o),Vt("extraKeys",null),Vt("onKeyEvent",null),Vt("onDragEvent",null),Vt("lineWrapping",!1,i,!0),Vt("gutters",[],function(e){d(e.options),s(e)},!0),Vt("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?v(e.display)+"px":"0",e.refresh()},!0),Vt("lineNumbers",!1,function(e){d(e.options),s(e)},!0),Vt("firstLineNumber",1,s,!0),Vt("lineNumberFormatter",function(e){return e},s,!0),Vt("showCursorWhenSelecting",!1,S,!0),Vt("readOnly",!1,function(e,t){"nocursor"==t?(bt(e),e.display.input.blur()):t||Z(e,!0)}),Vt("dragDrop",!0),Vt("cursorBlinkRate",530),Vt("cursorHeight",1),Vt("workTime",100),Vt("workDelay",100),Vt("flattenSpans",!0),Vt("pollInterval",100),Vt("undoDepth",40),Vt("viewportMargin",10,function(e){e.refresh()},!0),Vt("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Vt("autofocus",null);var li=e.modes={},ui=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var r=2;arguments.length>r;++r)n.dependencies.push(arguments[r])}li[t]=n},e.defineMIME=function(e,t){ui[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ui.hasOwnProperty(t))t=ui[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){n=e.resolveMode(n);var r=li[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(ci.hasOwnProperty(n.name)){var o=ci[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}return i.name=n.name,i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ci=e.modeExtensions={};e.extendMode=function(e,t){var n=ci.hasOwnProperty(e)?ci[e]:ci[e]={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineOption=Vt;var di=[];e.defineInitHook=function(e){di.push(e)},e.copyState=Ut,e.startState=Xt,e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}};var fi=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!Nt(t,n);r||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,r?n:{line:t.line},"delete"):e.replaceRange("",t,{line:t.line+1,ch:0},"delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t},"delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection({line:0,ch:0})},goDocEnd:function(e){e.extendSelection({line:e.lineCount()-1})},goLineStart:function(e){e.extendSelection(Nr(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),n=Nr(e,t.line),r=e.getLineHandle(n.line),i=$n(r);if(i&&0!=i[0].level)e.extendSelection(n);else{var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&o>=t.ch&&t.ch;e.extendSelection({line:n.line,ch:a?0:o})}},goLineEnd:function(e){e.extendSelection(kr(e,e.getCursor().line))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","input")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){J(e,function(){e.replaceSelection("\n","end","input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},hi=e.keyMap={};hi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},hi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},hi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},hi["default"]=Vr?hi.macDefault:hi.pcDefault,hi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=Yt,e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),null==n.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form){er(t.form,"submit",r);var a=t.form,s=a.submit;try{a.submit=function l(){r(),a.submit=s,a.submit(),a.submit=l}}catch(o){}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u.save=r,u.getTextArea=function(){return t},u.toTextArea=function(){r(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(tr(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=s))},u},Kt.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return ar(this.string,this.start,this.tabSize)},indentation:function(){return ar(this.string,null,this.tabSize)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};return i(this.string).indexOf(i(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=Kt,e.TextMarker=Qt,Qt.prototype.clear=function(){if(!this.explicitlyCleared){U(this.cm);for(var e=this.cm.view,t=null,n=null,r=0;this.lines.length>r;++r){var i=this.lines[r],o=en(i.markedSpans,this);null!=o.to&&(n=Rn(i)),i.markedSpans=tn(i.markedSpans,o),null!=o.from?t=Rn(i):this.collapsed&&!fn(i)&&Pn(i,z(this.cm.display))}if(this.collapsed&&!this.cm.options.lineWrapping)for(var r=0;this.lines.length>r;++r){var a=dn(e.doc,this.lines[r]),s=u(e.doc,a);s>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=s,e.maxLineChanged=!0)}null!=t&&G(this.cm,t,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.cm.view.cantEdit&&(this.cm.view.cantEdit=!1,Mt(this.cm)),X(this.cm),rr(this.cm,this,"clear")}},Qt.prototype.find=function(){for(var e,t,n=0;this.lines.length>n;++n){var r=this.lines[n],i=en(r.markedSpans,this);if(null!=i.from||null!=i.to){var o=Rn(r);null!=i.from&&(e={line:o,ch:i.from}),null!=i.to&&(t={line:o,ch:i.to})}}return"bookmark"==this.type?e:e&&{from:e,to:t}},Qt.prototype.getOptions=function(e){var t=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:e?t&&t.cloneNode(!0):t,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}};var pi=e.LineWidget=function(e,t,n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};pi.prototype.clear=bn(function(){var e=this.line.widgets,t=Rn(this.line);if(null!=t&&e){for(var n=0;e.length>n;++n)e[n]==this&&e.splice(n--,1);Pn(this.line,Math.max(0,this.line.height-xn(this))),G(this.cm,t,t+1)}}),pi.prototype.changed=bn(function(){var e=this.height;this.height=null;var t=xn(this)-e;if(t){Pn(this.line,this.line.height+t);var n=Rn(this.line);G(this.cm,n,n+1)}});var mi={},gi=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;Hn.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;i>r;++r){var o=this.lines[r];this.height-=o.height,Tn(o),rr(n,o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0,i=t.length;i>r;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Fn.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;this.children.length>r;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e),s=i.height;if(i.remove(e,a,n),this.height-=s-i.height,o==a&&(this.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(25>this.size-t){var l=[];this.collapse(l),this.children=[new Hn(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;n>t;++t)this.children[t].collapse(e)},insert:function(e,t){for(var n=0,r=0,i=t.length;i>r;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],a=o.chunkSize();if(a>=e){if(o.insertHeight(e,t,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var s=o.lines.splice(o.lines.length-25,25),l=new Hn(s);o.height-=l.height,this.children.splice(r+1,0,l),l.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(10>=this.children.length)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Fn(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=cr(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Fn(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],a=o.chunkSize();if(a>e){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}},e.e_stop=Yn,e.e_preventDefault=Jn,e.e_stopPropagation=Gn,e.on=er,e.off=tr,e.signal=nr;var vi=30,yi=e.Pass={toString:function(){return"CodeMirror.Pass"}};or.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=ar;var bi=[""],xi=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,wi=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/,_i=function(){if(jr)return!1;var e=mr("div");return"draggable"in e||"dragDrop"in e}(),Ci=/^$/;Ar?Ci=/$'/:Pr?Ci=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:Fr&&(Ci=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var Ti,Si,Ni=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Ni;var ki=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Ei=function(){var e=mr("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Li={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=Li,function(){for(var e=0;10>e;e++)Li[e+48]=e+"";for(var e=65;90>=e;e++)Li[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Li[e+111]=Li[e+63235]="F"+e}();var Ai=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?n.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/,l="L";return function(t){if(!r.test(t))return!1;for(var n,u=t.length,c=[],d=0;u>d;++d)c.push(n=e(t.charCodeAt(d)));for(var d=0,f=l;u>d;++d){var n=c[d];"m"==n?c[d]=f:f=n}for(var d=0,h=l;u>d;++d){var n=c[d];"1"==n&&"r"==h?c[d]="n":o.test(n)&&(h=n,"r"==n&&(c[d]="R"))}for(var d=1,f=c[0];u-1>d;++d){var n=c[d];"+"==n&&"1"==f&&"1"==c[d+1]?c[d]="1":","!=n||f!=c[d+1]||"1"!=f&&"n"!=f||(c[d]=f),f=n}for(var d=0;u>d;++d){var n=c[d];if(","==n)c[d]="N";else if("%"==n){for(var p=d+1;u>p&&"%"==c[p];++p);for(var m=d&&"!"==c[d-1]||u-1>p&&"1"==c[p]?"1":"N",g=d;p>g;++g)c[g]=m;d=p-1}}for(var d=0,h=l;u>d;++d){var n=c[d];"L"==h&&"1"==n?c[d]="L":o.test(n)&&(h=n)}for(var d=0;u>d;++d)if(i.test(c[d])){for(var p=d+1;u>p&&i.test(c[p]);++p);for(var v="L"==(d?c[d-1]:l),y="L"==(u-1>p?c[p]:l),m=v||y?"L":"R",g=d;p>g;++g)c[g]=m;d=p-1}for(var b,x=[],d=0;u>d;)if(a.test(c[d])){var w=d;for(++d;u>d&&a.test(c[d]);++d);x.push({from:w,to:d,level:0})}else{var _=d,C=x.length;for(++d;u>d&&"L"!=c[d];++d);for(var g=_;d>g;)if(s.test(c[g])){g>_&&x.splice(C,0,{from:_,to:g,level:1});var T=g;for(++g;d>g&&s.test(c[g]);++g);x.splice(C,0,{from:T,to:g,level:2}),_=g}else++g;d>_&&x.splice(C,0,{from:_,to:d,level:1})}return 1==x[0].level&&(b=t.match(/^\s+/))&&(x[0].from=b[0].length,x.unshift({from:0,to:b[0].length,level:0})),1==lr(x).level&&(b=t.match(/\s+$/))&&(lr(x).to-=b[0].length,x.push({from:u-b[0].length,to:u,level:0})),x[0].level!=lr(x).level&&x.push({from:u,to:u,level:x[0].level}),x}}();return e.version="3.0 +",e}(),CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return!1;r=!r&&"\\"==n}return r}function i(e,t,n){return P=e,R=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return n(e,t,a(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return e.eat("*")?n(e,t,s):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(z),i("operator",null,e.current()));if("#"==o)return e.skipToEnd(),i("error","error");if(z.test(o))return e.eatWhile(z),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),u=$.propertyIsEnumerable(l)&&$[l];return u&&"."!=t.lastType?i(u.type,u.style,l):i("variable","variable",l)}function a(e){return function(t,n){return r(t,e)||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function u(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function c(e,t,n,r,i){var o=e.cc;for(U.state=e,U.stream=i,U.marked=null,U.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():B?x:b;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();
return U.marked?U.marked:"variable"==n&&u(e,r)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)U.cc.push(arguments[e])}function f(){return d.apply(null,arguments),!0}function h(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=U.state;if(n.context){if(U.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;n.globalVars={name:e,next:n.globalVars}}}function p(){U.state.context={prev:U.state.context,vars:U.state.localVars},U.state.localVars=X}function m(){U.state.localVars=U.state.context.vars,U.state.context=U.state.context.prev}function g(e,t){var n=function(){var n=U.state;n.lexical=new l(n.indented,U.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function v(){var e=U.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?f():";"==e?d():f(arguments.callee)}}function b(e){return"var"==e?f(g("vardef"),A,y(";"),v):"keyword a"==e?f(g("form"),x,b,v):"keyword b"==e?f(g("form"),b,v):"{"==e?f(g("}"),k,v):";"==e?f():"function"==e?f(F):"for"==e?f(g("form"),y("("),g(")"),O,y(")"),v,b,v):"variable"==e?f(g("stat"),C):"switch"==e?f(g("form"),x,g("}","switch"),y("{"),k,v,v):"case"==e?f(x,y(":")):"default"==e?f(y(":")):"catch"==e?f(g("form"),p,y("("),I,y(")"),b,v,m):d(g("stat"),x,y(";"),v)}function x(e){return V.hasOwnProperty(e)?f(_):"function"==e?f(F):"keyword c"==e?f(w):"("==e?f(g(")"),w,y(")"),v,_):"operator"==e?f(x):"["==e?f(g("]"),N(x,"]"),v,_):"{"==e?f(g("}"),N(S,"}"),v,_):f()}function w(e){return e.match(/[;\}\)\],]/)?d():d(x)}function _(e,t){if("operator"==e&&/\+\+|--/.test(t))return f(_);if("operator"==e&&"?"==t)return f(x,y(":"),x);if(";"!=e)return"("==e?f(g(")"),N(x,")"),v,_):"."==e?f(T,_):"["==e?f(g("]"),x,y("]"),v,_):void 0}function C(e){return":"==e?f(v,b):d(_,y(";"),v)}function T(e){return"variable"==e?(U.marked="property",f()):void 0}function S(e){return"variable"==e&&(U.marked="property"),V.hasOwnProperty(e)?f(y(":"),x):void 0}function N(e,t){function n(r){return","==r?f(e,n):r==t?f():f(y(t))}return function(r){return r==t?f():d(e,n)}}function k(e){return"}"==e?f():d(b,k)}function E(e){return":"==e?f(L):d()}function L(e){return"variable"==e?(U.marked="variable-3",f()):d()}function A(e,t){return"variable"==e?(h(t),W?f(E,D):f(D)):d()}function D(e,t){return"="==t?f(x,D):","==e?f(A):void 0}function O(e){return"var"==e?f(A,y(";"),M):";"==e?f(M):"variable"==e?f(j):f(M)}function j(e,t){return"in"==t?f(x):f(_,M)}function M(e,t){return";"==e?f(H):"in"==t?f(x):f(x,y(";"),H)}function H(e){")"!=e&&f(x)}function F(e,t){return"variable"==e?(h(t),f(F)):"("==e?f(g(")"),p,N(I,")"),v,b,m):void 0}function I(e,t){return"variable"==e?(h(t),W?f(E):f()):void 0}var P,R,q=e.indentUnit,B=t.json,W=t.typescript,$=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o};if(W){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:s,number:s,bool:s,any:s};for(var u in l)a[u]=l[u]}return a}(),z=/[+\-*&%=<>!?|]/,V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},U={state:null,column:null,marked:null,cc:null},X={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(e){return{tokenize:o,lastType:null,cc:[],lexical:new l((e||0)-q,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==P?n:(t.lastType=P,c(t,n,P,R,e))},indent:function(e,t){if(e.tokenize==s)return CodeMirror.Pass;if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),r=e.lexical;"stat"==r.type&&"}"==n&&(r=r.prev);var i=r.type,a=n==i;return"vardef"==i?r.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==i&&"{"==n?r.indented:"form"==i?r.indented+q:"stat"==i?r.indented+("operator"==e.lastType||","==e.lastType?q:0):"switch"!=r.info||a?r.align?r.column+(a?0:1):r.indented+(a?0:q):r.indented+(/^(?:case|default)\b/.test(t)?q:2*q)},electricChars:":{}",jsonMode:B}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),function(){var e,t=this,n=t.Backbone,r=[],i=r.push,o=r.slice,a=r.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.10";var s=t._;s||"undefined"==typeof require||(s=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=/\s+/,u=function(e,t,n,r){if(!n)return!0;if("object"==typeof n)for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!l.test(n))return!0;for(var o=n.split(l),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r))}},c=function(e,t){var n,r=-1,i=e.length;switch(t.length){case 0:for(;i>++r;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;i>++r;)(n=e[r]).callback.call(n.ctx,t[0]);return;case 2:for(;i>++r;)(n=e[r]).callback.call(n.ctx,t[0],t[1]);return;case 3:for(;i>++r;)(n=e[r]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:for(;i>++r;)(n=e[r]).callback.apply(n.ctx,t)}},d=e.Events={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var r=this,i=s.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n),this},off:function(e,t,n){var r,i,o,a,l,c,d,f;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:s.keys(this._events),l=0,c=a.length;c>l;l++)if(e=a[l],r=this._events[e]){if(o=[],t||n)for(d=0,f=r.length;f>d;d++)i=r[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&o.push(i);this._events[e]=o}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},listenTo:function(e,t,n){var r=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=s.uniqueId("l"));return r[i]=e,e.on(t,"object"==typeof t?this:n,this),this},stopListening:function(e,t,n){var r=this._listeners;if(r){if(e)e.off(t,"object"==typeof t?this:n,this),t||n||delete r[e._listenerId];else{"object"==typeof t&&(n=this);for(var i in r)r[i].off(t,n,this);this._listeners={}}return this}}};d.bind=d.on,d.unbind=d.off,s.extend(e,d);var f=e.Model=function(e,t){var n,r=e||{};this.cid=s.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=s.result(this,"defaults"))&&(r=s.defaults({},r,n)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};s.extend(f.prototype,d,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,o,a,l,u,c,d;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;o=n.unset,l=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=s.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],s.isEqual(d[r],t)||a.push(r),s.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete d[r]:d[r]=t;if(!l){a.length&&(this._pending=!0);for(var f=0,h=a.length;h>f;f++)this.trigger("change:"+a[f],this,d[a[f]],n)}if(u)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,s.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!s.isEmpty(this.changed):s.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e)s.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){return e.set(e.parse(n,r),r)?(t&&t(e,n,r),void 0):!1},this.sync("read",this,e)},save:function(e,t,n){var r,i,o,a,l=this.attributes;return null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,!r||n&&n.wait||this.set(r,n)?(n=s.extend({validate:!0},n),this._validate(r,n)?(r&&n.wait&&(this.attributes=s.extend({},l,r)),void 0===n.parse&&(n.parse=!0),i=n.success,n.success=function(e,t,n){e.attributes=l;var o=e.parse(t,n);return n.wait&&(o=s.extend(r||{},o)),s.isObject(o)&&!e.set(o,n)?!1:(i&&i(e,t,n),void 0)},o=this.isNew()?"create":n.patch?"patch":"update","patch"===o&&(n.attrs=r),a=this.sync(o,this,n),r&&n.wait&&(this.attributes=l),a):!1):!1},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(e,t,i){(i.wait||e.isNew())&&r(),n&&n(e,t,i)},this.isNew())return e.success(this,null,e),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||D();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,t||{}),!1):!0}});var h=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s.extend({silent:!0},t))};s.extend(h.prototype,d,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){e=s.isArray(e)?e.slice():[e],t||(t={});var n,r,o,l,u,c,d,f,h,p;for(d=[],f=t.at,h=this.comparator&&null==f&&0!=t.sort,p=s.isString(this.comparator)?this.comparator:null,n=0,r=e.length;r>n;n++)(o=this._prepareModel(l=e[n],t))?(u=this.get(o))?t.merge&&(u.set(l===o?o.attributes:l,t),h&&!c&&u.hasChanged(p)&&(c=!0)):(d.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)):this.trigger("invalid",this,l,t);if(d.length&&(h&&(c=!0),this.length+=d.length,null!=f?a.apply(this.models,[f,0].concat(d)):i.apply(this.models,d)),c&&this.sort({silent:!0}),t.silent)return this;for(n=0,r=d.length;r>n;n++)(o=d[n]).trigger("add",o,this,t);return c&&this.trigger("sort",this,t),this},remove:function(e,t){e=s.isArray(e)?e.slice():[e],t||(t={});var n,r,i,o;for(n=0,r=e.length;r>n;n++)o=this.get(e[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[e.id||e.cid||e[this._idAttr]||e])},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return s.invoke(this.models,"get",e)},update:function(e,t){t=s.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e,t));var n,r,i,o,a=[],l=[],u={};if(s.isArray(e)||(e=e?[e]:[]),t.add&&!t.remove)return this.add(e,t);for(r=0,i=e.length;i>r;r++)n=e[r],o=this.get(n),t.remove&&o&&(u[o.cid]=!0),(t.add&&!o||t.merge&&o)&&a.push(n);if(t.remove)for(r=0,i=this.models.length;i>r;r++)n=this.models[r],u[n.cid]||l.push(n);return l.length&&this.remove(l,t),a.length&&this.add(a,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e,t));for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models.slice(),this._reset(),e&&this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){var i=r.update?"update":"reset";e[i](n,r),t&&t(e,n,r)},this.sync("read",this,e)},create:function(e,t){if(t=t?s.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=s.isFunction(t)?t:function(e){return e.get(t)};return s.sortedIndex(this.models,e,r,n)}});var p=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(p,function(e){h.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),s[e].apply(s,t)}});var m=["groupBy","countBy","sortBy"];s.each(m,function(e){h.prototype[e]=function(t,n){var r=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,r,n)}});var g=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},v=/\((.*?)\)/g,y=/(\(\?)?:\w+/g,b=/\*\w+/g,x=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(g.prototype,d,{initialize:function(){},route:function(t,n,r){return s.isRegExp(t)||(t=this._routeToRegExp(t)),r||(r=this[n]),e.history.route(t,s.bind(function(i){var o=this._extractParameters(t,i);r&&r.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),this.trigger("route",n,o),e.history.trigger("route",this,n,o)},this)),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes)for(var e,t=s.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(x,"\\$&").replace(v,"(?:$1)?").replace(y,function(e,t){return t?e:"([^/]+)"}).replace(b,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var w=e.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,C=/^\/+|\/+$/g,T=/msie [\w.]+/,S=/\/$/;w.started=!1,s.extend(w.prototype,d,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(S,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(t){if(w.started)throw Error("Backbone.history has already been started");w.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=T.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(C,"/"),i&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,a=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),w.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!w.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),e.history=new w;var N=e.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];s.extend(N.prototype,d,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=s.result(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];if(s.isFunction(n)||(n=this[e[t]]),!n)throw Error('Method "'+e[t]+'" does not exist');var r=t.match(k),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},s.result(this,"options"),e)),s.extend(this,s.pick(e,E)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t["class"]=s.result(this,"className"));var n=e.$("<"+s.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}});var L={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.sync=function(t,n,r){var i=L[t];s.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=s.result(n,"url")||D()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var a=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",i),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.success;r.success=function(e){l&&l(n,e,r),n.trigger("sync",n,e,r)};var u=r.error;r.error=function(e){u&&u(n,e,r),n.trigger("error",n,e,r)};var c=r.xhr=e.ajax(s.extend(o,r));return n.trigger("request",n,c,r),c},e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=function(e,t){var n,r=this;n=e&&s.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},s.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&s.extend(n.prototype,e),n.__super__=r.prototype,n};f.extend=h.extend=g.extend=N.extend=w.extend=A;var D=function(){throw Error('A "url" property or function must be specified')}}.call(this),function(){function expandTree2(e,t,n,r){t=t.slice(0),t.push(r[0]),r[1].length||e.push({pos:n,ids:t}),r[1].forEach(function(r){expandTree2(e,t,n,r)})}function parseUri(e){for(var t=parseUri.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}function getHost(e){if(/http(s?):/.test(e)){var t=parseUri(e);t.remote=!0,(t.user||t.password)&&(t.auth={username:t.user,password:t.password});var n=t.path.replace(/(^\/|\/$)/g,"").split("/");return t.db=n.pop(),t.path=n.join("/"),t}return{host:"",path:"/",db:e,auth:!1}}function genUrl(e,t){if(e.remote){var n=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+n+e.db+"/"+t}return"/"+e.db+"/"+t}(function(e,t){function n(e){return F.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function r(e){if(!xn[e]){var t=j.body,n=F("<"+e+">").appendTo(t),r=n.css("display");n.remove(),("none"===r||""===r)&&(gn||(gn=j.createElement("iframe"),gn.frameBorder=gn.width=gn.height=0),t.appendChild(gn),vn&&gn.createElement||(vn=(gn.contentWindow||gn.contentDocument).document,vn.write(("CSS1Compat"===j.compatMode?"<!doctype html>":"")+"<html><body>"),vn.close()),n=vn.createElement(e),vn.body.appendChild(n),r=F.css(n,"display"),t.removeChild(gn)),xn[e]=r}return xn[e]}function i(e,t){var n={};return F.each(Cn.concat.apply([],Cn.slice(0,t)),function(){n[this]=e}),n}function o(){bn=t}function a(){return setTimeout(o,0),bn=F.now()}function s(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function l(){try{return new e.XMLHttpRequest}catch(t){}}function u(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r,i,o,a,s,l,u,c,d=e.dataTypes,f={},h=d.length,p=d[0];for(r=1;h>r;r++){if(1===r)for(i in e.converters)"string"==typeof i&&(f[i.toLowerCase()]=e.converters[i]);if(a=p,p=d[r],"*"===p)p=a;else if("*"!==a&&a!==p){if(s=a+" "+p,l=f[s]||f["* "+p],!l){c=t;for(u in f)if(o=u.split(" "),(o[0]===a||"*"===o[0])&&(c=f[o[1]+" "+p])){u=f[u],u===!0?l=c:c===!0&&(l=u);break}}!l&&!c&&F.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):c(u(n)))}}return n}function c(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):void 0}function d(e,t,n,r){if(F.isArray(t))F.each(t,function(t,i){n||Vt.test(e)?r(e,i):d(e+"["+("object"==typeof i||F.isArray(i)?t:"")+"]",i,n,r)});else if(n||null==t||"object"!=typeof t)r(e,t);else for(var i in t)d(e+"["+i+"]",t[i],n,r)}function f(e,n){var r,i,o=F.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&F.extend(!0,e,i)}function h(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,d=e===sn;c>u&&(d||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=h(e,n,r,i,s,a)));return(d||!s)&&!a["*"]&&(s=h(e,n,r,i,"*",a)),s}function p(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),F.isFunction(n))for(var r,i,o,a=t.toLowerCase().split(nn),s=0,l=a.length;l>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function m(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?qt:Bt,o=0,a=i.length;if(r>0){if("border"!==n)for(;a>o;o++)n||(r-=parseFloat(F.css(e,"padding"+i[o]))||0),"margin"===n?r+=parseFloat(F.css(e,n+i[o]))||0:r-=parseFloat(F.css(e,"border"+i[o]+"Width"))||0;return r+"px"}if(r=At(e,t,t),(0>r||null==r)&&(r=e.style[t]||0),r=parseFloat(r)||0,n)for(;a>o;o++)r+=parseFloat(F.css(e,"padding"+i[o]))||0,"padding"!==n&&(r+=parseFloat(F.css(e,"border"+i[o]+"Width"))||0),"margin"===n&&(r+=parseFloat(F.css(e,n+i[o]))||0);return r+"px"}function g(e,t){t.src?F.ajax({url:t.src,async:!1,dataType:"script"}):F.globalEval((t.text||t.textContent||t.innerHTML||"").replace(kt,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function v(e){var t=j.createElement("div");return Lt.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function y(e){var t=(e.nodeName||"").toLowerCase();"input"===t?b(e):"script"!==t&&e.getElementsByTagName!==void 0&&F.grep(e.getElementsByTagName("input"),b)}function b(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function x(e){return e.getElementsByTagName!==void 0?e.getElementsByTagName("*"):e.querySelectorAll!==void 0?e.querySelectorAll("*"):[]}function w(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(F.expando))}function _(e,t){if(1===t.nodeType&&F.hasData(e)){var n,r,i,o=F._data(e),a=F._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)F.event.add(t,n+(s[n][r].namespace?".":"")+s[n][r].namespace,s[n][r],s[n][r].data)}a.data&&(a.data=F.extend({},a.data))}}function C(e){return F.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function T(e){var t=mt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function S(e,t,n){if(t=t||0,F.isFunction(t))return F.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return F.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=F.grep(e,function(e){return 1===e.nodeType});if(dt.test(t))return F.filter(t,r,!n);t=F.filter(t,r)}return F.grep(e,function(e){return F.inArray(e,t)>=0===n})}function N(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function k(){return!0}function E(){return!1}function L(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",a=F._data(e,r);!(!a||"queue"!==n&&F._data(e,i)||"mark"!==n&&F._data(e,o)||!setTimeout(function(){!F._data(e,i)&&!F._data(e,o)&&(F.removeData(e,r,!0),a.fire())},0))}function A(e){for(var t in e)if(("data"!==t||!F.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function D(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(q,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:F.isNumeric(r)?parseFloat(r):R.test(r)?F.parseJSON(r):r}catch(o){}F.data(e,n,r)}else r=t}return r}function O(e){var t,n,r=I[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)r[e[t]]=!0;return r}var j=e.document,M=e.navigator,H=e.location,F=function(){function n(){if(!s.isReady){try{j.documentElement.doScroll("left")}catch(e){return setTimeout(n,1),void 0}s.ready()}}var r,i,o,a,s=function(e,t){return new s.fn.init(e,t,r)},l=e.jQuery,u=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,f=/^\s+/,h=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,_=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/gi,T=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},N=M.userAgent,k=Object.prototype.toString,E=Object.prototype.hasOwnProperty,L=Array.prototype.push,A=Array.prototype.slice,D=String.prototype.trim,O=Array.prototype.indexOf,H={};return s.fn=s.prototype={constructor:s,init:function(e,n,r){var i,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&j.body)return this.context=j,this[0]=j.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(i="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||3>e.length?c.exec(e):[null,e,null],i&&(i[1]||!n)){if(i[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:j,a=p.exec(e),a?s.isPlainObject(n)?(e=[j.createElement(a[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(a[1])]:(a=s.buildFragment([i[1]],[l]),e=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,e);if(o=j.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=j,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)
}return s.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return A.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return s.isArray(e)?L.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(A.apply(this,arguments),"slice",A.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,r,i,o,a,l=arguments[0]||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},u=2),"object"!=typeof l&&!s.isFunction(l)&&(l={}),c===u&&(l=this,--u);c>u;u++)if(null!=(e=arguments[u]))for(n in e)r=l[n],i=e[n],l!==i&&(d&&i&&(s.isPlainObject(i)||(o=s.isArray(i)))?(o?(o=!1,a=r&&s.isArray(r)?r:[]):a=r&&s.isPlainObject(r)?r:{},l[n]=s.extend(d,a,i)):i!==t&&(l[n]=i));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=u),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(e===!0&&!--s.readyWait||e!==!0&&!s.isReady){if(!j.body)return setTimeout(s.ready,1);if(s.isReady=!0,e!==!0&&--s.readyWait>0)return;o.fireWith(j,[s]),s.fn.trigger&&s(j).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===j.readyState)return setTimeout(s.ready,1);if(j.addEventListener)j.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(j.attachEvent){j.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(r){}j.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":H[k.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!E.call(e,"constructor")&&!E.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||E.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?Function("return "+t)():(s.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var r,i;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&s.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(T,"ms-").replace(C,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,o=0,a=e.length,l=a===t||s.isFunction(e);if(r)if(l){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(l){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:D?function(e){return null==e?"":D.call(e)}:function(e){return null==e?"":(e+"").replace(f,"").replace(h,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?L.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(O)return O.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if("number"==typeof n.length)for(var o=n.length;o>i;i++)e[r++]=n[i];else for(;n[i]!==t;)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[];n=!!n;for(var o=0,a=e.length;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],l=0,u=e.length,c=e instanceof s||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||s.isArray(e));if(c)for(;u>l;l++)i=n(e[l],l,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){if("string"==typeof n){var r=e[n];n=e,e=r}if(!s.isFunction(e))return t;var i=A.call(arguments,2),o=function(){return e.apply(n,i.concat(A.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,n,r,i,o,a){var l=e.length;if("object"==typeof n){for(var u in n)s.access(e,u,n[u],i,o,r);return e}if(r!==t){i=!a&&i&&s.isFunction(r);for(var c=0;l>c;c++)o(e[c],n,i?r.call(e[c],c,o(e[c],n)):r,a);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||x.exec(e)||w.exec(e)||0>e.indexOf("compatible")&&_.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(j);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),i=s.uaMatch(N),i.browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),d.test(" ")&&(f=/^[\s\xA0]+/,h=/[\s\xA0]+$/),r=s(j),j.addEventListener?a=function(){j.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:j.attachEvent&&(a=function(){"complete"===j.readyState&&(j.detachEvent("onreadystatechange",a),s.ready())}),s}(),I={};F.Callbacks=function(e){e=e?I[e]||O(e):{};var n,r,i,o,a,s=[],l=[],u=function(t){var n,r,i,o;for(n=0,r=t.length;r>n;n++)i=t[n],o=F.type(i),"array"===o?u(i):"function"===o&&(!e.unique||!d.has(i))&&s.push(i)},c=function(t,u){for(u=u||[],n=!e.memory||[t,u],r=!0,a=i||0,i=0,o=s.length;s&&o>a;a++)if(s[a].apply(t,u)===!1&&e.stopOnFalse){n=!0;break}r=!1,s&&(e.once?n===!0?d.disable():s=[]:l&&l.length&&(n=l.shift(),d.fireWith(n[0],n[1])))},d={add:function(){if(s){var e=s.length;u(arguments),r?o=s.length:n&&n!==!0&&(i=e,c(n[0],n[1]))}return this},remove:function(){if(s)for(var t=arguments,n=0,i=t.length;i>n;n++)for(var l=0;s.length>l&&(t[n]!==s[l]||(r&&o>=l&&(o--,a>=l&&a--),s.splice(l--,1),!e.unique));l++);return this},has:function(e){if(s)for(var t=0,n=s.length;n>t;t++)if(e===s[t])return!0;return!1},empty:function(){return s=[],this},disable:function(){return s=l=n=t,this},disabled:function(){return!s},lock:function(){return l=t,(!n||n===!0)&&d.disable(),this},locked:function(){return!l},fireWith:function(t,i){return l&&(r?e.once||l.push([t,i]):(!e.once||!n)&&c(t,i)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d};var P=[].slice;F.extend({Deferred:function(e){var t,n=F.Callbacks("once memory"),r=F.Callbacks("once memory"),i=F.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return F.Deferred(function(r){F.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,i=t[0],o=t[1];F.isFunction(i)?l[e](function(){n=i.apply(this,arguments),n&&F.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[n])}):l[e](r[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){a[e]=arguments.length>1?P.call(arguments,0):t,l.notifyWith(u,a)}}function n(e){return function(t){r[e]=arguments.length>1?P.call(arguments,0):t,--s||l.resolveWith(l,r)}}var r=P.call(arguments,0),i=0,o=r.length,a=Array(o),s=o,l=1>=o&&e&&F.isFunction(e.promise)?e:F.Deferred(),u=l.promise();if(o>1){for(;o>i;i++)r[i]&&r[i].promise&&F.isFunction(r[i].promise)?r[i].promise().then(n(i),l.reject,t(i)):--s;s||l.resolveWith(l,r)}else l!==e&&l.resolveWith(l,o?[e]:[]);return u}}),F.support=function(){var t,n,r,i,o,a,s,l,u,c,d,f,h=j.createElement("div");if(j.documentElement,h.setAttribute("className","t"),h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],!n||!n.length||!r)return{};i=j.createElement("select"),o=i.appendChild(j.createElement("option")),a=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==h.className,enctype:!!j.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==j.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick")),a=j.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),h.appendChild(a),l=j.createDocumentFragment(),l.appendChild(h.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(h),h.innerHTML="",e.getComputedStyle&&(s=j.createElement("div"),s.style.width="0",s.style.marginRight="0",h.style.width="2px",h.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),h.attachEvent)for(d in{submit:1,change:1,focusin:1})c="on"+d,f=c in h,f||(h.setAttribute(c,"return;"),f="function"==typeof h[c]),t[d+"Bubbles"]=f;return l.removeChild(h),l=i=o=s=h=a=null,F(function(){var e,n,r,i,o,a,s,l,c,d,p=j.getElementsByTagName("body")[0];!p||(a=1,s="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",c="style='"+s+"border:5px solid #000;padding:0;'",d="<div "+c+"><div></div></div>"+"<table "+c+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",e=j.createElement("div"),e.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+a+"px",p.insertBefore(e,p.firstChild),h=j.createElement("div"),e.appendChild(h),h.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",u=h.getElementsByTagName("td"),f=0===u[0].offsetHeight,u[0].style.display="",u[1].style.display="none",t.reliableHiddenOffsets=f&&0===u[0].offsetHeight,h.innerHTML="",h.style.width=h.style.paddingLeft="1px",F.boxModel=t.boxModel=2===h.offsetWidth,h.style.zoom!==void 0&&(h.style.display="inline",h.style.zoom=1,t.inlineBlockNeedsLayout=2===h.offsetWidth,h.style.display="",h.innerHTML="<div style='width:4px;'></div>",t.shrinkWrapBlocks=2!==h.offsetWidth),h.style.cssText=s+l,h.innerHTML=d,n=h.firstChild,r=n.firstChild,i=n.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==r.offsetTop,doesAddBorderForTableAndCells:5===i.offsetTop},r.style.position="fixed",r.style.top="20px",o.fixedPosition=20===r.offsetTop||15===r.offsetTop,r.style.position=r.style.top="",n.style.overflow="hidden",n.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===r.offsetTop,o.doesNotIncludeMarginInBodyOffset=p.offsetTop!==a,p.removeChild(e),h=e=null,F.extend(t,o))}),t}();var R=/^(?:\{.*\}|\[.*\])$/,q=/([A-Z])/g;F.extend({cache:{},uuid:0,expando:"jQuery"+(F.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?F.cache[e[F.expando]]:e[F.expando],!!e&&!A(e)},data:function(e,n,r,i){if(F.acceptData(e)){var o,a,s,l=F.expando,u="string"==typeof n,c=e.nodeType,d=c?F.cache:e,f=c?e[l]:e[l]&&l,h="events"===n;if(!(f&&d[f]&&(h||i||d[f].data)||!u||r!==t))return;return f||(c?e[l]=f=++F.uuid:f=l),d[f]||(d[f]={},c||(d[f].toJSON=F.noop)),("object"==typeof n||"function"==typeof n)&&(i?d[f]=F.extend(d[f],n):d[f].data=F.extend(d[f].data,n)),o=a=d[f],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[F.camelCase(n)]=r),h&&!a[n]?o.events:(u?(s=a[n],null==s&&(s=a[F.camelCase(n)])):s=a,s)}},removeData:function(e,t,n){if(F.acceptData(e)){var r,i,o,a=F.expando,s=e.nodeType,l=s?F.cache:e,u=s?e[a]:a;if(!l[u])return;if(t&&(r=n?l[u]:l[u].data)){F.isArray(t)||(t in r?t=[t]:(t=F.camelCase(t),t=t in r?[t]:t.split(" ")));for(i=0,o=t.length;o>i;i++)delete r[t[i]];if(!(n?A:F.isEmptyObject)(r))return}if(!n&&(delete l[u].data,!A(l[u])))return;F.support.deleteExpando||!l.setInterval?delete l[u]:l[u]=null,s&&(F.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null)}},_data:function(e,t,n){return F.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=F.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),F.fn.extend({data:function(e,n){var r,i,o,a=null;if(e===void 0){if(this.length&&(a=F.data(this[0]),1===this[0].nodeType&&!F._data(this[0],"parsedAttrs"))){i=this[0].attributes;for(var s=0,l=i.length;l>s;s++)o=i[s].name,0===o.indexOf("data-")&&(o=F.camelCase(o.substring(5)),D(this[0],o,a[o]));F._data(this[0],"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){F.data(this,e)}):(r=e.split("."),r[1]=r[1]?"."+r[1]:"",n===t?(a=this.triggerHandler("getData"+r[1]+"!",[r[0]]),a===t&&this.length&&(a=F.data(this[0],e),a=D(this[0],e,a)),a===t&&r[1]?this.data(r[0]):a):this.each(function(){var t=F(this),i=[r[0],n];t.triggerHandler("setData"+r[1]+"!",i),F.data(this,e,n),t.triggerHandler("changeData"+r[1]+"!",i)}))},removeData:function(e){return this.each(function(){F.removeData(this,e)})}}),F.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",F._data(e,t,(F._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var r=n+"mark",i=e?0:(F._data(t,r)||1)-1;i?F._data(t,r,i):(F.removeData(t,r,!0),L(t,n,"mark"))}},queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=F._data(e,t),n&&(!r||F.isArray(n)?r=F._data(e,t,F.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=F.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),F._data(e,t+".run",i),r.call(e,function(){F.dequeue(e,t)},i)),n.length||(F.removeData(e,t+"queue "+t+".run",!0),L(e,t,"queue"))}}),F.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?F.queue(this[0],e):this.each(function(){var t=F.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&F.dequeue(this,e)})},dequeue:function(e){return this.each(function(){F.dequeue(this,e)})},delay:function(e,t){return e=F.fx?F.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--l||o.resolveWith(a,[a])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var i,o=F.Deferred(),a=this,s=a.length,l=1,u=e+"defer",c=e+"queue",d=e+"mark";s--;)(i=F.data(a[s],u,t,!0)||(F.data(a[s],c,t,!0)||F.data(a[s],d,t,!0))&&F.data(a[s],u,F.Callbacks("once memory"),!0))&&(l++,i.add(r));return r(),o.promise()}});var B,W,$,z=/[\n\t\r]/g,V=/\s+/,U=/\r/g,X=/^(?:button|input)$/i,J=/^(?:button|input|object|select|textarea)$/i,G=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,K=F.support.getSetAttribute;F.fn.extend({attr:function(e,t){return F.access(this,e,t,!0,F.attr)},removeAttr:function(e){return this.each(function(){F.removeAttr(this,e)})},prop:function(e,t){return F.access(this,e,t,!0,F.prop)},removeProp:function(e){return e=F.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(F.isFunction(e))return this.each(function(t){F(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(V),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=F.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(F.isFunction(e))return this.each(function(t){F(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(V),r=0,i=this.length;i>r;r++)if(o=this[r],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(z," "),s=0,l=n.length;l>s;s++)a=a.replace(" "+n[s]+" "," ");o.className=F.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return F.isFunction(e)?this.each(function(n){F(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=F(this),s=t,l=e.split(V);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&F._data(this,"__className__",this.className),this.className=this.className||e===!1?"":F._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(z," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=F.isFunction(e),this.each(function(r){var o,a=F(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":F.isArray(o)&&(o=F.map(o,function(e){return null==e?"":e+""})),n=F.valHooks[this.nodeName.toLowerCase()]||F.valHooks[this.type],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=F.valHooks[o.nodeName.toLowerCase()]||F.valHooks[o.type],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(U,""):null==r?"":r)):void 0}}),F.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,r=l?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(F.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&F.nodeName(i.parentNode,"optgroup"))){if(t=F(i).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?F(s[o]).val():a},set:function(e,t){var n=F.makeArray(t);return F(e).find("option").each(function(){this.selected=F.inArray(F(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;return e&&3!==l&&8!==l&&2!==l?i&&n in F.attrFn?F(e)[n](r):e.getAttribute===void 0?F.prop(e,n,r):(s=1!==l||!F.isXMLDoc(e),s&&(n=n.toLowerCase(),a=F.attrHooks[n]||(Y.test(n)?W:B)),r!==t?null===r?(F.removeAttr(e,n),void 0):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o)):void 0},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.toLowerCase().split(V),o=r.length;o>a;a++)i=r[a],i&&(n=F.propFix[i]||i,F.attr(e,i,""),e.removeAttribute(K?i:n),Y.test(i)&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(X.test(e.nodeName)&&e.parentNode)F.error("type property can't be changed");else if(!F.support.radioValue&&"radio"===t&&F.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return B&&F.nodeName(e,"button")?B.get(e,t):t in e?e.value:null},set:function(e,t,n){return B&&F.nodeName(e,"button")?B.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(a=1!==s||!F.isXMLDoc(e),a&&(n=F.propFix[n]||n,o=F.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):J.test(e.nodeName)||G.test(e.nodeName)&&e.href?0:t}}}}),F.attrHooks.tabindex=F.propHooks.tabIndex,W={get:function(e,n){var r,i=F.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?F.removeAttr(e,n):(r=F.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},K||($={name:!0,id:!0},B=F.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&($[n]?""!==r.nodeValue:r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=j.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},F.attrHooks.tabindex.set=B.set,F.each(["width","height"],function(e,t){F.attrHooks[t]=F.extend(F.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),F.attrHooks.contenteditable={get:B.get,set:function(e,t,n){""===t&&(t="false"),B.set(e,t,n)}}),F.support.hrefNormalized||F.each(["href","src","width","height"],function(e,n){F.attrHooks[n]=F.extend(F.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),F.support.style||(F.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),F.support.optSelected||(F.propHooks.selected=F.extend(F.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),F.support.enctype||(F.propFix.enctype="encoding"),F.support.checkOn||F.each(["radio","checkbox"],function(){F.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]=F.extend(F.valHooks[this],{set:function(e,t){return F.isArray(t)?e.checked=F.inArray(F(e).val(),t)>=0:void 0}})});var Q=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,et=/\bhover(\.\S+)?\b/,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,rt=/^(?:focusinfocus|focusoutblur)$/,it=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ot=function(e){var t=it.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},at=function(e,t){var n=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(n.id||{}).value!==t[2]||t[3]&&!t[3].test((n["class"]||{}).value))},st=function(e){return F.event.special.hover?e:e.replace(et,"mouseenter$1 mouseleave$1")};F.event={add:function(e,n,r,i,o){var a,s,l,u,c,d,f,h,p,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=F._data(e))){for(r.handler&&(p=r,r=p.handler),r.guid||(r.guid=F.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return void 0===F||e&&F.event.triggered===e.type?t:F.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=F.trim(st(n)).split(" "),u=0;n.length>u;u++)c=Z.exec(n[u])||[],d=c[1],f=(c[2]||"").split(".").sort(),g=F.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=F.event.special[d]||{},h=F.extend({type:d,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:ot(o),namespace:f.join(".")},p),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,f,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),g.add&&(g.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),o?m.splice(m.delegateCount++,0,h):m.push(h),F.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,m,g,v=F.hasData(e)&&F._data(e);if(v&&(f=v.events)){for(t=F.trim(st(t||"")).split(" "),o=0;t.length>o;o++)if(a=Z.exec(t[o])||[],s=l=a[1],u=a[2],s){for(h=F.event.special[s]||{},s=(r?h.delegateType:h.bindType)||s,m=f[s]||[],c=m.length,u=u?RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;m.length>d;d++)g=m[d],!(!i&&l!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,!h.remove||!h.remove.call(e,g)));0===m.length&&c!==m.length&&((!h.teardown||h.teardown.call(e,u)===!1)&&F.removeEvent(e,s,v.handle),delete f[s])}else for(s in f)F.event.remove(e,s+t[o],n,r,!0);F.isEmptyObject(f)&&(p=v.handle,p&&(p.elem=null),F.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,d,f,h,p,m,g=n.type||n,v=[];if(rt.test(g+F.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),(!i||F.event.customEvent[g])&&!F.event.global[g])return;if(n="object"==typeof n?n[F.expando]?n:new F.Event(g,n):new F.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0>g.indexOf(":")?"on"+g:"",!i){a=F.cache;for(l in a)a[l].events&&a[l].events[g]&&F.event.trigger(n,r,a[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=i),r=null!=r?F.makeArray(r):[],r.unshift(n),f=F.event.special[g]||{},f.trigger&&f.trigger.apply(i,r)===!1)return;if(p=[[i,f.bindType||g]],!o&&!f.noBubble&&!F.isWindow(i)){for(m=f.delegateType||g,u=rt.test(m+g)?i:i.parentNode,c=null;u;u=u.parentNode)p.push([u,m]),c=u;c&&c===i.ownerDocument&&p.push([c.defaultView||c.parentWindow||e,m])}for(l=0;p.length>l&&!n.isPropagationStopped();l++)u=p[l][0],n.type=p[l][1],h=(F._data(u,"events")||{})[n.type]&&F._data(u,"handle"),h&&h.apply(u,r),h=d&&u[d],h&&F.acceptData(u)&&h.apply(u,r)===!1&&n.preventDefault();return n.type=g,!(o||n.isDefaultPrevented()||f._default&&f._default.apply(i.ownerDocument,r)!==!1||"click"===g&&F.nodeName(i,"a")||!F.acceptData(i)||!d||!i[g]||("focus"===g||"blur"===g)&&0===n.target.offsetWidth||F.isWindow(i)||(c=i[d],c&&(i[d]=null),F.event.triggered=g,i[g](),F.event.triggered=t,!c||!(i[d]=c))),n.result}},dispatch:function(n){n=F.event.fix(n||e.event);var r,i,o,a,s,l,u,c,d,f,h=(F._data(this,"events")||{})[n.type]||[],p=h.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,v=[];if(m[0]=n,n.delegateTarget=this,p&&!n.target.disabled&&(!n.button||"click"!==n.type))for(a=F(this),a.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this){for(l={},c=[],a[0]=o,r=0;p>r;r++)d=h[r],f=d.selector,l[f]===t&&(l[f]=d.quick?at(o,d.quick):a.is(f)),l[f]&&c.push(d);c.length&&v.push({elem:o,matches:c})}for(h.length>p&&v.push({elem:this,matches:h.slice(p)}),r=0;v.length>r&&!n.isPropagationStopped();r++)for(u=v[r],n.currentTarget=u.elem,i=0;u.matches.length>i&&!n.isImmediatePropagationStopped();i++)d=u.matches[i],(g||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,s=((F.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,m),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||j,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&a!==t&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[F.expando])return e;var n,r,i=e,o=F.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=F.Event(i),n=a.length;n;)r=a[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||j),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,i):e},special:{ready:{setup:F.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){F.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=F.extend(new F.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?F.event.trigger(i,null,t):F.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},F.event.handle=F.event.dispatch,F.removeEvent=j.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},F.Event=function(e,t){return this instanceof F.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?k:E):this.type=e,t&&F.extend(this,t),this.timeStamp=e&&e.timeStamp||F.now(),this[F.expando]=!0,void 0):new F.Event(e,t)},F.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k,this.stopPropagation()},isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E},F.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){F.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return o.selector,(!i||i!==r&&!F.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),F.support.submitBubbles||(F.event.special.submit={setup:function(){return F.nodeName(this,"form")?!1:(F.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=F.nodeName(n,"input")||F.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(F.event.add(r,"submit._submit",function(e){this.parentNode&&!e.isTrigger&&F.event.simulate("submit",this.parentNode,e,!0)
}),r._submit_attached=!0)}),void 0)},teardown:function(){return F.nodeName(this,"form")?!1:(F.event.remove(this,"._submit"),void 0)}}),F.support.changeBubbles||(F.event.special.change={setup:function(){return Q.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(F.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),F.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,F.event.simulate("change",this,e,!0))})),!1):(F.event.add(this,"beforeactivate._change",function(e){var t=e.target;Q.test(t.nodeName)&&!t._change_attached&&(F.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&F.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return F.event.remove(this,"._change"),Q.test(this.nodeName)}}),F.support.focusinBubbles||F.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){F.event.simulate(t,e.target,F.event.fix(e),!0)};F.event.special[t]={setup:function(){0===n++&&j.addEventListener(e,r,!0)},teardown:function(){0===--n&&j.removeEventListener(e,r,!0)}}}),F.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=n,n=t);for(s in e)this.on(s,n,r,e[s],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=E;else if(!i)return this;return 1===o&&(a=i,i=function(e){return F().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=F.guid++)),this.each(function(){F.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on.call(this,e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return F(e.delegateTarget).off(i.namespace?i.type+"."+i.namespace:i.type,i.selector,i.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=E),this.each(function(){F.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return F(this.context).on(e,this.selector,t,n),this},die:function(e,t){return F(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){F.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?F.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||F.guid++,r=0,i=function(n){var i=(F._data(this,"lastToggle"+e.guid)||0)%r;return F._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;t.length>r;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),F.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){F.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},F.attrFn&&(F.attrFn[t]=!0),tt.test(t)&&(F.event.fixHooks[t]=F.event.keyHooks),nt.test(t)&&(F.event.fixHooks[t]=F.event.mouseHooks)}),function(){function e(e,t,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType)if(a||(u[i]=n,u.sizset=s),"string"!=typeof t){if(u===t){c=!0;break}}else if(f.filter(t,[u]).length>0){c=u;break}u=u[e]}r[s]=c}}}function n(e,t,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType&&!a&&(u[i]=n,u.sizset=s),u.nodeName.toLowerCase()===t){c=u;break}u=u[e]}r[s]=c}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var f=function(e,t,n,i){n=n||[],t=t||j;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,u,c,d,h,g,v,b=!0,x=f.isXML(t),w=[],C=e;do if(r.exec(""),s=r.exec(C),s&&(C=s[3],w.push(s[1]),s[2])){c=s[3];break}while(s);if(w.length>1&&m.exec(e))if(2===w.length&&p.relative[w[0]])l=_(w[0]+w[1],t,i);else for(l=p.relative[w[0]]?[t]:f(w.shift(),t);w.length;)e=w.shift(),p.relative[e]&&(e+=w.shift()),l=_(e,l,i);else if(!i&&w.length>1&&9===t.nodeType&&!x&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(d=f.find(w.shift(),t,x),t=d.expr?f.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=i?{expr:w.pop(),set:y(i)}:f.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,x),l=d.expr?f.filter(d.expr,d.set):d.set,w.length>0?u=y(l):b=!1;w.length;)h=w.pop(),g=h,p.relative[h]?g=w.pop():h="",null==g&&(g=t),p.relative[h](u,g,x);else u=w=[];if(u||(u=l),u||f.error(h||e),"[object Array]"===a.call(u))if(b)if(t&&1===t.nodeType)for(v=0;null!=u[v];v++)u[v]&&(u[v]===!0||1===u[v].nodeType&&f.contains(t,u[v]))&&n.push(l[v]);else for(v=0;null!=u[v];v++)u[v]&&1===u[v].nodeType&&n.push(l[v]);else n.push.apply(n,u);else y(u,n);return c&&(f(c,o,n,i),f.uniqueSort(n)),n};f.uniqueSort=function(e){if(x&&(s=l,e.sort(x),s))for(var t=1;e.length>t;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},f.matches=function(e,t){return f(e,null,null,t)},f.matchesSelector=function(e,t){return f(t,null,null,[e]).length>0},f.find=function(e,t,n){var r,i,o,a,s,l;if(!e)return[];for(i=0,o=p.order.length;o>i;i++)if(s=p.order[i],(a=p.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(u,""),r=p.find[s](a,t,n),null!=r))){e=e.replace(p.match[s],"");break}return r||(r=t.getElementsByTagName!==void 0?t.getElementsByTagName("*"):[]),{set:r,expr:e}},f.filter=function(e,n,r,i){for(var o,a,s,l,u,c,d,h,m,g=e,v=[],y=n,b=n&&n[0]&&f.isXML(n[0]);e&&n.length;){for(s in p.filter)if(null!=(o=p.leftMatch[s].exec(e))&&o[2]){if(c=p.filter[s],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),p.preFilter[s])if(o=p.preFilter[s](o,y,r,v,i,b)){if(o===!0)continue}else a=l=!0;if(o)for(h=0;null!=(u=y[h]);h++)u&&(l=c(u,o,h,y),m=i^l,r&&null!=l?m?a=!0:y[h]=!1:m&&(v.push(u),a=!0));if(l!==t){if(r||(y=v),e=e.replace(p.match[s],""),!a)return[];break}}if(e===g){if(null!=a)break;f.error(e)}g=e}return y},f.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)};var h=f.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)i+=h(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=h(n));return i},p=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!d.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;s>a;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&f.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!d.test(t)){for(t=t.toLowerCase();o>i;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;o>i;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&f.filter(t,e,!0)}},"":function(t,r,i){var a,s=o++,l=e;"string"==typeof r&&!d.test(r)&&(r=r.toLowerCase(),a=r,l=n),l("parentNode",r,s,t,a,i)},"~":function(t,r,i){var a,s=o++,l=e;"string"==typeof r&&!d.test(r)&&(r=r.toLowerCase(),a=r,l=n),l("previousSibling",r,s,t,a,i)}},find:{ID:function(e,t,n){if(t.getElementById!==void 0&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(t.getElementsByName!==void 0){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;o>i;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){return t.getElementsByTagName!==void 0?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(u,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(u,"")},TAG:function(e){return e[1].replace(u,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||f.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&f.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(u,"");return!o&&p.attrMap[a]&&(e[1]=p.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(u,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,o){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=f.filter(e[3],t,n,!0^o);return n||i.push.apply(i,a),!1}e[3]=f(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!f(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return n[3]-0>t},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=p.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||h([e])||"").indexOf(t[3])>=0;if("not"===i){for(var a=t[3],s=0,l=a.length;l>s;s++)if(a[s]===e)return!1;return!0}f.error(i)},CHILD:function(e,t){var n,r,o,a,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(o=t[0],a=e.parentNode,a&&(a[i]!==o||!e.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[i]=o}return l=e.nodeIndex-r,0===n?0===l:0===l%n&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=f.attr?f.attr(e,n):p.attrHandle[n]?p.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&f.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o?i===a||i.substr(0,a.length+1)===a+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],o=p.setFilters[i];return o?o(e,n,t,r):void 0}}},m=p.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in p.match)p.match[v]=RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,g));var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(j.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var i=e.length;i>n;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var x,w;j.documentElement.compareDocumentPosition?x=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(x=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return w(e,t);if(!a)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==o[c])return w(i[c],o[c]);return c===n?w(e,o[c],-1):w(i[c],t,1)},w=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=j.createElement("div"),n="script"+(new Date).getTime(),r=j.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),j.getElementById(n)&&(p.find.ID=function(e,n,r){if(n.getElementById!==void 0&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||i.getAttributeNode!==void 0&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},p.filter.ID=function(e,t){var n=e.getAttributeNode!==void 0&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=j.createElement("div");e.appendChild(j.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&e.firstChild.getAttribute!==void 0&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),j.querySelectorAll&&function(){var e=f,t=j.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){f=function(t,r,i,o){if(r=r||j,!o&&!f.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return y(r.getElementsByTagName(t),i);if(a[2]&&p.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===t&&r.body)return y([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return y([],i);if(s.id===a[3])return y([s],i)}try{return y(r.querySelectorAll(t),i)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r,c=r.getAttribute("id"),d=c||n,h=r.parentNode,m=/^\s*[+~]/.test(t);c?d=d.replace(/'/g,"\\$&"):r.setAttribute("id",d),m&&h&&(r=r.parentNode);try{if(!m||h)return y(r.querySelectorAll("[id='"+d+"'] "+t),i)}catch(g){}finally{c||u.removeAttribute("id")}}}return e(t,r,i,o)};for(var r in e)f[r]=e[r];t=null}}(),function(){var e=j.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(j.createElement("div"),"div"),r=!1;try{t.call(j.documentElement,"[test!='']:sizzle")}catch(i){r=!0}f.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!f.isXML(e))try{if(r||!p.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=t.call(e,i);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(a){}return f(i,null,null,[e]).length>0}}}(),function(){var e=j.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,n){return void 0===t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null}}(),f.contains=j.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:j.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},f.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var _=function(e,t,n){for(var r,i=[],o="",a=t.nodeType?[t]:t;r=p.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var s=0,l=a.length;l>s;s++)f(e,a[s],i,n);return f.filter(o,i)};f.attr=F.attr,f.selectors.attrMap={},F.find=f,F.expr=f.selectors,F.expr[":"]=F.expr.filters,F.unique=f.uniqueSort,F.text=f.getText,F.isXMLDoc=f.isXML,F.contains=f.contains}();var lt=/Until$/,ut=/^(?:parents|prevUntil|prevAll)/,ct=/,/,dt=/^.[^:#\[\.,]*$/,ft=Array.prototype.slice,ht=F.expr.match.POS,pt={children:!0,contents:!0,next:!0,prev:!0};F.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return F(e).filter(function(){for(t=0,n=r.length;n>t;t++)if(F.contains(r[t],this))return!0});var i,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(i=s.length,F.find(e,this[t],s),t>0)for(o=i;s.length>o;o++)for(a=0;i>a;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=F(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(F.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(S(this,e,!1),"not",e)},filter:function(e){return this.pushStack(S(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ht.test(e)?F(e,this.context).index(this[0])>=0:F.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],o=this[0];if(F.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;e.length>n;n++)F(o).is(e[n])&&i.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=ht.test(e)||"string"!=typeof e?F(e,t||this.context):0;for(n=0,r=this.length;r>n;n++)for(o=this[n];o;){if(s?s.index(o)>-1:F.find.matchesSelector(o,e)){i.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||11===o.nodeType)break}return i=i.length>1?F.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?F.inArray(this[0],F(e)):F.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?F(e,t):F.makeArray(e&&e.nodeType?[e]:e),r=F.merge(this.get(),n);return this.pushStack(N(n[0])||N(r[0])?r:F.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),F.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F.dir(e,"parentNode")},parentsUntil:function(e,t,n){return F.dir(e,"parentNode",n)},next:function(e){return F.nth(e,2,"nextSibling")},prev:function(e){return F.nth(e,2,"previousSibling")},nextAll:function(e){return F.dir(e,"nextSibling")},prevAll:function(e){return F.dir(e,"previousSibling")},nextUntil:function(e,t,n){return F.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return F.dir(e,"previousSibling",n)},siblings:function(e){return F.sibling(e.parentNode.firstChild,e)},children:function(e){return F.sibling(e.firstChild)},contents:function(e){return F.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:F.makeArray(e.childNodes)}},function(e,t){F.fn[e]=function(n,r){var i=F.map(this,t,n);return lt.test(e)||(r=n),r&&"string"==typeof r&&(i=F.filter(r,i)),i=this.length>1&&!pt[e]?F.unique(i):i,(this.length>1||ct.test(r))&&ut.test(e)&&(i=i.reverse()),this.pushStack(i,e,ft.call(arguments).join(","))}}),F.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?F.find.matchesSelector(t[0],e)?[t[0]]:[]:F.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!F(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},nth:function(e,t,n){t=t||1;for(var r=0;e&&(1!==e.nodeType||++r!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var mt="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:\d+|null)"/g,vt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,_t=/<(?:script|style)/i,Ct=/<(?:script|object|embed|option|style)/i,Tt=RegExp("<(?:"+mt+")","i"),St=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/\/(java|ecma)script/i,kt=/^\s*<!(?:\[CDATA\[|\-\-)/,Et={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Lt=T(j);Et.optgroup=Et.option,Et.tbody=Et.tfoot=Et.colgroup=Et.caption=Et.thead,Et.th=Et.td,F.support.htmlSerialize||(Et._default=[1,"div<div>","</div>"]),F.fn.extend({text:function(e){return F.isFunction(e)?this.each(function(t){var n=F(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||j).createTextNode(e)):F.text(this)},wrapAll:function(e){if(F.isFunction(e))return this.each(function(t){F(this).wrapAll(e.call(this,t))});if(this[0]){var t=F(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return F.isFunction(e)?this.each(function(t){F(this).wrapInner(e.call(this,t))}):this.each(function(){var t=F(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=F.isFunction(e);return this.each(function(n){F(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){F.nodeName(this,"body")||F(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=F.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,F.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||F.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(F.cleanData(n.getElementsByTagName("*")),F.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&F.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return F.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(gt,""):null;if("string"!=typeof e||_t.test(e)||!F.support.leadingWhitespace&&vt.test(e)||Et[(bt.exec(e)||["",""])[1].toLowerCase()])F.isFunction(e)?this.each(function(t){var n=F(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(yt,"<$1></$2>");try{for(var n=0,r=this.length;r>n;n++)1===this[n].nodeType&&(F.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(i){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?F.isFunction(e)?this.each(function(t){var n=F(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=F(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;F(this).remove(),t?F(t).before(e):F(n).append(e)})):this.length?this.pushStack(F(F.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,a,s,l=e[0],u=[];if(!F.support.checkClone&&3===arguments.length&&"string"==typeof l&&St.test(l))return this.each(function(){F(this).domManip(e,n,r,!0)});if(F.isFunction(l))return this.each(function(i){var o=F(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(s=l&&l.parentNode,i=F.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:F.buildFragment(e,this,u),a=i.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild,o){n=n&&F.nodeName(o,"tr");for(var c=0,d=this.length,f=d-1;d>c;c++)r.call(n?C(this[c],o):this[c],i.cacheable||d>1&&f>c?F.clone(a,!0,!0):a)}u.length&&F.each(u,g)}return this}}),F.buildFragment=function(e,t,n){var r,i,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=j),1===e.length&&"string"==typeof s&&512>s.length&&a===j&&"<"===s.charAt(0)&&!Ct.test(s)&&(F.support.checkClone||!St.test(s))&&(F.support.html5Clone||!Tt.test(s))&&(i=!0,o=F.fragments[s],o&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),F.clean(e,a,r,n)),i&&(F.fragments[s]=o?r:1),{fragment:r,cacheable:i}},F.fragments={},F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){F.fn[e]=function(n){var r=[],i=F(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var a=0,s=i.length;s>a;a++){var l=(a>0?this.clone(!0):this).get();F(i[a])[t](l),r=r.concat(l)}return this.pushStack(r,e,i.selector)}}),F.extend({clone:function(e,t,n){var r,i,o,a=F.support.html5Clone||!Tt.test("<"+e.nodeName)?e.cloneNode(!0):v(e);if(!(F.support.noCloneEvent&&F.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||F.isXMLDoc(e)))for(w(e,a),r=x(e),i=x(a),o=0;r[o];++o)i[o]&&w(r[o],i[o]);if(t&&(_(e,a),n))for(r=x(e),i=x(a),o=0;r[o];++o)_(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i;t=t||j,t.createElement===void 0&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||j);for(var o,a,s=[],l=0;null!=(a=e[l]);l++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(wt.test(a)){a=a.replace(yt,"<$1></$2>");var u=(bt.exec(a)||["",""])[1].toLowerCase(),c=Et[u]||Et._default,d=c[0],f=t.createElement("div");for(t===j?Lt.appendChild(f):T(t).appendChild(f),f.innerHTML=c[1]+a+c[2];d--;)f=f.lastChild;if(!F.support.tbody){var h=xt.test(a),p="table"!==u||h?"<table>"!==c[1]||h?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes;for(o=p.length-1;o>=0;--o)F.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!F.support.leadingWhitespace&&vt.test(a)&&f.insertBefore(t.createTextNode(vt.exec(a)[0]),f.firstChild),a=f.childNodes}else a=t.createTextNode(a);var m;if(!F.support.appendChecked)if(a[0]&&"number"==typeof(m=a.length))for(o=0;m>o;o++)y(a[o]);else y(a);a.nodeType?s.push(a):s=F.merge(s,a)}if(n)for(i=function(e){return!e.type||Nt.test(e.type)},l=0;s[l];l++)if(!r||!F.nodeName(s[l],"script")||s[l].type&&"text/javascript"!==s[l].type.toLowerCase()){if(1===s[l].nodeType){var g=F.grep(s[l].getElementsByTagName("script"),i);s.splice.apply(s,[l+1,0].concat(g))}n.appendChild(s[l])}else r.push(s[l].parentNode?s[l].parentNode.removeChild(s[l]):s[l]);return s},cleanData:function(e){for(var t,n,r,i=F.cache,o=F.event.special,a=F.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!F.noData[r.nodeName.toLowerCase()])&&(n=r[F.expando])){if(t=i[n],t&&t.events){for(var l in t.events)o[l]?F.event.remove(r,l):F.removeEvent(r,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete r[F.expando]:r.removeAttribute&&r.removeAttribute(F.expando),delete i[n]}}});var At,Dt,Ot,jt=/alpha\([^)]*\)/i,Mt=/opacity=([^)]*)/,Ht=/([A-Z]|^ms)/g,Ft=/^-?\d+(?:px)?$/i,It=/^-?\d/,Pt=/^([\-+])=([\-+.\de]+)/,Rt={position:"absolute",visibility:"hidden",display:"block"},qt=["Left","Right"],Bt=["Top","Bottom"];F.fn.css=function(e,n){return 2===arguments.length&&n===t?this:F.access(this,e,n,!0,function(e,n,r){return r!==t?F.style(e,n,r):F.css(e,n)})},F.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=At(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":F.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=F.camelCase(n),l=e.style,u=F.cssHooks[s];if(n=F.cssProps[s]||s,r===t)return u&&"get"in u&&(o=u.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Pt.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(F.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r))return;if("number"===a&&!F.cssNumber[s]&&(r+="px"),!(u&&"set"in u&&(r=u.set(e,r))===t))try{l[n]=r}catch(c){}}},css:function(e,n,r){var i,o;return n=F.camelCase(n),o=F.cssHooks[n],n=F.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(i=o.get(e,!0,r))!==t?i:At?At(e,n):void 0},swap:function(e,t,n){var r={};for(var i in t)r[i]=e.style[i],e.style[i]=t[i];n.call(e);for(i in t)e.style[i]=r[i]}}),F.curCSS=F.css,F.each(["height","width"],function(e,t){F.cssHooks[t]={get:function(e,n,r){var i;return n?0!==e.offsetWidth?m(e,t,r):(F.swap(e,Rt,function(){i=m(e,t,r)}),i):void 0},set:function(e,t){return Ft.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),F.support.opacity||(F.cssHooks.opacity={get:function(e,t){return Mt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=F.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===F.trim(o.replace(jt,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=jt.test(o)?o.replace(jt,i):o+" "+i)}}),F(function(){F.support.reliableMarginRight||(F.cssHooks.marginRight={get:function(e,t){var n;return F.swap(e,{display:"inline-block"},function(){n=t?At(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),j.defaultView&&j.defaultView.getComputedStyle&&(Dt=function(e,t){var n,r,i;return t=t.replace(Ht,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),""===n&&!F.contains(e.ownerDocument.documentElement,e)&&(n=F.style(e,t))),n
}),j.documentElement.currentStyle&&(Ot=function(e,t){var n,r,i,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null===o&&a&&(i=a[t])&&(o=i),!Ft.test(o)&&It.test(o)&&(n=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o||0,o=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),At=Dt||Ot,F.expr&&F.expr.filters&&(F.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!F.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||F.css(e,"display"))},F.expr.filters.visible=function(e){return!F.expr.filters.hidden(e)});var Wt,$t,zt=/%20/g,Vt=/\[\]$/,Ut=/\r?\n/g,Xt=/#.*$/,Jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Qt=/^\/\//,Zt=/\?/,en=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tn=/^(?:select|textarea)/i,nn=/\s+/,rn=/([?&])_=[^&]*/,on=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,an=F.fn.load,sn={},ln={},un=["*/"]+["*"];try{Wt=H.href}catch(cn){Wt=j.createElement("a"),Wt.href="",Wt=Wt.href}$t=on.exec(Wt.toLowerCase())||[],F.fn.extend({load:function(e,n,r){if("string"!=typeof e&&an)return an.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var a="GET";n&&(F.isFunction(n)?(r=n,n=t):"object"==typeof n&&(n=F.param(n,F.ajaxSettings.traditional),a="POST"));var s=this;return F.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(o?F("<div>").append(n.replace(en,"")).find(o):n)),r&&s.each(r,[n,t,e])}}),this},serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?F.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tn.test(this.nodeName)||Gt.test(this.type))}).map(function(e,t){var n=F(this).val();return null==n?null:F.isArray(n)?F.map(n,function(e){return{name:t.name,value:e.replace(Ut,"\r\n")}}):{name:t.name,value:n.replace(Ut,"\r\n")}}).get()}}),F.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){F.fn[t]=function(e){return this.on(t,e)}}),F.each(["get","post"],function(e,n){F[n]=function(e,r,i,o){return F.isFunction(r)&&(o=o||i,i=r,r=t),F.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),F.extend({getScript:function(e,n){return F.get(e,t,n,"script")},getJSON:function(e,t,n){return F.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?f(e,F.ajaxSettings):(t=e,e=F.ajaxSettings),f(e,t),e},ajaxSettings:{url:Wt,isLocal:Yt.test($t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":un},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":F.parseJSON,"text xml":F.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:p(sn),ajaxTransport:p(ln),ajax:function(e,n){function r(e,n,r,a){if(2!==C){C=2,l&&clearTimeout(l),s=t,o=a||"",T.readyState=e>0?4:0;var d,h,p,w,_,S=n,N=r?c(m,T,r):t;if(e>=200&&300>e||304===e)if(m.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(F.lastModified[i]=w),(_=T.getResponseHeader("Etag"))&&(F.etag[i]=_)),304===e)S="notmodified",d=!0;else try{h=u(m,N),S="success",d=!0}catch(k){S="parsererror",p=k}else p=S,(!S||e)&&(S="error",0>e&&(e=0));T.status=e,T.statusText=""+(n||S),d?y.resolveWith(g,[h,S,T]):y.rejectWith(g,[T,S,p]),T.statusCode(x),x=t,f&&v.trigger("ajax"+(d?"Success":"Error"),[T,m,d?h:p]),b.fireWith(g,[T,S]),f&&(v.trigger("ajaxComplete",[T,m]),--F.active||F.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,d,f,p,m=F.ajaxSetup({},n),g=m.context||m,v=g!==m&&(g.nodeType||g instanceof F)?F(g):F.event,y=F.Deferred(),b=F.Callbacks("once memory"),x=m.statusCode||{},w={},_={},C=0,T={readyState:0,setRequestHeader:function(e,t){if(!C){var n=e.toLowerCase();e=_[n]=_[n]||e,w[e]=t}return this},getAllResponseHeaders:function(){return 2===C?o:null},getResponseHeader:function(e){var n;if(2===C){if(!a)for(a={};n=Jt.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return C||(m.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),r(0,e),this}};if(y.promise(T),T.success=T.done,T.error=T.fail,T.complete=b.add,T.statusCode=function(e){if(e){var t;if(2>C)for(t in e)x[t]=[x[t],e[t]];else t=e[T.status],T.then(t,t)}return this},m.url=((e||m.url)+"").replace(Xt,"").replace(Qt,$t[1]+"//"),m.dataTypes=F.trim(m.dataType||"*").toLowerCase().split(nn),null==m.crossDomain&&(d=on.exec(m.url.toLowerCase()),m.crossDomain=!(!d||d[1]==$t[1]&&d[2]==$t[2]&&(d[3]||("http:"===d[1]?80:443))==($t[3]||("http:"===$t[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=F.param(m.data,m.traditional)),h(sn,m,n,T),2===C)return!1;if(f=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Kt.test(m.type),f&&0===F.active++&&F.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Zt.test(m.url)?"&":"?")+m.data,delete m.data),i=m.url,m.cache===!1)){var S=F.now(),N=m.url.replace(rn,"$1_="+S);m.url=N+(N===m.url?(Zt.test(m.url)?"&":"?")+"_="+S:"")}(m.data&&m.hasContent&&m.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(i=i||m.url,F.lastModified[i]&&T.setRequestHeader("If-Modified-Since",F.lastModified[i]),F.etag[i]&&T.setRequestHeader("If-None-Match",F.etag[i])),T.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+un+"; q=0.01":""):m.accepts["*"]);for(p in m.headers)T.setRequestHeader(p,m.headers[p]);if(m.beforeSend&&(m.beforeSend.call(g,T,m)===!1||2===C))return T.abort(),!1;for(p in{success:1,error:1,complete:1})T[p](m[p]);if(s=h(ln,m,n,T)){T.readyState=1,f&&v.trigger("ajaxSend",[T,m]),m.async&&m.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},m.timeout));try{C=1,s.send(w,r)}catch(k){if(!(2>C))throw k;r(-1,k)}}else r(-1,"No Transport");return T},param:function(e,n){var r=[],i=function(e,t){t=F.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=F.ajaxSettings.traditional),F.isArray(e)||e.jquery&&!F.isPlainObject(e))F.each(e,function(){i(this.name,this.value)});else for(var o in e)d(o,e[o],n,i);return r.join("&").replace(zt,"+")}}),F.extend({active:0,lastModified:{},etag:{}});var dn=F.now(),fn=/(\=)\?(&|$)|\?\?/i;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return F.expando+"_"+dn++}}),F.ajaxPrefilter("json jsonp",function(t,n,r){var i="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(fn.test(t.url)||i&&fn.test(t.data))){var o,a=t.jsonpCallback=F.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,u=t.data,c="$1"+a+"$2";return t.jsonp!==!1&&(l=l.replace(fn,c),t.url===l&&(i&&(u=u.replace(fn,c)),t.data===u&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=u,e[a]=function(e){o=[e]},r.always(function(){e[a]=s,o&&F.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||F.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return F.globalEval(e),e}}}),F.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),F.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=j.head||j.getElementsByTagName("head")[0]||j.documentElement;return{send:function(i,o){n=j.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var hn,pn=e.ActiveXObject?function(){for(var e in hn)hn[e](0,1)}:!1,mn=0;F.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||s()}:l,function(e){F.extend(F.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(F.ajaxSettings.xhr()),F.support.ajax&&F.ajaxTransport(function(n){if(!n.crossDomain||F.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,d,f;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=F.noop,pn&&delete hn[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f),d.text=l.responseText;try{u=l.statusText}catch(h){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){i||o(-1,p)}d&&o(s,u,d,c)},n.async&&4!==l.readyState?(a=++mn,pn&&(hn||(hn={},F(e).unload(pn)),hn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var gn,vn,yn,bn,xn={},wn=/^(?:toggle|show|hide)$/,_n=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Cn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];F.fn.extend({show:function(e,t,n){var o,a;if(e||0===e)return this.animate(i("show",3),e,t,n);for(var s=0,l=this.length;l>s;s++)o=this[s],o.style&&(a=o.style.display,!F._data(o,"olddisplay")&&"none"===a&&(a=o.style.display=""),""===a&&"none"===F.css(o,"display")&&F._data(o,"olddisplay",r(o.nodeName)));for(s=0;l>s;s++)o=this[s],o.style&&(a=o.style.display,(""===a||"none"===a)&&(o.style.display=F._data(o,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(i("hide",3),e,t,n);for(var r,o,a=0,s=this.length;s>a;a++)r=this[a],r.style&&(o=F.css(r,"display"),"none"!==o&&!F._data(r,"olddisplay")&&F._data(r,"olddisplay",o));for(a=0;s>a;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:F.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return F.isFunction(e)&&F.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:F(this).is(":hidden");F(this)[t?"show":"hide"]()}):this.animate(i("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,i){function o(){a.queue===!1&&F._mark(this);var t,n,i,o,s,l,u,c,d,f=F.extend({},a),h=1===this.nodeType,p=h&&F(this).is(":hidden");f.animatedProperties={};for(i in e){if(t=F.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),n=e[t],F.isArray(n)?(f.animatedProperties[t]=n[1],n=e[t]=n[0]):f.animatedProperties[t]=f.specialEasing&&f.specialEasing[t]||f.easing||"swing","hide"===n&&p||"show"===n&&!p)return f.complete.call(this);h&&("height"===t||"width"===t)&&(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===F.css(this,"display")&&"none"===F.css(this,"float")&&(F.support.inlineBlockNeedsLayout&&"inline"!==r(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=f.overflow&&(this.style.overflow="hidden");for(i in e)o=new F.fx(this,f,i),n=e[i],wn.test(n)?(d=F._data(this,"toggle"+i)||("toggle"===n?p?"show":"hide":0),d?(F._data(this,"toggle"+i,"show"===d?"hide":"show"),o[d]()):o[n]()):(s=_n.exec(n),l=o.cur(),s?(u=parseFloat(s[2]),c=s[3]||(F.cssNumber[i]?"":"px"),"px"!==c&&(F.style(this,i,(u||1)+c),l=(u||1)/o.cur()*l,F.style(this,i,l+c)),s[1]&&(u=("-="===s[1]?-1:1)*u+l),o.custom(l,u,c)):o.custom(l,n,""));return!0}var a=F.speed(t,n,i);return F.isEmptyObject(e)?this.each(a.complete,[!1]):(e=F.extend({},e),a.queue===!1?this.each(o):this.queue(a.queue,o))},stop:function(e,n,r){return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];F.removeData(e,n,!0),i.stop(r)}var n,i=!1,o=F.timers,a=F._data(this);if(r||F._unmark(!0,this),null==e)for(n in a)a[n]&&a[n].stop&&n.indexOf(".run")===n.length-4&&t(this,a,n);else a[n=e+".run"]&&a[n].stop&&t(this,a,n);for(n=o.length;n--;)o[n].elem===this&&(null==e||o[n].queue===e)&&(r?o[n](!0):o[n].saveState(),i=!0,o.splice(n,1));(!r||!i)&&F.dequeue(this,e)})}}),F.each({slideDown:i("show",1),slideUp:i("hide",1),slideToggle:i("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){F.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),F.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?F.extend({},e):{complete:n||!n&&t||F.isFunction(e)&&e,duration:e,easing:n&&t||t&&!F.isFunction(t)&&t};return r.duration=F.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in F.fx.speeds?F.fx.speeds[r.duration]:F.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(e){F.isFunction(r.old)&&r.old.call(this),r.queue?F.dequeue(this,r.queue):e!==!1&&F._unmark(this)},r},easing:{linear:function(e,t,n,r){return n+r*e},swing:function(e,t,n,r){return(-Math.cos(e*Math.PI)/2+.5)*r+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),F.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(F.fx.step[this.prop]||F.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=F.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,r){function i(e){return o.step(e)}var o=this,s=F.fx;this.startTime=bn||a(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(F.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){o.options.hide&&F._data(o.elem,"fxshow"+o.prop)===t&&F._data(o.elem,"fxshow"+o.prop,o.start)},i()&&F.timers.push(i)&&!yn&&(yn=setInterval(s.tick,s.interval))},show:function(){var e=F._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||F.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),F(this.elem).show()},hide:function(){this.options.orig[this.prop]=F._data(this.elem,"fxshow"+this.prop)||F.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=bn||a(),o=!0,s=this.elem,l=this.options;if(e||i>=l.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0;for(t in l.animatedProperties)l.animatedProperties[t]!==!0&&(o=!1);if(o){if(null!=l.overflow&&!F.support.shrinkWrapBlocks&&F.each(["","X","Y"],function(e,t){s.style["overflow"+t]=l.overflow[e]}),l.hide&&F(s).hide(),l.hide||l.show)for(t in l.animatedProperties)F.style(s,t,l.orig[t]),F.removeData(s,"fxshow"+t,!0),F.removeData(s,"toggle"+t,!0);r=l.complete,r&&(l.complete=!1,r.call(s))}return!1}return 1/0==l.duration?this.now=i:(n=i-this.startTime,this.state=n/l.duration,this.pos=F.easing[l.animatedProperties[this.prop]](this.state,n,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},F.extend(F.fx,{tick:function(){for(var e,t=F.timers,n=0;t.length>n;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||F.fx.stop()},interval:13,stop:function(){clearInterval(yn),yn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){F.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),F.each(["width","height"],function(e,t){F.fx.step[t]=function(e){F.style(e.elem,t,Math.max(0,e.now)+e.unit)}}),F.expr&&F.expr.filters&&(F.expr.filters.animated=function(e){return F.grep(F.timers,function(t){return e===t.elem}).length});var Tn=/^t(?:able|d|h)$/i,Sn=/^(?:body|html)$/i;F.fn.offset="getBoundingClientRect"in j.documentElement?function(e){var t,r=this[0];if(e)return this.each(function(t){F.offset.setOffset(this,e,t)});if(!r||!r.ownerDocument)return null;if(r===r.ownerDocument.body)return F.offset.bodyOffset(r);try{t=r.getBoundingClientRect()}catch(i){}var o=r.ownerDocument,a=o.documentElement;if(!t||!F.contains(a,r))return t?{top:t.top,left:t.left}:{top:0,left:0};var s=o.body,l=n(o),u=a.clientTop||s.clientTop||0,c=a.clientLeft||s.clientLeft||0,d=l.pageYOffset||F.support.boxModel&&a.scrollTop||s.scrollTop,f=l.pageXOffset||F.support.boxModel&&a.scrollLeft||s.scrollLeft,h=t.top+d-u,p=t.left+f-c;return{top:h,left:p}}:function(e){var t=this[0];if(e)return this.each(function(t){F.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return F.offset.bodyOffset(t);for(var n,r=t.offsetParent,i=t,o=t.ownerDocument,a=o.documentElement,s=o.body,l=o.defaultView,u=l?l.getComputedStyle(t,null):t.currentStyle,c=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==s&&t!==a&&(!F.support.fixedPosition||"fixed"!==u.position);)n=l?l.getComputedStyle(t,null):t.currentStyle,c-=t.scrollTop,d-=t.scrollLeft,t===r&&(c+=t.offsetTop,d+=t.offsetLeft,F.support.doesNotAddBorder&&(!F.support.doesAddBorderForTableAndCells||!Tn.test(t.nodeName))&&(c+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),i=r,r=t.offsetParent),F.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),u=n;return("relative"===u.position||"static"===u.position)&&(c+=s.offsetTop,d+=s.offsetLeft),F.support.fixedPosition&&"fixed"===u.position&&(c+=Math.max(a.scrollTop,s.scrollTop),d+=Math.max(a.scrollLeft,s.scrollLeft)),{top:c,left:d}},F.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return F.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(F.css(e,"marginTop"))||0,n+=parseFloat(F.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=F.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=F(e),s=a.offset(),l=F.css(e,"top"),u=F.css(e,"left"),c=("absolute"===r||"fixed"===r)&&F.inArray("auto",[l,u])>-1,d={},f={};c?(f=a.position(),i=f.top,o=f.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),F.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},F.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Sn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(F.css(e,"marginTop"))||0,n.left-=parseFloat(F.css(e,"marginLeft"))||0,r.top+=parseFloat(F.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(F.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||j.body;e&&!Sn.test(e.nodeName)&&"static"===F.css(e,"position");)e=e.offsetParent;return e})}}),F.each(["Left","Top"],function(e,r){var i="scroll"+r;F.fn[i]=function(r){var o,a;return r===t?(o=this[0])?(a=n(o),a?"pageXOffset"in a?a[e?"pageYOffset":"pageXOffset"]:F.support.boxModel&&a.document.documentElement[i]||a.document.body[i]:o[i]):null:this.each(function(){a=n(this),a?a.scrollTo(e?F(a).scrollLeft():r,e?r:F(a).scrollTop()):this[i]=r})}}),F.each(["Height","Width"],function(e,n){var r=n.toLowerCase();F.fn["inner"+n]=function(){var e=this[0];return e?e.style?parseFloat(F.css(e,r,"padding")):this[r]():null},F.fn["outer"+n]=function(e){var t=this[0];return t?t.style?parseFloat(F.css(t,r,e?"margin":"border")):this[r]():null},F.fn[r]=function(e){var i=this[0];if(!i)return null==e?null:this;if(F.isFunction(e))return this.each(function(t){var n=F(this);n[r](e.call(this,t,n[r]()))});if(F.isWindow(i)){var o=i.document.documentElement["client"+n],a=i.document.body;return"CSS1Compat"===i.document.compatMode&&o||a&&a["client"+n]||o}if(9===i.nodeType)return Math.max(i.documentElement["client"+n],i.body["scroll"+n],i.documentElement["scroll"+n],i.body["offset"+n],i.documentElement["offset"+n]);if(e===t){var s=F.css(i,r),l=parseFloat(s);return F.isNumeric(l)?l:s}return this.css(r,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=F,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return F})})(window),function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var r=e,i=[];if(n=n||r.length,t)for(var o=0;t>o;o++)i[o]=r[0|Math.random()*n];else{var a;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(var o=0;36>o;o++)i[o]||(a=0|16*Math.random(),i[o]=r[19==o?8|3&a:a])}return i.join("")},Math.uuidFast=function(){for(var t,n=e,r=Array(36),i=0,o=0;36>o;o++)8==o||13==o||18==o||23==o?r[o]="-":14==o?r[o]="4":(2>=i&&(i=0|33554432+16777216*Math.random()),t=15&i,i>>=4,r[o]=n[19==o?8|3&t:t]);return r.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)}).toUpperCase()}}();var Crypto={};(function(){Crypto.MD5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,i,o,a;return i=2147483648&e,o=2147483648&t,n=1073741824&e,r=1073741824&t,a=(1073741823&e)+(1073741823&t),n&r?2147483648^a^i^o:n|r?1073741824&a?3221225472^a^i^o:1073741824^a^i^o:a^i^o}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return e&n|t&~n}function o(e,t,n){return e^t^n}function a(e,t,n){return t^(e|~n)}function s(e,i,o,a,s,l,u){return e=n(e,n(n(r(i,o,a),s),u)),n(t(e,l),i)}function l(e,r,o,a,s,l,u){return e=n(e,n(n(i(r,o,a),s),u)),n(t(e,l),r)}function u(e,r,i,a,s,l,u){return e=n(e,n(n(o(r,i,a),s),u)),n(t(e,l),r)}function c(e,r,i,o,s,l,u){return e=n(e,n(n(a(r,i,o),s),u)),n(t(e,l),r)}function d(e){for(var t,n=e.length,r=n+8,i=(r-r%64)/64,o=16*(i+1),a=Array(o-1),s=0,l=0;n>l;)t=(l-l%4)/4,s=8*(l%4),a[t]=a[t]|e.charCodeAt(l)<<s,l++;return t=(l-l%4)/4,s=8*(l%4),a[t]=a[t]|128<<s,a[o-2]=n<<3,a[o-1]=n>>>29,a}function f(e){var t,n,r="",i="";for(n=0;3>=n;n++)t=255&e>>>8*n,i="0"+t.toString(16),r+=i.substr(i.length-2,2);return r}var h,p,m,g,v,y,b,x,w,_=[],C=7,T=12,S=17,N=22,k=5,E=9,L=14,A=20,D=4,O=11,j=16,M=23,H=6,F=10,I=15,P=21;for(_=d(e),y=1732584193,b=4023233417,x=2562383102,w=271733878,h=0;_.length>h;h+=16)p=y,m=b,g=x,v=w,y=s(y,b,x,w,_[h+0],C,3614090360),w=s(w,y,b,x,_[h+1],T,3905402710),x=s(x,w,y,b,_[h+2],S,606105819),b=s(b,x,w,y,_[h+3],N,3250441966),y=s(y,b,x,w,_[h+4],C,4118548399),w=s(w,y,b,x,_[h+5],T,1200080426),x=s(x,w,y,b,_[h+6],S,2821735955),b=s(b,x,w,y,_[h+7],N,4249261313),y=s(y,b,x,w,_[h+8],C,1770035416),w=s(w,y,b,x,_[h+9],T,2336552879),x=s(x,w,y,b,_[h+10],S,4294925233),b=s(b,x,w,y,_[h+11],N,2304563134),y=s(y,b,x,w,_[h+12],C,1804603682),w=s(w,y,b,x,_[h+13],T,4254626195),x=s(x,w,y,b,_[h+14],S,2792965006),b=s(b,x,w,y,_[h+15],N,1236535329),y=l(y,b,x,w,_[h+1],k,4129170786),w=l(w,y,b,x,_[h+6],E,3225465664),x=l(x,w,y,b,_[h+11],L,643717713),b=l(b,x,w,y,_[h+0],A,3921069994),y=l(y,b,x,w,_[h+5],k,3593408605),w=l(w,y,b,x,_[h+10],E,38016083),x=l(x,w,y,b,_[h+15],L,3634488961),b=l(b,x,w,y,_[h+4],A,3889429448),y=l(y,b,x,w,_[h+9],k,568446438),w=l(w,y,b,x,_[h+14],E,3275163606),x=l(x,w,y,b,_[h+3],L,4107603335),b=l(b,x,w,y,_[h+8],A,1163531501),y=l(y,b,x,w,_[h+13],k,2850285829),w=l(w,y,b,x,_[h+2],E,4243563512),x=l(x,w,y,b,_[h+7],L,1735328473),b=l(b,x,w,y,_[h+12],A,2368359562),y=u(y,b,x,w,_[h+5],D,4294588738),w=u(w,y,b,x,_[h+8],O,2272392833),x=u(x,w,y,b,_[h+11],j,1839030562),b=u(b,x,w,y,_[h+14],M,4259657740),y=u(y,b,x,w,_[h+1],D,2763975236),w=u(w,y,b,x,_[h+4],O,1272893353),x=u(x,w,y,b,_[h+7],j,4139469664),b=u(b,x,w,y,_[h+10],M,3200236656),y=u(y,b,x,w,_[h+13],D,681279174),w=u(w,y,b,x,_[h+0],O,3936430074),x=u(x,w,y,b,_[h+3],j,3572445317),b=u(b,x,w,y,_[h+6],M,76029189),y=u(y,b,x,w,_[h+9],D,3654602809),w=u(w,y,b,x,_[h+12],O,3873151461),x=u(x,w,y,b,_[h+15],j,530742520),b=u(b,x,w,y,_[h+2],M,3299628645),y=c(y,b,x,w,_[h+0],H,4096336452),w=c(w,y,b,x,_[h+7],F,1126891415),x=c(x,w,y,b,_[h+14],I,2878612391),b=c(b,x,w,y,_[h+5],P,4237533241),y=c(y,b,x,w,_[h+12],H,1700485571),w=c(w,y,b,x,_[h+3],F,2399980690),x=c(x,w,y,b,_[h+10],I,4293915773),b=c(b,x,w,y,_[h+1],P,2240044497),y=c(y,b,x,w,_[h+8],H,1873313359),w=c(w,y,b,x,_[h+15],F,4264355552),x=c(x,w,y,b,_[h+6],I,2734768916),b=c(b,x,w,y,_[h+13],P,1309151649),y=c(y,b,x,w,_[h+4],H,4149444226),w=c(w,y,b,x,_[h+11],F,3174756917),x=c(x,w,y,b,_[h+2],I,718787259),b=c(b,x,w,y,_[h+9],P,3951481745),y=n(y,p),b=n(b,m),x=n(x,g),w=n(w,v);var R=f(y)+f(b)+f(x)+f(w);return R.toLowerCase()}})();var Pouch=this.Pouch=function Pouch(e,t,n){if(!(this instanceof Pouch))return new Pouch(e,t,n);("function"==typeof t||t===void 0)&&(n=t,t={});var r=Pouch.parseAdapter(t.name||e);if(t.name=r.name,t.adapter=t.adapter||r.adapter,!Pouch.adapters[r.adapter])throw"Adapter is missing";if(!Pouch.adapters[r.adapter].valid())throw"Invalid Adapter";var i=Pouch.adapters[r.adapter](t,n);for(var o in i)this[o]=i[o]};if(Pouch.parseAdapter=function(e){var t=e.match(/([a-z\-]*):\/\/(.*)/);if(t){e=/http(s?)/.test(t[1])?t[1]+"://"+t[2]:t[2];var n=t[1];if(!Pouch.adapters[n].valid())throw"Invalid adapter";return{name:e,adapter:t[1]}}for(var r in Pouch.adapters)if(Pouch.adapters[r].valid())return{name:e,adapter:r};throw"No Valid Adapter."},Pouch.destroy=function(e,t){var n=Pouch.parseAdapter(e);Pouch.adapters[n.adapter].destroy(n.name,t)},Pouch.adapters={},Pouch.adapter=function(e,t){Pouch.adapters[e]=t},Pouch.Errors={MISSING_BULK_DOCS:{status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"},MISSING_DOC:{status:404,error:"not_found",reason:"missing"},REV_CONFLICT:{status:409,error:"conflict",reason:"Document update conflict"},INVALID_ID:{status:400,error:"invalid_id",reason:"_id field must contain a string"},RESERVED_ID:{status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."},UNKNOWN_ERROR:{status:500,error:"unknown_error",reason:"Database encountered an unknown error"}},"undefined"!=typeof module&&module.exports){global.Pouch=Pouch,Pouch.merge=require("./pouch.merge.js").merge,Pouch.collate=require("./pouch.collate.js").collate,Pouch.replicate=require("./pouch.replicate.js").replicate,Pouch.utils=require("./pouch.utils.js"),module.exports=Pouch;var adapters=["leveldb","http"];adapters.map(function(e){var t="./adapters/pouch."+e+".js";require(t)})}(function(){"undefined"!=typeof module&&module.exports&&(module.exports=Pouch),Pouch.collate=function(i,o){var a=r(i),s=r(o);return 0!==a-s?a-s:null===i?0:"number"==typeof i?i-o:"boolean"==typeof i?o>i?-1:1:"string"==typeof i?e(i,o):Array.isArray(i)?n(i,o):"object"==typeof i?t(i,o):void 0};var e=function(e,t){return e===t?0:e>t?1:-1},t=function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;i>o;o++){var a=Pouch.collate(n[o],r[o]);if(0!==a)return a;if(a=Pouch.collate(e[n[o]],t[r[o]]),0!==a)return a}return n.length===r.length?0:n.length>r.length?1:-1},n=function(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++){var i=Pouch.collate(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1},r=function(e){var t=["boolean","number","string","object"];return-1!==t.indexOf(typeof e)?null===e?1:t.indexOf(typeof e)+2:Array.isArray(e)?4.5:void 0}}).call(this),function(){function e(e){for(var t=[e.shift(),[]],n=t;e.length;)nleaf=[e.shift(),[]],n[1].push(nleaf),n=nleaf;return t}function t(t,n){var i=rootToLeaf(t).map(function(t){var r=t.ids.slice(-n);return{pos:t.pos+(t.ids.length-r.length),ids:e(r)}});return i.reduce(function(e,t){return r(e,t,!0).tree},[i.shift()])}function n(e,t){for(var r=!1,i=0;t[1].length>i;i++)if(e[1][0]||(r="new_leaf",e[1][0]=t[1][i]),-1===e[1][0].indexOf(t[1][i][0]))r="new_branch",e[1].push(t[1][i]),e[1].sort();else{var o=n(e[1][0],t[1][i]);r=o.conflicts||r,e[1][0]=o.tree}return{conflicts:r,tree:e}}function r(e,t,r){var i,o=[],a=!1,s=!1;return e.length?(e.forEach(function(e){if(e.pos===t.pos&&e.ids[0]===t.ids[0])i=n(e.ids,t.ids),o.push({pos:e.pos,ids:i.tree}),a=a||i.conflicts,s=!0;else if(r!==!0){for(var l,u=e.pos<t.pos?e:t,c=e.pos<t.pos?t:e,d=c.pos-u.pos,f=u.ids;d--;)l=f[1],f=f[1][0];f[0]!==c.ids[0]?o.push(e):(i=n(f,c.ids),l[0]=i.tree,o.push({pos:u.pos,ids:u.ids}),a=a||i.conflicts,s=!0)}else o.push(e)}),s||o.push(t),o.sort(function(e,t){return e.pos-t.pos}),{tree:o,conflicts:a||"internal_node"}):{tree:[t],conflicts:"new_leaf"}}if("undefined"!=typeof module&&module.exports){module.exports=Pouch;var i=require("./pouch.utils.js");for(var o in i)global[o]=i[o]}Pouch.merge=function(e,n,i){e=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(n));var o=r(e,n);return{tree:t(o.tree,i),conflicts:o.conflicts}}}.call(this),"undefined"!=typeof module&&module.exports&&(module.exports=Pouch),function(){function e(e,t,n,r,i){fetchCheckpoint(e,t,function(o){function a(){l&&0===u&&(f.end_time=new Date,writeCheckpoint(e,t,c,function(){call(r,null,f)}))}var s=[],l=!1,u=0,c=o,d=n.continuous||!1,f={ok:!0,start_time:new Date,docs_read:0,docs_written:0};if(!i.cancelled){var h={continuous:d,since:o,onChange:function(r){c=r.seq,s.push(r),f.docs_read++,u++;var i={};i[r.id]=r.changes.map(function(e){return e.rev}),t.revsDiff(i,function(r,i){if(0===Object.keys(i).length)return u--,a(),void 0;for(var o in i)i[o].missing.map(function(r){e.get(o,{revs:!0,rev:r,attachments:!0},function(e,r){t.bulkDocs({docs:[r]},{new_edits:!1},function(){n.onChange&&n.onChange.apply(this,[f]),f.docs_written++,u--,a()})})})})},complete:function(){l=!0,a()}};n.filter&&(h.filter=n.filter);var p=e.changes(h);n.continuous&&(i.cancel=p.cancel)}})}function t(e,t){return"string"==typeof e?new Pouch(e,t):(t(null,e),void 0)}Pouch.replicate=function(n,r,i,o){i instanceof Function&&(o=i,i={}),void 0===i&&(i={});var a=function(){this.cancelled=!1,this.cancel=function(){this.cancelled=!0}},s=new a;return t(n,function(n,a){return n?o(n):(t(r,function(t,n){return t?o(t):(e(a,n,i,o,s),void 0)}),void 0)}),s}}.call(this);var call=function(e){var t=Array.prototype.slice.call(arguments,1);typeof e==typeof Function&&e.apply(this,t)},yankError=function(e){return function(t,n){t||n[0].error?call(e,t||n[0]):call(e,null,n[0])}},isAttachmentId=function(e){return/\//.test(e)&&!/^_local/.test(e)&&!/^_design/.test(e)},parseDocId=function(e){var t="string"!=typeof e||/^_(design|local)\//.test(e)?[e]:e.split("/");return{docId:t[0],attachmentId:t.splice(1).join("/").replace(/^\/+/,"")}},isValidId=function(e){return/^_/.test(e)?/^_(design|local)/.test(e):!0},parseDoc=function(e,t){var n=null;if(e._id){var r=parseDocId(e._id);if(""!==r.attachmentId){var i=btoa(JSON.stringify(e));e={_id:r.docId},e._attachments||(e._attachments={}),e._attachments[r.attachmentId]={content_type:"application/json",data:i}}}if(t){e._id||(e._id=Math.uuid());var o,a=Math.uuid(32,16).toLowerCase();if(e._rev){var s=/^(\d+)-(.+)$/.exec(e._rev);if(!s)throw"invalid value for property '_rev'";e._rev_tree=[{pos:parseInt(s[1],10),ids:[s[2],[[a,[]]]]}],o=parseInt(s[1],10)+1}else e._rev_tree=[{pos:1,ids:[a,[]]}],o=1}else if(e._revisions&&(e._rev_tree=[{pos:e._revisions.start-e._revisions.ids.length+1,ids:e._revisions.ids.reduce(function(e,t){return null===e?[t,[]]:[t,[e]]},null)}],o=e._revisions.start,a=e._revisions.ids[e._revisions.ids.length-1]),!e._rev_tree){var s=/^(\d+)-(.+)$/.exec(e._rev);o=parseInt(s[1],10),a=s[2],e._rev_tree=[{pos:parseInt(s[1],10),ids:[s[2],[]]}]}return"string"!=typeof e._id?n=Pouch.Errors.INVALID_ID:isValidId(e._id)||(n=Pouch.Errors.RESERVED_ID),e._id=decodeURIComponent(e._id),e._rev=[o,a].join("-"),n?n:Object.keys(e).reduce(function(t,n){return/^_/.test(n)&&"_attachments"!==n?t.metadata[n.slice(1)]=e[n]:t.data[n]=e[n],t
},{metadata:{},data:{}})},compareRevs=function(e,t){return e.id!==t.id?e.id<t.id?-1:1:e.deleted^t.deleted?e.deleted?-1:1:e.rev_tree[0].pos===t.rev_tree[0].pos?e.rev_tree[0].ids<t.rev_tree[0].ids?-1:1:e.rev_tree[0].start<t.rev_tree[0].start?-1:1},expandTree=function(e,t,n){e.push({rev:t+"-"+n[0],status:"available"}),n[1].forEach(function(n){expandTree(e,t+1,n)})},collectRevs=function(e){var t=[];return expandTree(t,e.pos,e.ids),t},collectLeavesInner=function(e,t,n){n[1].length||e.push({rev:t+"-"+n[0]}),n[1].forEach(function(n){collectLeavesInner(e,t+1,n)})},collectLeaves=function(e){var t=[];return e.forEach(function(e){collectLeavesInner(t,e.pos,e.ids)}),t},collectConflicts=function(e){var t=collectLeaves(e);return t.shift(),t.map(function(e){return e.rev})},fetchCheckpoint=function(e,t,n){var r=Crypto.MD5(e.id()+t.id());e.get("_local/"+r,function(e,t){e&&404===e.status?n(0):n(t.last_seq)})},writeCheckpoint=function(e,t,n,r){var i={_id:"_local/"+Crypto.MD5(e.id()+t.id()),last_seq:n};e.get(i._id,function(t,n){n&&n._rev&&(i._rev=n._rev),e.put(i,function(){r()})})},winningRev=function(e){var t=e.deletions||{},n=e.rev_tree.map(function(e){var n=treeLeaf(e.pos,e.ids);return n.deleted=n.id in t,n});return n.sort(function(e,t){return e.deleted!==t.deleted?e.deleted>t.deleted:e.pos>t.pos}),n[0].pos+"-"+n[0].id},treeLeaf=function(e,t){return t[1].length?treeLeaf(e+1,t[1][0]):{pos:e,id:t[0]}},rootToLeaf=function(e){var t=[];return e.forEach(function(e){expandTree2(t,[],e.pos,e.ids)}),t},arrayFirst=function(e,t){for(var n=0;e.length>n;n++)if(t(e[n],n)===!0)return e[n];return!1},filterChange=function(e){return function(t){(!e.filter||e.filter.call(this,t.doc))&&(e.include_docs||delete t.doc,call(e.onChange,t))}},ajax=function ajax(e,t){e.success&&void 0===t&&(t=e.success);var n=function(n,r,i){e.dataType===!1&&"string"!=typeof n&&(n=JSON.stringify(n)),call(t,null,n,i)},r=function r(e){if(e){var n=e.responseText?{status:e.status}:e;try{n=$.extend({},n,JSON.parse(e.responseText))}catch(r){}call(t,n)}else call(t,!0)},i={success:n,error:r,headers:{Accept:"application/json","Content-Type":"application/json"},dataType:"json",timeout:1e4};if(e=$.extend({},i,e),e.data&&"string"!=typeof e.data&&(e.data=JSON.stringify(e.data)),e.auth&&(e.beforeSend=function(t){var n=btoa(e.auth.username+":"+e.auth.password);t.setRequestHeader("Authorization","Basic "+n)}),$.ajax)return $.ajax(e);if(e.data&&(e.body=e.data,delete e.data),e.type&&(e.method=e.type,delete e.type),e.auth){var o=btoa(e.auth.username+":"+e.auth.password);e.headers.Authorization="Basic "+o}return request(e,function(t,n,r){if(t)return t.status=n?n.statusCode:400,call(e.error,t);var i=n.headers["content-type"],o=r||"";e.dataType&&(/json/.test(i)||/^[\s]*{/.test(o)&&/}[\s]*$/.test(o))&&(o=JSON.parse(o)),o.error?(o.status=n.statusCode,call(e.error,o)):call(e.success,o,"OK",n)})},win=this,localJSON=function(){return win.localStorage?{set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e,t){try{return null===localStorage.getItem(e)?t:JSON.parse(localStorage.getItem(e)||"false")}catch(n){return t}},remove:function(e){localStorage.removeItem(e)}}:!1}();if("undefined"==typeof btoa&&(btoa=function(e){return new Buffer(unescape(encodeURIComponent(e)),"binary").toString("base64")}),"undefined"==typeof atob&&(atob=function(e){return decodeURIComponent(escape(new Buffer(e,"base64").toString("binary")))}),"undefined"!=typeof module&&module.exports){var crypto=require("crypto"),Crypto={MD5:function(e){return crypto.createHash("md5").update(e).digest("hex")}};request=require("request"),_=require("underscore"),$=_,module.exports={Crypto:Crypto,call:call,yankError:yankError,isAttachmentId:isAttachmentId,parseDocId:parseDocId,parseDoc:parseDoc,compareRevs:compareRevs,expandTree:expandTree,collectRevs:collectRevs,collectLeavesInner:collectLeavesInner,collectLeaves:collectLeaves,collectConflicts:collectConflicts,fetchCheckpoint:fetchCheckpoint,writeCheckpoint:writeCheckpoint,winningRev:winningRev,rootToLeaf:rootToLeaf,arrayFirst:arrayFirst,filterChange:filterChange,ajax:ajax,atob:atob,btoa:btoa}}var HTTP_TIMEOUT=1e4;parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var HttpPouch=function(e,t){var n=getHost(e.name),r=genUrl(n,""),i={},o=function(){ajax({auth:n.auth,type:"PUT",url:r},function(e){e&&401===e.status?ajax({auth:n.auth,type:"HEAD",url:r},function(e){e?call(t,e):call(t,null,i)}):e&&412!==e.status?call(t,Pouch.Errors.UNKNOWN_ERROR):call(t,null,i)})};return ajax({auth:n.auth,type:"GET",url:r},function(e){e?404===e.status?o():call(t,e):call(t,null,i)}),i.id=function(){return genUrl(n,"")},i.info=function(e){ajax({auth:n.auth,type:"GET",url:genUrl(n,"")},e)},i.get=function(e,t,r){"function"==typeof t&&(r=t,t={});var i=[];t.revs&&i.push("revs=true"),t.revs_info&&i.push("revs_info=true"),t.attachments&&i.push("attachments=true"),t.rev&&i.push("rev="+t.rev),t.conflicts&&i.push("conflicts="+t.conflicts),i=i.join("&"),i=""===i?"":"?"+i;var o={auth:n.auth,type:"GET",url:genUrl(n,e+i)},a=e.split("/");(a.length>1&&"_design"!==a[0]&&"_local"!==a[0]||a.length>2&&"_design"===a[0]&&"_local"!==a[0])&&(o.dataType=!1),ajax(o,function(e,t,n){return e?call(r,Pouch.Errors.MISSING_DOC):(call(r,null,t,n),void 0)})},i.query=function(e,t,r){"function"==typeof t&&(r=t,t={});var i=[];if(t.reduce!==void 0&&i.push("reduce="+t.reduce),t.include_docs!==void 0&&i.push("include_docs="+t.include_docs),t.limit!==void 0&&i.push("limit="+t.limit),t.descending!==void 0&&i.push("descending="+t.descending),i=i.join("&"),i=""===i?"":"?"+i,"string"==typeof e){var o=e.split("/");return ajax({auth:n.auth,type:"GET",url:genUrl(n,"_design/"+o[0]+"/_view/"+o[1]+i)},r),void 0}var a=JSON.stringify(e,function(e,t){return"function"==typeof t?t+"":t});ajax({auth:n.auth,type:"POST",url:genUrl(n,"_temp_view"+i),data:a},r)},i.remove=function(e,t,r){"function"==typeof t&&(r=t,t={}),ajax({auth:n.auth,type:"DELETE",url:genUrl(n,e._id)+"?rev="+e._rev},r)},i.removeAttachment=function(e,t,r){ajax({auth:n.auth,type:"DELETE",url:genUrl(n,e)+"?rev="+t},r)},i.putAttachment=function(e,t,r,i,o){ajax({auth:n.auth,type:"PUT",url:genUrl(n,e)+"?rev="+t,headers:{"Content-Type":i},data:r},o)},i.put=function(e,t,r){"function"==typeof t&&(r=t,t={});var i=[];t&&t.new_edits!==void 0&&i.push("new_edits="+t.new_edits),i=i.join("&"),""!==i&&(i="?"+i),ajax({auth:n.auth,type:"PUT",url:genUrl(n,e._id)+i,data:e},r)},i.post=function(e,t,r){"function"==typeof t&&(r=t,t={}),ajax({auth:n.auth,type:"POST",url:genUrl(n,""),data:e},r)},i.bulkDocs=function(e,t,r){"function"==typeof t&&(r=t,t={}),t||(t={}),t.new_edits!==void 0&&(e.new_edits=t.new_edits),ajax({auth:n.auth,type:"POST",url:genUrl(n,"_bulk_docs"),data:e},r)},i.allDocs=function(e,t){"function"==typeof e&&(t=e,e={});var r=[];e.conflicts&&r.push("conflicts=true"),e.include_docs&&r.push("include_docs=true"),e.startkey&&r.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&r.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),r=r.join("&"),""!==r&&(r="?"+r),ajax({auth:n.auth,type:"GET",url:genUrl(n,"_all_docs"+r)},t)},i.changes=function(e,t){"function"==typeof e&&(e={complete:e}),t&&(e.complete=t),console.info(r+": Start Changes Feed: continuous="+e.continuous);var i="?style=all_docs";(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i+="&include_docs=true"),e.continuous&&(i+="&feed=longpoll"),e.conflicts&&(i+="&conflicts=true"),e.descending&&(i+="&descending=true"),e.filter&&"string"==typeof e.filter&&(i+="&filter="+e.filter);var o,a,s=function(t,r){var s={auth:n.auth,type:"GET",url:genUrl(n,"_changes"+i+"&since="+t)};a=t,e.aborted||(o=ajax(s,function(e,t){r(t)}))},l=function(t){t&&t.results&&t.results.forEach(function(t){var n=e.filter&&"function"==typeof e.filter;e.aborted||n&&!e.filter.apply(this,[t.doc])||call(e.onChange,t)}),t&&t.last_seq&&(a=t.last_seq),e.continuous?s(a,l):call(e.complete,null,t)};return s(e.since||0,l),{cancel:function(){console.info(r+": Cancel Changes Feed"),e.aborted=!0,o.abort()}}},i.revsDiff=function(e,t,r){"function"==typeof t&&(r=t,t={}),ajax({auth:n.auth,type:"POST",url:genUrl(n,"_revs_diff"),data:e},function(e,t){call(r,null,t)})},i.replicate={},i.replicate.from=function(e,t,n){return"function"==typeof t&&(n=t,t={}),Pouch.replicate(e,i,t,n)},i.replicate.to=function(e,t,n){return"function"==typeof t&&(n=t,t={}),Pouch.replicate(i,e,t,n)},i};if(HttpPouch.destroy=function(e,t){var n=getHost(e);ajax({auth:n.auth,type:"DELETE",url:genUrl(n,"")},t)},HttpPouch.valid=function(){return!0},"undefined"!=typeof module&&module.exports){var pouchdir="../";this.Pouch=require(pouchdir+"pouch.js"),this.ajax=Pouch.utils.ajax}Pouch.adapter("http",HttpPouch),Pouch.adapter("https",HttpPouch),window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange;var idbError=function(e){return function(t){call(e,{status:500,error:t.type,reason:t.target})}},IdbPouch=function(opts,callback){function sortByBulkSeq(e,t){return e._bulk_seq-t._bulk_seq}function toArray(e){return Array.prototype.slice.call(e||[],0)}function fileErrorHandler(e){console.error("File system error",e)}function deleteOrphanedFiles(e){api.allDocs({include_docs:!0},function(t,n){requestFileSystem(window.PERSISTENT,e,function(e){var t=e.root.createReader(),r=[],i=n.rows,o=function(){t.readEntries(function(e){if(e.length)r=r.concat(toArray(e)),o();else for(var t in r){var n=!1;for(var a in i)if(i[a].doc){var s=i[a].doc;if(s._attachments)for(var l in s._attachments)s._attachments[l].digest==r[t].name&&(n=!0);if(n)break}n||r[t].remove(function(){console.info("Removed orphaned attachment: "+r[t].name)},fileErrorHandler)}},fileErrorHandler)};o()},fileErrorHandler)})}function writeAttachmentToFile(e,t,n){storageInfo.queryUsageAndQuota(window.PERSISTENT,function(r,i){var o=i;0==i?o=1048576e3:r/i>.8?deleteOrphanedFiles(i):r/i>.9&&(o=2*i),console.info("Current file quota: "+i+", current usage:"+r+", new quota will be: "+o),storageInfo.requestQuota(window.PERSISTENT,o,function(){storageInfo.queryUsageAndQuota(window.PERSISTENT,function(r,i){requestFileSystem(window.PERSISTENT,i,function(r){r.root.getFile(e,{create:!0},function(e){e.createWriter(function(e){e.onwriteend=function(){console.info("Wrote attachment")},e.onerror=function(e){console.info("File write failed: "+(""+e))};var r=new Blob([t],{type:n});e.write(r)},fileErrorHandler)},fileErrorHandler)},fileErrorHandler)},fileErrorHandler)},fileErrorHandler)},fileErrorHandler)}function readAttachmentFromFile(e,t){storageInfo.queryUsageAndQuota(window.PERSISTENT,function(n,r){requestFileSystem(window.PERSISTENT,r,function(n){n.root.getFile(e,{},function(e){e.file(function(e){var n=new FileReader;n.onloadend=function(){data=this.result,console.info("Read attachment"),t(data)},n.readAsBinaryString(e)},fileErrorHandler)},fileErrorHandler)},fileErrorHandler)},fileErrorHandler)}var POUCH_VERSION=1,DOC_STORE="document-store",BY_SEQ_STORE="by-sequence",ATTACH_STORE="attach-store",name=opts.name,req=indexedDB.open(name,POUCH_VERSION),update_seq=0,storageInfo=window.webkitStorageInfo?window.webkitStorageInfo:window.storageInfo,requestFileSystem=window.webkitRequestFileSystem?window.webkitRequestFileSystem:window.requestFileSystem,storeAttachmentsInIDB=!1;storageInfo&&requestFileSystem||(storeAttachmentsInIDB=!0);var api={},idb;console.info(name+": Open Database"),req.onupgradeneeded=function(e){var t=e.target.result;t.createObjectStore(DOC_STORE,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),t.createObjectStore(BY_SEQ_STORE,{autoIncrement:!0}).createIndex("_rev","_rev",{unique:!0}),t.createObjectStore(ATTACH_STORE,{keyPath:"digest"})},req.onsuccess=function(e){if(idb=e.target.result,idb.onversionchange=function(){idb.close()},idb.setVersion&&Number(idb.version)!==POUCH_VERSION){var t=idb.setVersion(POUCH_VERSION);return t.onsuccess=function(t){function n(){req.onsuccess(e)}t.target.result.oncomplete=n,req.onupgradeneeded(e)},void 0}api.changes(function(e,t){t.results.length&&(update_seq=t.results[t.results.length-1].seq),call(callback,null,api)})},req.onerror=idbError(callback),api.id=function idb_id(){var e=localJSON.get(name+"_id",null);return null===e&&(e=Math.uuid(),localJSON.set(name+"_id",e)),e},api.bulkDocs=function idb_bulkDocs(e,t,n){function r(){if(!p.length)return i();var e=p.shift(),t=m.objectStore(DOC_STORE).get(e.metadata.id);t.onsuccess=function(t){var n=t.target.result;n?a(n,e):s(e)}}function i(){var e=[];h.sort(sortByBulkSeq),h.forEach(function(t){if(delete t._bulk_seq,t.error)return e.push(t),void 0;var n=t.metadata,r=winningRev(n);if(e.push({ok:!0,id:n.id,rev:r}),!/_local/.test(n.id)){var i={id:n.id,seq:n.seq,changes:collectLeaves(n.rev_tree),doc:t.data};i.doc._rev=r,update_seq++,IdbPouch.Changes.emitChange(name,i)}}),call(n,null,e)}function o(e,t){function n(e){i||(e?(i=e,call(t,i)):o==a.length&&r())}function r(){var n=m.objectStore(BY_SEQ_STORE).put(e.data);n.onsuccess=function(n){console.info(name+": Wrote Document ",e.metadata.id),e.metadata.seq=n.target.result,delete e.metadata.rev;var r=m.objectStore(DOC_STORE).put(e.metadata);r.onsuccess=function(){h.push(e),call(t)}}}var i=null,o=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,e.metadata.deleted&&(e.data._deleted=!0);var a=e.data._attachments?Object.keys(e.data._attachments):[];for(var s in e.data._attachments)if(e.data._attachments[s].stub)o++,n();else{var l=e.data._attachments[s].data,c="md5-"+Crypto.MD5(l);delete e.data._attachments[s].data,e.data._attachments[s].digest=c,u(e,c,l,function(e){o++,n(e)})}a.length||r()}function a(e,t){var n=Pouch.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),i=e.deleted&&t.metadata.deleted||!e.deleted&&c&&"new_leaf"!==n.conflicts;return i?(h.push(l(Pouch.Errors.REV_CONFLICT,t._bulk_seq)),r()):(t.metadata.deleted&&("deletions"in t.metadata||(t.metadata.deletions={}),t.metadata.deletions[t.metadata.rev.split("-")[1]]=!0),t.metadata.rev_tree=n.tree,o(t,r),void 0)}function s(e){return"was_delete"in t&&e.metadata.deleted?(h.push(Pouch.Errors.MISSING_DOC),r()):(o(e,r),void 0)}function l(e,t){return e._bulk_seq=t,e}function u(e,t,n,r){if(storeAttachmentsInIDB){var i=m.objectStore(ATTACH_STORE),o=i.get(t).onsuccess=function(o){var a=[e.metadata.id,e.metadata.rev].join("@"),s={digest:t,body:n};o.target.result?o.target.result.refs&&(s.refs=o.target.result.refs,s.refs[a]=!0):(s.refs={},s.refs[a]=!0);var l=i.put(s).onsuccess=function(){call(r)};l.onerror=l.ontimeout=idbError(r)};o.onerror=o.ontimeout=idbError(r)}else writeAttachmentToFile(t,n),call(r)}if("function"==typeof t&&(n=t,t={}),t||(t={}),!e.docs)return call(n,Pouch.Errors.MISSING_BULK_DOCS);var c="new_edits"in t?t.new_edits:!0,d=JSON.parse(JSON.stringify(e.docs)),f=d.map(function(e,t){var n=parseDoc(e,c);return n._bulk_seq=t,n}),h=[],p=[];f.forEach(function(e){return e.error?h.push(e):p.length&&e.metadata.id===p[0].metadata.id?(h.push(l(Pouch.Errors.REV_CONFLICT,e._bulk_seq)),void 0):p.unshift(e)});var m=idb.transaction([DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readwrite");m.onerror=idbError(n),m.ontimeout=idbError(n),r()},api.get=function idb_get(e,t,n){if("function"==typeof t&&(n=t,t={}),e=parseDocId(e),""!==e.attachmentId)return api.getAttachment(e,{decode:!0},n);var r=idb.transaction([DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readonly");r.objectStore(DOC_STORE).get(e.docId).onsuccess=function(e){var i=e.target.result;if(!e.target.result||i.deleted&&!t.rev)return call(n,Pouch.Errors.MISSING_DOC);var o=winningRev(i),a=t.rev?t.rev:o,s=r.objectStore(BY_SEQ_STORE).index("_rev");s.get(a).onsuccess=function(e){var r=e.target.result;if(t.revs){var o=arrayFirst(rootToLeaf(i.rev_tree),function(e){return-1!==e.ids.indexOf(r._rev.split("-")[1])});o.ids.reverse(),r._revisions={start:o.pos+o.ids.length-1,ids:o.ids}}if(t.revs_info&&(r._revs_info=i.rev_tree.reduce(function(e,t){return e.concat(collectRevs(t))},[])),t.conflicts){var a=collectConflicts(i.rev_tree);a.length&&(r._conflicts=a)}if(t.attachments&&r._attachments){var s=Object.keys(r._attachments),l=0;s.forEach(function(e){api.getAttachment(r._id+"/"+e,function(t,i){r._attachments[e].data=i,++l===s.length&&n(null,r)})})}else{if(r._attachments)for(var u in r._attachments)r._attachments[u].stub=!0;n(null,r)}}}},api.getAttachment=function(e,t,n){t instanceof Function&&(n=t,t={}),"string"==typeof e&&(e=parseDocId(e));var r=idb.transaction([DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readonly");r.objectStore(DOC_STORE).get(e.docId).onsuccess=function(i){var o=i.target.result,a=r.objectStore(BY_SEQ_STORE);a.get(o.seq).onsuccess=function(i){function o(e){return t.decode&&(e=atob(e)),e}var a=i.target.result._attachments[e.attachmentId],s=a.digest;a.content_type,storeAttachmentsInIDB?r.objectStore(ATTACH_STORE).get(s).onsuccess=function(e){var t=e.target.result.body;call(n,null,o(t))}:readAttachmentFromFile(s,function(e){call(n,null,o(e))})}}},api.put=api.post=function idb_put(e,t,n){return"function"==typeof t&&(n=t,t={}),api.bulkDocs({docs:[e]},t,yankError(n))},api.putAttachment=function idb_putAttachment(e,t,n,r,i){e=parseDocId(e),api.get(e.docId,{attachments:!0},function(t,o){o._attachments||(o._attachments={}),o._attachments[e.attachmentId]={content_type:r,data:btoa(n)},api.put(o,i)})},api.remove=function idb_remove(e,t,n){"function"==typeof t&&(n=t,t={}),t.was_delete=!0;var r=JSON.parse(JSON.stringify(e));return r._deleted=!0,api.bulkDocs({docs:[r]},t,yankError(n))},api.removeAttachment=function idb_removeAttachment(e,t,n){e=parseDocId(e),api.get(e.docId,function(r,i){return r?(call(n,r),void 0):i._rev!=t?(call(n,Pouch.Errors.REV_CONFLICT),void 0):(i._attachments||(i._attachments={}),delete i._attachments[e.attachmentId],api.put(i,n),void 0)})},api.allDocs=function idb_allDocs(e,t){"function"==typeof e&&(t=e,e={});var n="startkey"in e?e.startkey:!1,r="endkey"in e?e.endkey:!1,i="descending"in e?e.descending:!1;i=i?"prev":null;var o=n&&r?IDBKeyRange.bound(n,r,!1,!1):n?IDBKeyRange.lowerBound(n,!0):r?IDBKeyRange.upperBound(r):!1,a=idb.transaction([DOC_STORE,BY_SEQ_STORE],"readonly");o=o||null;var s=a.objectStore(DOC_STORE),l=i?s.openCursor(o,i):s.openCursor(o),u=[];l.onsuccess=function(n){function r(t,n){if(/_local/.test(t.id))return i["continue"]();if(t.deleted!==!0){var r={id:t.id,key:t.id,value:{rev:winningRev(t)}};e.include_docs&&(r.doc=n,r.doc._rev=winningRev(t),e.conflicts&&(r.doc._conflicts=collectConflicts(t.rev_tree))),u.push(r)}i["continue"]()}if(!n.target.result)return t(null,{total_rows:u.length,rows:u});var i=n.target.result;if(e.include_docs){var o=a.objectStore(BY_SEQ_STORE);o.get(i.value.seq).onsuccess=function(e){r(i.value,e.target.result)}}else r(i.value)}},api.info=function idb_info(e){var t=0;idb.transaction([DOC_STORE],"readonly").objectStore(DOC_STORE).openCursor().onsuccess=function(n){var r=n.target.result;return r?(r.value.deleted!==!0&&t++,r["continue"](),void 0):e(null,{db_name:name,doc_count:t,update_seq:update_seq})}},api.revsDiff=function idb_revsDiff(e,t,n){function r(t,r,s){return e[s].map(function(e){var t=function(t){return t.rev!==e};(!r||r._revs_info.every(t))&&(a[s]||(a[s]={missing:[]}),a[s].missing.push(e))}),++o===i.length?call(n,null,a):void 0}"function"==typeof t&&(n=t,t={});var i=Object.keys(e),o=0,a={};i.map(function(e){api.get(e,{revs_info:!0},function(t,n){r(t,n,e)})})},api.changes=function idb_changes(opts,callback){function fetchChanges(){txn=idb.transaction([DOC_STORE,BY_SEQ_STORE]),txn.oncomplete=onTxnComplete;var e=descending?txn.objectStore(BY_SEQ_STORE).openCursor(IDBKeyRange.lowerBound(opts.seq,!0),descending):txn.objectStore(BY_SEQ_STORE).openCursor(IDBKeyRange.lowerBound(opts.seq,!0));e.onsuccess=onsuccess,e.onerror=onerror}function onsuccess(e){if(!e.target.result){opts.continuous&&!opts.cancelled&&IdbPouch.Changes.addListener(name,id,opts);for(var t=0,n=results.length;n>t;t++){var r=results[t];r&&dedupResults.push(r)}return dedupResults.map(function(e){(!opts.filter||opts.filter.apply(this,[e.doc]))&&(opts.include_docs||delete e.doc,call(opts.onChange,e))}),!1}var i=e.target.result,o=txn.objectStore(DOC_STORE);o.get(i.value._id).onsuccess=function(e){var t=e.target.result;if(/_local/.test(t.id))return i["continue"]();var n={id:t.id,seq:i.key,changes:collectLeaves(t.rev_tree),doc:i.value};n.doc._rev=winningRev(t),t.deleted&&(n.deleted=!0),opts.conflicts&&(n.doc._conflicts=collectConflicts(t.rev_tree));var r=n.id,o=resultIndices[r];void 0!==o&&(results[o]=null),results.push(n),resultIndices[r]=results.length-1,i["continue"]()}}function onTxnComplete(){call(opts.complete,null,{results:dedupResults})}function onerror(){opts.continuous&&IdbPouch.Changes.addListener(name,id,opts),call(opts.complete)}"function"==typeof opts&&(opts={complete:opts}),callback&&(opts.complete=callback),opts.seq||(opts.seq=0),opts.since&&(opts.seq=opts.since),console.info(name+": Start Changes Feed: continuous="+opts.continuous);var descending="descending"in opts?opts.descending:!1;descending=descending?"prev":null;var results=[],resultIndices={},dedupResults=[],id=name+":"+Math.uuid(),txn;if(opts.filter&&"string"==typeof opts.filter){var filterName=opts.filter.split("/");api.get("_design/"+filterName[0],function(err,ddoc){var filter=eval("(function() { return "+ddoc.filters[filterName[1]]+" })()");opts.filter=filter,fetchChanges()})}else fetchChanges();return opts.continuous?{cancel:function(){console.info(name+": Cancel Changes Feed"),opts.cancelled=!0,IdbPouch.Changes.removeListener(name,id)}}:void 0},api.replicate={},api.replicate.from=function idb_replicate_from(e,t,n){return"function"==typeof t&&(n=t,t={}),Pouch.replicate(e,api,t,n)},api.replicate.to=function idb_replicate_to(e,t,n){return"function"==typeof t&&(n=t,t={}),Pouch.replicate(api,e,t,n)},api.query=function idb_query(e,t,n){if("function"==typeof t&&(n=t,t={}),n&&(t.complete=n),"string"==typeof e){var r=e.split("/");api.get("_design/"+r[0],function(e,i){e&&call(n,e),new viewQuery({map:i.views[r[1]].map,reduce:i.views[r[1]].reduce},idb,t)})}else new viewQuery(e,idb,t)};var viewQuery=function(fun,idb,options){function sum(e){return e.reduce(function(e,t){return e+t},0)}function viewComplete(){if(results.sort(function(e,t){return Pouch.collate(e.key,t.key)}),options.descending&&results.reverse(),options.reduce===!1)return options.complete(null,{rows:results});var e=[];results.forEach(function(t){var n=e[e.length-1]||null;return n&&0===Pouch.collate(n.key[0][0],t.key)?(n.key.push([t.key,t.id]),n.value.push(t.value),void 0):(e.push({key:[[t.key,t.id]],value:[t.value]}),void 0)}),e.forEach(function(e){e.value=fun.reduce(e.key,e.value)||null,e.key=e.key[0][0]}),options.complete(null,{rows:e})}function fetchDocData(e,t,n){current={doc:n.target.result,metadata:t},current.doc._rev=winningRev(t);var r=!1;t.deletions&&(r=current.doc._rev.split("-")[1]in t.deletions),options.complete&&!r&&fun.map.apply(this,[current.doc]),e["continue"]()}function fetchMetadata(e){var t=e.target.result;if(!t)return viewComplete();var n=e.target.result.value,r=winningRev(n),i=txn.objectStore(BY_SEQ_STORE).index("_rev").get(r);i.onsuccess=fetchDocData.bind(this,t,n),i.onerror=idbError(options.complete)}if(options.complete){var txn=idb.transaction([DOC_STORE,BY_SEQ_STORE],"readonly"),objectStore=txn.objectStore(DOC_STORE),results=[],current,emit=function(e,t){var n={id:current._id,key:e,value:t};options.include_docs&&(n.doc=current.doc),results.push(n)};eval("fun.map = "+(""+fun.map)+";"),fun.reduce&&eval("fun.reduce = "+(""+fun.reduce)+";");var request=objectStore.openCursor();request.onerror=idbError(options.error),request.onsuccess=fetchMetadata}};return api};IdbPouch.valid=function idb_valid(){return document.location.host||console.warn("indexedDB cannot be used in pages served from the filesystem"),!!window.indexedDB&&!!document.location.host},IdbPouch.destroy=function idb_destroy(e,t){console.info(e+": Delete Database"),delete localStorage[e+"_id"],IdbPouch.Changes.clearListeners(e);var n=indexedDB.deleteDatabase(e);n.onsuccess=function(){call(t,null)},n.onerror=idbError(t)},IdbPouch.Changes=function(){var e={},t={};return e.addListener=function(e,n,r){t[e]||(t[e]={}),t[e][n]=r},e.removeListener=function(e,n){delete t[e][n]},e.clearListeners=function(e){delete t[e]},e.emitChange=function(e,n){if(t[e])for(var r in t[e]){var i=t[e][r];if(i.filter&&!i.filter.apply(this,[n.doc]))return;i.include_docs||delete n.doc,i.onChange.apply(i.onChange,[n])}},e}(),Pouch.adapter("idb",IdbPouch)}(this);var tmpl={};tmpl.log="    <p class='log log-<%- type %>'>    	<b>    		<small class='count'>    			<%- count %>    		</small>    	</b>    	<%- log %>    </p>",tmpl.doc_full="<div class='optionsbar'>    <a class='option editoption'>edit</a>    &nbsp;|&nbsp;    <a class='option deleteoption'>delete</a></div><h3 class='key'><%- key %></h3><pre class='value'><%= value %></pre>",tmpl.doc_collapsed="    <span class='key'><%- key %></span>    &nbsp;    <span class='value'><%- trunc %></span>",tmpl.doc_edit="    <textarea class='code-edit' name='code'><%= code %></textarea>    <button class='code-edit-save'>Save</button>",tmpl.tabs="    <div class='docs'></div>",tmpl.queryInput="    Map:     <textarea class='code-edit code-map' name='map'>function(doc) {\n\n\n}</textarea>    Reduce:     <textarea class='code-edit code-reduce' name='reduce'></textarea>    <button class='run'>Run Query</button>    <div class='docs'></div>    ",tmpl.db="    <h2><%- db_name %></h2>    <small>(database name)</small>    <p>        <b>doc_count: </b>        <%- doc_count %>    </p>    <p>        <b>update_seq: </b>        <%- update_seq %>    </p>    <div id='puton-toolbar'>    </div>    <div id='tabs'>    <div class='docs'></div>    </div>",tmpl.toolbar="	<a class='button' id='query'>Run Query</a>    <a class='button' id='adddoc'>Add document</a>    <div id='puton-tabbuttons'></div>",tmpl.tabbutton="<a class='tabbutton><%- label %></a>";var compiled={};_.each(_.keys(tmpl),function(e){compiled[e]=_.template(tmpl[e])}),tmpl=compiled;var Log=Backbone.View.extend({el:"#log",initialize:function(){var e=this;e.count=0,["log","info","error"].forEach(function(t){var n=console[t];console[t]=function(r){n.call(console,arguments[0]),e.log(r,t)}})},log:function(e,t){function n(e){var t;if($.isArray(e))return t=[],e.forEach(function(e){t.push(n(e))}),t;if("object"==typeof e){t=[];for(var r in e)e.hasOwnProperty(r)&&t.push({label:r,children:n(e[r])});return t}return[{label:e}]}t=t||"log","object"==typeof e?this.$el.prepend($('<div class="log-'+t+'"/>').tree({data:n(e),autoOpen:!0,slide:!1})):this.$el.prepend(tmpl.log({count:++this.count,log:e,type:t}))}}),App=Backbone.View.extend({el:"#puton-container",initialize:function(){},start:function(){this.logview=new Log,this.currentView=new v.Main({el:this.$("#puton-main")})},events:{changeView:"changeView",selectDB:"selectDB"},selectDB:function(e,t){var n=this;Pouch(t,function(e,t){if(e)return console.error(e),void 0;window.db=t;var r=new m.DB(null,{db:t});n.changeView(null,r)})},changeView:function(e,t){this.currentView=new v.DB({el:this.$("#puton-main"),model:t}),this.currentView.render()}}),v={};v.Main=Backbone.View.extend({events:{"keydown #db":"submit"},submit:function(e){if(13===e.keyCode){var t=this.$("#db").val();if(0===t.length)return;this.$el.trigger("selectDB",t)}}}),v.DB=Backbone.View.extend({initialize:function(){this.listenTo(this.model,"all",this.render)},events:{"click #adddoc":"addDoc","click #query":"query",deleteDocument:"deleteDocument",changeTab:"changeTab"},changeTab:function(e,t){t.render(),this.toolbar.active(t)},deleteDocument:function(e,t){var n=this;n.model.db.get(t,function(e,r){e&&console.log(e),n.model.db.remove(r,function(){n.model.docs.remove(t)})})},addDoc:function(e){var self=this,x=prompt("Document: ","{}").trim();try{if(0===x.length||"{"!==x[0]||"}"!==x[x.length-1])throw"Not a valid object";try{x=JSON.parse(x)}catch(err){eval("x="+x)}if("object"!=typeof x)throw"Not a valid object";self.model.db.put(x,function(e,t){e&&console.error(e),self.model.db.get(t.id,function(e,t){self.model.docs.add(t,{at:0})})})}catch(err){console.error(err)}},query:function(){var e=new v.Query({el:this.$(".docs"),db:this.model.db});this.toolbar.addtab(e),e.render()},render:function(){this.$el.html(tmpl.db(this.model.toJSON())),this.toolbar=new v.Toolbar({el:this.$("#puton-toolbar")});var e=new v.Documents({el:this.$(".docs"),collection:this.model.docs});e.render(),e.tabname="Main",this.toolbar.addtab(e)}}),v.Toolbar=Backbone.View.extend({initialize:function(){this.tabs=[],this.tabviews=[]},addtab:function(e){this.tabs.push(e),this.render(),this.active(e)},active:function(e){_.each(this.tabviews,function(t){t.view===e?t.$el.addClass("active"):t.$el.removeClass("active")})},render:function(){this.$el.html(tmpl.toolbar());var e=this;return this.tabs.length>1&&_.each(this.tabs,function(t,n){var r=new v.Tab({count:n,view:t});e.tabviews.push(r),e.$("#puton-tabbuttons").append(r.render().el)}),this}}),v.Tab=Backbone.View.extend({className:"tabbutton",initialize:function(e){this.count=e.count,this.view=e.view},events:{click:"changeTab"},changeTab:function(){this.$el.trigger("changeTab",this.view)},render:function(){return this.$el.html(this.view.tabname||"Query "+this.count),this}}),v.Query=Backbone.View.extend({initialize:function(e){this.state=0,this.db=e.db,this.docs=new m.Documents(null,{db:this.db,populate:!1})},events:{"click .run":"runQuery"},render:function(){var e=this;0===this.state&&this.$el.html(tmpl.queryInput()),e.cm={},["map","reduce"].forEach(function(t){e.cm[t]=CodeMirror.fromTextArea(e.$el.find(".code-"+t).get(0),{lineNumbers:!0,tabSize:4,indentUnit:4,indentWithTabs:!0,mode:"text/javascript"})}),e.cm.map.focus(),this.documentsView=new v.Documents({el:this.$el.find(".docs"),collection:this.docs}),this.documentsView.render()},runQuery:function(){var self=this,map=self.cm.map.getValue().trim(),reduce=self.cm.reduce.getValue().trim(),hasReduce,query={};eval("query.map = "+map),reduce?(eval("query.reduce = "+reduce),hasReduce=!0):hasReduce=!1,this.db.query(query,{reduce:hasReduce,include_docs:!0,conflicts:!0},function(e,t){self.docs.reset(),t.rows.forEach(function(e){self.docs.add({key:e.key,value:e.value})})})}}),v.Documents=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render)},render:function(){var e=document.createDocumentFragment();this.collection.each(function(t){var n=new v.Document({model:t,db:this.db});e.appendChild(n.render().el)}),this.$el.html(e)}}),v.Document=Backbone.View.extend({className:"doc",initialize:function(e){this.show="collapsed",this.db=e.db},render:function(){var e=this.model;if("collapsed"===this.show)this.$el.html(tmpl.doc_collapsed({key:e.toJSON().key||this.model.id,trunc:JSON.stringify(e.toJSON()).substring(0,20)+"..."}));else if("full"===this.show)this.$el.html(tmpl.doc_full({key:e.toJSON().key||this.model.id,value:syntaxHighlight(e.toJSON())})),this.model.id||this.$el.find(".optionsbar").hide();else if("edit"===this.show){var t=e.toJSON();["_rev","_id"].forEach(function(e){e in t&&delete t[e]}),this.$el.html(tmpl.doc_edit({code:JSON.stringify(t,void 0,2)})),this.codeEdit=CodeMirror.fromTextArea(this.$el.find(".code-edit").get(0),{lineNumbers:!1,tabSize:4,indentUnit:4,indentWithTabs:!0,mode:"application/json",autofocus:!0})}return this},saveEdit:function(e){var t=this;e.preventDefault(),e.stopPropagation();
var n=this.codeEdit.getValue().trim();try{if(!n||"{"!==n[0]||"}"!==n[n.length-1]||(n=JSON.parse(n))===!1)throw"Not a valid object";n._id=this.model.toJSON()._id,n._rev=this.model.toJSON()._rev,this.db.put(n,function(e){return e?console.error(e):(this.db.get(n._id,function(e,n){return e?console.error(e):(t.model.set(n),t.show="full",t.render(),void 0)}),void 0)})}catch(r){console.error(r),this.show="full",this.render()}},events:{"click .editoption":"editOption","click .deleteoption":"deleteOption",click:"toggleView","click .code-edit-save":"saveEdit"},editOption:function(e){e.preventDefault(),e.stopPropagation(),this.show="edit",this.render()},deleteOption:function(e){e.preventDefault(),e.stopPropagation(),confirm("Delete Document?")&&this.$el.trigger("deleteDocument",this.model.id)},toggleView:function(e){e.preventDefault(),e.stopPropagation(),"edit"!==this.show&&(this.show="collapsed"===this.show?"full":"collapsed",this.render())}});var m={};Backbone.Model.prototype.idAttribute="_id",m.Document=Backbone.Model.extend({}),m.Documents=Backbone.Collection.extend({initialize:function(e,t){var n=this;this.db=t.db,"populate"in t&&t.populate===!1||this.db.allDocs({include_docs:!0},function(e,t){n.add(_.pluck(t.rows,"doc"))})},model:m.Document}),m.DB=Backbone.Model.extend({initialize:function(e,t){var n=this;this.db=t.db,this.docs=new m.Documents(null,{db:this.db}),this.db.info(function(e,t){n.set(t)})},defaults:{db_name:"",doc_count:"",update_seq:""}}),m.Tab=Backbone.Model.extend({}),m.Tabs=Backbone.Collection.extend({initialize:function(){},model:m.Tab}),$(function(){var e="<div id='puton-container'>    <h1>Puton</h1>    <div id='puton-main'>        <b><label for='db'>db name: </label></b>        <input type='text' id='db'/>    </div>    <div id='log'></div></div>";$(e).appendTo($("body"));var t=new App;t.start()});